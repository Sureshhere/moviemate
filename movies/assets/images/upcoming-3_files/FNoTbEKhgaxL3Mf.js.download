!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";function d(a,b,c){var d=a.document.getElementById(b);d&&(d.style.display=c)}function e(a,b){var c=a.id||a.parentElement.id;a.style.display=b;for(var e=0;e<j.length;e++)d(window,c+j[e],b)}function f(a){e(a,"none")}function g(a){e(a,"block")}function h(a,b){d(a,b,"none")}function i(a,b){d(a,b,"block")}Object.defineProperty(c,"__esModule",{value:!0});var j=["_wrapper","_before","_after","_sponsored"];c.collapseAd=f,c.collapseElement=h,c.uncollapseAd=g,c.uncollapseElement=i},{}],2:[function(a,b,c){"use strict";!function(a,b,c,d){var e,f,g="top_ad injected_billboard injected_navstrip top_rhs middle_rhs btf_rhs2 rhs_cornerstone bottom_ad inline20 inline40 inline50 inline60 inline80 inlinebottom".split(" "),h="top_ad top_rhs injected_navstrip injected_billboard navboard".split(" "),i=window.top.ad_utils.slot_events,j=function(a){consoleLog(a,"ads-amazon-csm")},k={},l={},m={},n={},o=window.ue_t0;if("function"!=typeof a||"function"!=typeof b)return void j("uet() / uex() not available, will not record CSM metrics");for(f=0;f<g.length;f++)!function(c){i.listen(c,"iframe",function(){if(k[c]=(new Date).getTime(),a("bb",c,{wb:1}),d){var b=d("Content",{element:{slotId:c,type:"widget"}});b("mark","widget-begin",Date.now())}}),i.listen(c,"request",function(){l[c]=(new Date).getTime(),a("be",c,{wb:1})}),i.listen(c,"tagdeliver",function(){m[c]=(new Date).getTime(),a("af",c,{wb:1})}),i.listen(c,"reflow",function(b){var d=(new Date).getTime();0===b.data.duration&&o&&(d=o+10),n[c]=d,a("cf",c,{wb:1},d)}),i.listen(c,"load",function(){if(generic.monitoring){var e=generic.monitoring.get_remnant_partner(c),f=c+"."+e;if("none"!==e&&(a("bb",f,{wb:1},k[c]),a("be",f,{wb:1},l[c]),a("af",f,{wb:1},m[c]),a("cf",f,{wb:1},n[c]),b("ld",f,{wb:1})),b("ld",c,{wb:1}),d){var g=d("Content",{element:{slotId:c,type:"widget"}});g("mark","widget-end",Date.now()),g("mark","loaded",Date.now())}}})}(g[f]);window.top.ad_utils.ads_header.on_done(function(){var c=[],d=function(a){var b,c=0;for(b in a)c=Math.max(c,a[b]);return c};for(f=0;f<h.length;f++)e=h[f],e in window.top.ad_utils.slots_on_page&&c.push(e);j("determined core_slots: "+c.join(",")),i.listen_all(c,"iframe",function(){a("bb","core_ads",{wb:1},d(k))}),i.listen_all(c,"request",function(){a("be","core_ads",{wb:1},d(l))}),i.listen_all(c,"tagdeliver",function(){a("af","core_ads",{wb:1},d(m))}),i.listen_all(c,"reflow",function(){a("cf","core_ads",{wb:1},d(n))}),i.listen_all(c,"load",function(){b("ld","core_ads",{wb:1})})})}(window.uet,window.uex,window.ue,window.csa)},{}],3:[function(a,b,c){"use strict";!function(){var a=function(a){try{a()}catch(b){consoleError(b.message,"imdbads.cmd")}};window.imdbads=window.imdbads||{},imdbads.cmd=imdbads.cmd||[],window.top.ad_utils.ads_header.on_done(function(){var b=0,c=imdbads.cmd||[];for(b=0;b<c.length;b++)a(c[b]);imdbads.cmd={push:function(b){a(b)}}})}()},{}],4:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});c.adsBtrUtils={MRC_BTR_CLASS:"mrc-btr-creative",BTR_CLIENT:"btr_client",COD_CLIENT:"cod_client",completedSlots:[],isImageLoaded:function(a){return a&&a.complete&&a.naturalHeight>0&&a.naturalWidth>0},isVideoLoaded:function(a){return a&&a.currentTime>0},isElementLoaded:function(a){var b=void 0;return a&&"IMG"===a.tagName?b=this.isImageLoaded(a):a&&"VIDEO"===a.tagName?b=this.isVideoLoaded(a):!a||"P"!==a.tagName&&"SPAN"!==a.tagName&&"DIV"!==a.tagName||(b=!0),b},evaluateCreativeBtrCriteria:function(a){if(a){var b=a.getElementsByClassName(this.MRC_BTR_CLASS);if(b.length>0)return this.checkTaggedElementsLoaded(b)}return!1},checkTaggedElementsLoaded:function(a){for(var b=[],c=0,d=0,e=0;e<a.length;e++){var f=a[e];b.push(f),this.isElementLoaded(f)?d++:c++}return d>0&&0===c},markPixelBtrCompliant:function(a,b,c){if(a&&c){var d=b?this.BTR_CLIENT:this.COD_CLIENT,e=c.indexOf("?")>=0?"&":"?",f=encodeURIComponent('{"measurementMethod":"'+d+'"}');a.src=c+e+("pj="+f)}},markElementBtr:function(a){a&&a.classList&&a.classList.add(this.MRC_BTR_CLASS)},markSlotFired:function(a){this.completedSlots.push(a)},hasSlotFired:function(a){return this.completedSlots.includes(a)},createImpressionPixels:function(a,b,c,d){a&&a.length>0&&(a.forEach(function(a){var d=document.createElement("img");d.setAttribute("border","0"),d.setAttribute("height","1"),d.setAttribute("width","1"),d.setAttribute("alt",""),d.setAttribute("class","impression-tracker"),this.isAaxImpression(a)?this.markPixelBtrCompliant(d,c,a):d.setAttribute("src",a),b.appendChild(d)},this),this.markSlotFired(d))},isAaxImpression:function(a){var b=/http(s)+:\/\/aax[a-zA-Z\-]*\.amazon[a-zA-Z\-]*\.com/;return b.test(a)}}},{}],5:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0});var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),f=function(){function a(){d(this,a)}return e(a,[{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"frameDoc",value:function(a){var b="string"==typeof a?document.getElementById(a):a;if(!b||"IFRAME"===b.tagName)return b.src.length>0&&-1===b.src.indexOf("www.imdb.com")&&-1===b.src.indexOf("javascript:")?void window.generic.monitoring.record_event("iframe_not_sourceless_fdoc",!1):b.contentWindow?b.contentWindow.document:b.contentDocument}},{key:"getSlotWrapper",value:function(a){return document.getElementById(a+"_wrapper")}},{key:"getContextualFragment",value:function(a,b){if(!a||!b)return null;var c=a.createRange();return c?c.createContextualFragment(b):null}},{key:"appendContentToIframeDoc",value:function(a,b){if(null!==a){var c=this.getContextualFragment(a,b);null!==c&&a.body.appendChild(c)}}}]),a}();c["default"]=new f},{}],6:[function(a,b,c){"use strict";!function(a){a.install(a,{extended_split:function(a,b,c){for(var d,e=[],f=0;(!c||e.length<c-1)&&(d=a.indexOf(b,f),-1!==d);)e.push(a.substring(f,d)),f=d+b.length;return e.push(a.substring(f)),e},object_from_querystring:function(b){var c,d,e=b.split("&"),f={};if(""===b)return{};for(c=0;c<e.length;c++)d=a.extended_split(e[c],"=",2),f[d[0]]=1===d.length?null:decodeURIComponent(d[1]);return f},cookie:{set:function(a,b,c){var d,e,f,g;if(c){var h=new Date;h.setTime(h.getTime()+24*c*60*60*1e3),d="; expires="+h.toGMTString()}else d="";e=document.location.host.split("."),f=e.pop(),g=e.pop(),document.cookie=a+"="+escape(b)+d+"; path=/; domain="+g+"."+f},get:function(a){var b,c,d=document.cookie.split(";");for(b=0;b<d.length;b++)if("string"==typeof d[b]&&(c=d[b].split("="),c[0]&&c[1]&&c[0].replace(/\s/,"")===a))return unescape(c[1]);return null},erase:function(a){this.set(a,"",-1)}}})}(window.generic)},{}],7:[function(a,b,c){"use strict";window.IMDbTimer&&window.IMDbTimer.events&&!function(a,b,c){generic.send_csm_head_metrics=function(){a.record("csm_head_pre_title",c.csm_head_pre_title-b),a.record("csm_head_post_title",c.csm_head_post_title-b),a.record("csm_head_pre_css",c.csm_head_pre_css-b),a.record("csm_head_post_css",c.csm_head_post_css-b),a.record("csm_head_pre_icon",c.csm_head_pre_icon-b),a.record("csm_head_post_icon",c.csm_head_post_icon-b),a.record("csm_head_pre_ads",c.csm_head_pre_ads-b)}}(csm,IMDbTimer.starttime,IMDbTimer.events)},{}],8:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}var e=a(40),f=d(e),g=a(45);!function(a,b,c){var d=a.generic=a.generic||{},e={},h=a.IMDbTimer,i="IMDbTimer"in a?a.IMDbTimer.starttime:NaN,j=b.location.hash.match("debug=1"),k=j||!isNaN(i)&&Math.random()<.2,l=j||Math.random()<.25,m="none",n="1P",o={load:1,trueload:1,reflow:1,request:1,tagdeliver:1,iframe:1},p=function(){var b={},e={},f={top_ad:1,top_rhs:1,injected_navstrip:1,injected_billboard:1,navboard:1,bottom_ad:2,middle_rhs:2,btf_rhs2:2,rhs_cornerstone:2,inline80:2},g={top_ad:1,top_rhs:1,bottom_ad:1},h={reflow:1,"ad-delivery":1,load:1},i={};return d.on_document_ready(function(e){e(a).on("beforeunload",function(){var a,e;for(a in b)e=b[a],e.request&&e.load===c&&d.monitoring.record_event("ad_load_failure."+a);d.monitoring.send_metrics()})}),{is_slot_monitored:function(a){return a in f||a in g},is_twilight_slot:function(a){return a in f},is_twilight_core_slot:function(a){return a in f&&1===f[a]},is_forester_slot:function(a){return a in g},is_forester_event:function(a,b){return this.is_forester_slot(a)&&b in h},set_metric_value:function(a,c,d){(b[a]=b[a]||{})[c]=d},get_metric_value:function(a,c){return a in b?b[a][c]:void 0},core_slots:function(){var a,b={};for(a in f)1===f[a]&&(b[a]=1);return b},record_slot_status:function(a){var b=a.match(/^(.*)\.(got_ad|null|blank|fail)$/);b&&(i[b[1]]=b[2])},core_slots_have_an_ad:function(){var a,b=!1;for(a in p.core_slots()){if(!(a in i))return null;"got_ad"===i[a]&&(b=!0)}return b},set_partner:function(a,b){return e[a]=b,this},get_partner:function(a){return e[a]},set_remnant_partner:function(a,b){return p.set_partner(a,b)},get_remnant_partner:function(a){return p.get_partner(a)}}}(),q="https://www.imdb.com/twilight/?",r=function(){var b,c=function(){var a="DART";return{prepare_and_send_metric:function(b,c,d,e){f({slot:c,ad_network_name:a,aid:b.aid,cid:b.cid,slot_event:d,time:e})}}}(),e=function(){var b="PDA",c=20,d=100;return{prepare_and_send_metric:function(e,g,h){var i,j,k=c;(j=function(){i=a.top.ad_utils.get_cornerstone_ad_object(e),i?f({slot:e,ad_network_name:b,aid:i.adId,cid:i.creativeId,slot_event:g,time:h}):--k&&setTimeout(j,d)})()}}}(),f=function(c){var e,f,g,h,i,k,m,n,o,q,r;l&&p.is_forester_slot(c.slot)&&(e="https://fls-na.amazon.com/1/display-ads-cx/1/OP/?",f="LMET",g="imdb",h=a.top.ad_utils.get_mapped_amazon_slot_name(c.slot),i=b,k=c.ad_network_name,m=c.aid,n=c.cid,q=c.time,o=c.slot_event,r='{"s":"'+g+'","l":"'+h+'","p":"'+i+'","n":"'+k+'","a":"'+m+'","c":"'+n+'","m":"'+o+'","v":"'+q+'"}',j&&consoleLog(r+" metrics sent","forester"),d.one_way_send(e+f+escape(r)))};return{send_forester_metric:function(a,b,d,f){c.prepare_and_send_metric(a,b,d,f),e.prepare_and_send_metric(b,d,f)},set_page_type:function(a){b=a}}}();a.csm=function(){var a={};return{measure:function(a,b){this.record(a,this.duration(),b)},record:function(b,c,e,f){var g,h=a[b];if(k&&!csm.metrics[b]&&d.monitoring.record_metric(b+(f?f:""),c,e),csm.metrics[b]=c,h){for(g=0;g<h.length;g++)try{h[g](c,b)}catch(i){consoleLog("error invoking callback for "+b,"csm")}delete a[b]}},duration:function(a){return(a?a:+new Date)-i},listen:function(b,c){b in csm.metrics?setTimeout(c,0):(a[b]=a[b]||[]).push(c)},metrics:{}}}(),d.monitoring={event_starts:{},event_stops:{},events_to_stop:0,event_duration:{},event_counters:[],all_events_started_flag:!1,twilight_info:"",twilight_client:function(){var a,b=navigator.userAgent;return a=b.match(/MSIE (\d+)/),a&&a[1]>=6?"ie"+a[1]:(a=b.match(/Mac OS.*Firefox\/(\d+)/))?"3"===a[1]?"firefox3-mac":"firefox-mac":(a=b.match(/Firefox\/(\d+)/),a?"3"===a[1]?"firefox3":"firefox":-1!==b.indexOf("Chrome")?"chrome":-1!==b.indexOf("Safari")?"safari":-1!==b.indexOf("Opera")?"opera":"Other")}(),isTwilightActiveSample:k,page_type:"",start_timing:function(a){this.start_timing_at(a,(new Date).getTime())},start_timing_at:function(a,b){this.event_starts[a]=b,this.events_to_stop++},stop_timing:function(a,b,c){var d=(new Date).getTime(),e=a;this.event_starts[a]&&(this.event_stops[a]=d,b&&(e+="."+b),this.record_metric(e,d-this.event_starts[a]),delete this.event_starts[a],this.events_to_stop--,(c||this.all_events_started_flag&&0===this.events_to_stop)&&this.send_metrics())},record_event:function(a,b){var c;if(this.event_counters.push(a),a in e)for(weblab in e[a])c=a+"__weblab_"+weblab,this.event_counters.push(c),consoleLog(c,"twilight");consoleLog(a,"twilight"),b&&this.send_metrics()},record_metric:function(a,b,c){var d,f;if(p.record_slot_status(a),this.event_duration[a]=b,consoleLog(a+","+b,"twilight"),a in e)for(d in e[a])f=a+"__weblab_"+d,this.event_duration[f]=b,consoleLog(f+","+b,"twilight");c&&this.send_metrics()},send_metrics:function(){var b,c,e=q+this.twilight_info,f=[],g=0,h="",i=function(a,b){f.push(function(){return g++,"&Operation."+g+"="+a+"&OperationTiming."+g+"="+b})},j=function(a){f.push(function(){return g++,"&Counter."+g+"="+a})},k=function(){h.length&&(d.one_way_send(e+h+"&ord="+a.top.ad_utils.ord),consoleLog("metrics sent ("+g+")","twilight"),h="",g=0)},l=1700;for(b in this.event_duration)i(b,this.event_duration[b]);for(this.event_duration={},c=0;c<this.event_counters.length;c++)j(this.event_counters[c]);for(this.event_counters=[],c=0;c<f.length;c++)h+=f[c](),h.length+e.length>l&&k();k()},set_twilight_info:function(a,b,c,d,e,f){h&&"java"===h.pt&&(a+=".java"),this.twilight_info="PageType="+a+"&Geo="+b+"&tw_ord="+c+"&timestamp="+d+"&Client="+this.twilight_client+"&Site="+f,q=e},set_forester_info:function(a){r.set_page_type(a)},all_events_started:function(){this.all_events_started_flag=!0},set_partner:function(a,b){var c=g.getSlotName(a);p.set_partner(c,b)},set_partner_by_slot:function(a,b){p.set_partner(a,b)},get_partner:function(a){return p.get_partner(a)||m},set_remnant_partner:function(a,b){d.monitoring.set_partner(a,b)},get_remnant_partner:function(a){return d.monitoring.get_partner(a)},set_remnant_partner_fallback:function(a,b){var c=p.get_partner(a);"undefined"==typeof c?p.set_partner(a,b):p.set_partner(a,c+"_"+b)},update_slot_metrics:function(b,e,g){var h,i=a.top.ad_utils.get_slot_iframe(b),j=null,k="."+d.monitoring.get_partner(b);if(f["default"].isSafeframeSlot(b,i)){if(!(e in o))return;j=f["default"].getSfAdObject(b)}else j=i&&i.contentWindow&&i.contentWindow.document?i.contentWindow.document.ad:null;b&&p.is_slot_monitored(b)&&p.get_metric_value(b,e)===c&&(p.set_metric_value(b,e,c!==g?g:csm.duration()),h=p.get_metric_value(b,e),j&&p.is_forester_event(b,e)&&(r.send_forester_metric(j,b,e,h),"load"===e&&r.send_forester_metric(j,b,"ad-delivery",p.get_metric_value(b,"load")-p.get_metric_value(b,"request"))),p.is_twilight_slot(b)&&(csm.record("csm_"+b+"_"+e,h,0,k),"load"===e&&"."+m!==k&&"."+n!==k&&csm.record("csm_"+b+"_deliver",h-p.get_metric_value(b,"tagdeliver"),0,k),p.is_twilight_core_slot(b)&&s.send(e)))},update_sf_slot_metrics:function(b){var c=JSON.parse(b);if(c&&c.slot&&c.event)if("reflow"===c.event)f["default"].fireSfReflowMetric(c.slot);else if("fireload"===c.event){var e=a.top.ad_utils.get_slot_iframe(c.slot);e.onload=function(){f["default"].onSfAdLoad(c.slot)}}else d.monitoring.update_slot_metrics(c.slot,c.event)},get_metric_value:function(a,b){return p.get_metric_value(a,b)},enable_weblab_metrics:function(a,b,c){var d,f;for(d=0;d<c.length;d++)f=c[d],e[f]=e[f]||{},e[f][a+"_"+b]=1}},d.on_document_ready(function(c){var e;c(a).on("beforeunload",function(c){var d=(b.location+"").split("#",2)[0];a.name="clicktoresponse:"+(new Date).getTime()+":"+d}),d.monitoring.isTwilightActiveSample&&(csm.measure("csm_ready"),c(a).on("load",function(){csm.measure("csm_load",!0)}),c("div.dfp_slot").each(function(){d.monitoring.record_event("dfp_slot")}),e=parseInt(c("#servertime").attr("time"),10),isNaN(e)||d.monitoring.record_metric("csm_server",e))}),function(){if("http:"===b.location.protocol){var c,e=a.name.match(/^clicktoresponse:(\d+):(.*)$/);e&&(b.referrer===e[2]&&h&&(c=h.starttime-e[1],h.clicktoresponse=c,d.monitoring.record_metric("click_to_response",c)),a.name="")}}();var s=function(){var b,e=[],f=p.core_slots(),g={},h=!1,i=function(){var a;if(!h){h=!0,consoleLog("Finalized core ads on current page: "+e.join(","));for(a in g)s.send(a)}};for(b in f)a.top.ad_utils.slot_events.listen(b,"iframe",function(a){e.push(a.slot),e.length===f.length&&i()});return d.on_document_ready(i),{send:function(a){var b,d,f=0;if(h){for(d=0;d<e.length;d++){if(b=p.get_metric_value(e[d],a),c===b)return;f=Math.max(f,b)}csm.record("csm_core_ads_"+a,f)}else g[a]=1}}}()}(window,document)},{40:40,45:45}],9:[function(a,b,c){"use strict";!function(a){var b=["mediaviewer_banner"],c=["inline20","inline40","inline50","inline60","inline80","inlinebottom"],d={},e={},f=function(a,b,c,d){var e=new h(b,c,d?d:{});try{a(e)}catch(f){consoleError(f)}},g=function(a,b){return a+":"+b},h=function(a,b,c){this.slot=a,this.event=b,this.data=c},i=function(a,b){return function(){0===--b&&a.apply(this,arguments)}};a.slot_events={listen:function(a,c,h){if(!(b.indexOf(a)>-1)){var i,j,k,l=c.replace(/(^\s+|\s+$)/g,"").split(/\s+/);for(k=0;k<l.length;k++)j=l[k],i=g(a,j),i in e?f(h,a,j,e[i]):(d[i]=d[i]||[]).push(h);return this}},listen_all:function(a,b,c){var d,e=i(c,a.length);for(d=0;d<a.length;d++)this.listen(a[d],b,e)},trigger:function(a,h,i){if(!(b.indexOf(a)>-1)){var j,k=g(a,h),l=d[k]||[],m=k.split(":")[0];if(k in e&&(m?!c.includes(m):!0))return generic.monitoring.record_event(k+"_already_fired",!1),void consoleError("attempted to fire "+k+", but it has already fired!");for(e[k]=i,j=0;j<l.length;j++)f(l[j],a,h,i);return this}},has_fired:function(a,b){return g(a,b)in e}}}(window.top.ad_utils)},{}],10:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g=a(5),h=d(g),i=a(40),j=d(i),k=a(28),l=d(k),m=a(27),n=d(m),o=a(31),p=d(o),q=a(20),r=d(q),s=a(42),t=a(45),u=a(1),v=a(41),w=a(11),x=a(54),y=a(36),z=a(34),A=a(24),B=a(25),C=a(4),D=a(46);String.prototype.startsWith||(String.prototype.startsWith=function(a,b){return this.slice(b||0,a.length)===a}),function(a,b,c){var d=a.ads_js_start?(new Date).getTime()-a.ads_js_start:null,g=navigator.userAgent,i=/MSIE|Trident\/\d+/.test(g),k=/Firefox/.test(g),m=a.generic,o={top_ad:"t",top_rhs:"tr"},q={injected_billboard:"top_ad",injected_navstrip:"top_ad",navboard:"top_ad"},E={top_ad:{width:"728px",height:"300px"},injected_billboard:{width:"970px",height:"500px"},top_rhs:{width:"988px",height:"320px"}},F={b:1,l:1,bl:1},G=function(a){var c=b.getElementById(a),d=j["default"].getSafeframeDiv(a);return d&&"IFRAME"!==d.tagName?d.getElementsByTagName("iframe")[0]:c},H=function(a,b,c){a.attachEvent?a.attachEvent("on"+b,function(){c.apply(a,arguments)}):a.addEventListener(b,c,!1)},I=1e16*Math.random(),J={},K=function(){var c,d,e="as",f=function(){var a="{";d&&("h"in d&&(a+=g("h")),"h"in d&&"n"in d&&(a+=","),"n"in d&&(a+=g("n"))),a+="}",m.cookie.set(e,a,m.days_to_midnight||1)},g=function(a){var b="";return jQuery.each(d[a],function(a,c){b+='"'+a+'":['+i(c[0])+","+i(c[1])+"],"}),'"'+a+'":{'+b.substr(0,b.length-1)+"}"},h=function(){var a=m.cookie.get(e);if(a)try{d=JSON.parse(a),c=c||d||{}}catch(b){c=c||(d={})}},i=function(a){var b=parseInt(a,10);return isFinite(b)?b:0},j=function(){return"/"===b.location.pathname?"h":"n"},k=function(b,c){var d=a.top.ad_utils.get_ad_object(b[0]);return"none"===b.css("display")?0:parseInt(d.w,10)},l=function(b,c){var d=0,e=a.top.ad_utils.get_ad_object(b[0]),f=parseInt(e.h,10);return"top_ad"===c?jQuery("#nb20").hasClass("banner")?d=-5:jQuery("#nb20").hasClass("supertab")&&(d=-15):"injected_billboard"===c&&(d=20),b.id&&"swfAutoMaxHeight"in b[0].contentWindow&&(f=b[0].contentWindow.swfMinHeight),"none"===b.css("display")||0===f?0:f+d},n=function(a){var b=$("#"+a);return 0!==b.length&&"IFRAME"!==b[0].tagName&&(b=b.find("iframe")),b},o={top_ad:"t",top_rhs:"tr",injected_navstrip:"in",injected_billboard:"ib",bottom_ad:"b",btf_rhs2:"br"};return{store:function(){m.on_document_ready(function(a){var b;try{h(),d=d||{},b=d[j()]||{},a.each(o,function(a,c){var d=n(a);0!==d.length&&(b[c]=[k(d,a),l(d,a)])}),d[j()]=b,f()}catch(c){consoleLog("Failed to store ad size cookie "+c.toString(),"ads")}})}}}();a.ad_size_cookie=K,y.initializeResponsiveAdApi();var L=function(){var c=function(a,c){var d=h["default"].frameDoc(a);k||d.open("text/html","replace");var e="";return e="https:"===location.protocol?'<head><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"/></head><body>'+c+"<script>document.close()</script></body>":"<body>"+c+"<script>document.close()</script></body>",l["default"]()?void setTimeout(function(){var c=b.getElementById(a.id);null!==c&&c.contentWindow.document.write(e)},0):void d.write(e)},d=function(b,c){var d="__srcless_"+Math.floor(68719476735*Math.random()).toString(36),e="<body><script>document.write(parent.window.top.ad_utils."+d+");delete parent.window.top.ad_utils."+d+";</script></body>";a.top.ad_utils[d]=c,b.src="javascript:unescape('"+escape(e)+"')"},e=function(a){return a&&0===a.indexOf("<!-- blank -->")};return{inject_slot:function(b,f){var g=b.id,h=b.getAttribute("data-dart-params")||"",k='<style>body{background:transparent;}</style><script type="data-doubleclick" src="https://ia.media-imdb.com/images/G/01/mobile/blank_pixel._V137875076_.gif'+h+'"></script>'+f,l=k+"<script defer>parent.window.top.ad_utils.ad_table."+g+".fired=true;</script>";return j["default"].isSafeframeSlot(g,b)&&!e(f)&&(a.DAsf||a.MAsf)?void j["default"].injectCode(g,k):void(i?d(b,l):c(b,l))}}}();a.top.ad_utils={responsiveAdAPI:y.responsiveAdAPI,adsBtrUtils:C.adsBtrUtils,tarnhelmAdUtils:D.tarnhelmAdUtils,mediaOrchestratorBridge:z.mediaOrchestratorBridge,ord:I,regenerateOrd:function(){a.consoleLog("Regenerating Client Side Ord","ads"),I=1e16*Math.random(),a.top.ad_utils.ord=I},ad_table:{},ad_navbar:{},ad_queue:[],low_latency_punt_ads:{},blank_ad_code:"<script>document.ad={h:0,w:0,scope:'blank'}</script>",slots_on_page:null,dateCheck:r["default"],isInViewport:n["default"],registerClickTrackers:p["default"],get_slot_iframe:G,scaleTarnhelm:v.scaleTarnhelm,initAndBindResponsiveBackupLogic:w.initAndBindResponsiveBackupLogic,aax_instr_pixel_url:{},aax_imp_pixel_url:{},update_ad_details:j["default"].updateAdDetails,set_partner:j["default"].setPartner,get_safeframe_ad_objs:j["default"].getSafeframeAdObjs,sf_ad_details:{},removeOpacityAnimation:function(a,b){if(a&&b){var c=h["default"].getSlotWrapper(b);c&&(c.classList.remove("iframe_tweening"),a.classList.remove("ad_fadein"))}},setup_slot_metrics:function(b){a.top.ad_utils.slot_events.listen(b,"iframe request reflow tagdeliver load",function(a){var b=a.data.duration,d=a.data.timestamp;b===c&&d&&(b=csm.duration(d)),m.monitoring.update_slot_metrics(a.slot,a.event,b)}),a.top.ad_utils.slot_events.listen(b,"request",function(a){var b=a.slot;m.monitoring.start_timing(b)}),a.top.ad_utils.slot_events.listen(b,"request tagdeliver",function(b){var c,d=b.slot,e=a.top.ad_utils.inject_ad.get_injectable_slots(d);for(c=0;c<e.length;c++)a.top.ad_utils.slot_events.trigger(e[c],b.event,b.data)}),a.top.ad_utils.slot_events.listen(b,"load",function(a){var c=a.data.type;c?m.monitoring.stop_timing(b,c,!0):consoleError(a.slot+" loaded, but type was not reported"),m.monitoring.update_slot_metrics(a.slot,"trueload")}),a.top.ad_utils.slot_events.listen(b,"punt",function(a){var b=a.event+"_"+a.data.type;m.monitoring.update_slot_metrics(a.slot,b)})},constructClientSideUrl:x.constructClientSideUrl,mobileWebCreativeResizing:v.mobileWebCreativeResizing,isInternetExplorer:s.isInternetExplorer,isIpad:s.isIpad,isResponsive:l["default"],makeAtfSlotsCall:B.makeAtfSlotsCall,register_ad:function(b){a.top.ad_utils.setup_slot_metrics(b),a.top.ad_utils.slot_events.trigger(b,"iframe"),this.ad_table[b]={slot:b}},gpt:function(){var b=null,c=[];return{handle_response:function(a){var d;for(b=a,d=0;d<c.length;d++)this.render_ad(c[d])},render_ad:function(d){var e,f,g,h;return b?(e=b[d]||{},f=G(d),g=e._html_||"",h=null!==f.getAttribute("data-roadblocked"),h&&(g="<!-- roadblocked -->"+a.top.ad_utils.blank_ad_code,a.top.ad_utils.slot_events.trigger(d,"request",{duration:0})),void L.inject_slot(f,g)):void c.push(d)}}}(),expand_ad:function(c){var d=this,e=c.id,f=c.height,g=c.width;if(e=j["default"].getRawSlotName(e),!("expand_called"in this.ad_table[e])){var i,k=h["default"].getSlotWrapper(e),l=k.id,n=this.get_ad_object(c),o=csm.duration(),p=b.getElementById(e+"_reflow_helper");p?p.offsetTop:null;if(e+"_wrapper"!==l&&!m.has_document_readied())return void m.on_document_ready(function(){d.expand_ad(c)});if(this.ad_table&&this.ad_table[e]){this.ad_table[e].expanded=1;var q=w.initAndBindResponsiveBackupLogic(c.contentWindow);if(n&&!q&&(b.ads||(b.ads={}),b.ads[n.cid]=n,a.top.ad_utils.resize_iframe(c,n),n.st?this.expand_supertab(n):n.bb?this.expand_billboard(n):"top_ad"!==e||!this.is_open(e,n)||n.clickroll||n.overlay||this.expand_top_banner(),n.wrap&&this.expand_wrap(n),n.bamf&&this.expand_bamf(n,c),n.inner_bamf&&this.expand_inner_bamf(n),n.relative_bamf&&this.expand_relative_bamf(n),this.is_open(e,n)?a.top.ad_utils.show_hidden_labels(e):this.collapse_ad(c),n.styles))for(i in n.styles)m.override_style(i,n.styles[i].style);this.ad_table[e].expand_called=1,m.on_document_ready(function(a){a(c).trigger("expand_ad")}),a.top.ad_utils.fire_reflow_metric(e,n,g,f,c.width,c.height),a.top.ad_utils.fire_tagdeliver_metric(e,o),K.store(),b.body.className=b.body.className}}},resize_iframe:function(a,b){"w"in b&&(a.width=parseInt(b.w,10)),"h"in b&&(a.height=b.expandHeight?parseInt(b.expandHeight,10):parseInt(b.h,10)),"z"in b&&b.z&&(slot_wrapper.style.zIndex=b.z,slot_wrapper.style.position="relative")},show_hidden_labels:function(a){var c=b.getElementById(a+"_before"),d=b.getElementById(a+"_after");c&&this.display_label(c),d&&this.display_label(d)},fire_reflow_metric:function(c,d,e,f,g,h){var i=csm.duration(),j=b.getElementById(c+"_reflow_helper"),k=j?j.offsetTop:null;f===h&&e===g?a.top.ad_utils.slot_events.trigger(c,"reflow",{duration:0}):setTimeout(function(){var b="top_ad"===c&&a.top.ad_utils.is_open(c,d)&&!d.st?10:0,e=j&&j.offsetTop===k+b;a.top.ad_utils.slot_events.trigger(c,"reflow",{duration:e?0:i})},10)},fire_tagdeliver_metric:function(b,c){b in q||a.top.ad_utils.slot_events.has_fired(b,"tagdeliver")||a.top.ad_utils.slot_events.trigger(b,"tagdeliver",{duration:c})},get_ad_object:function(b){var c=b.id;if(j["default"].isSafeframeSlot(c,b))return j["default"].getSfAdObject(c);var d=h["default"].frameDoc(b),e=null;if(null==d)return void consoleLog("Cannot get document back from iframe");if(e=d.ad)"pid"in e||(e.pid="DFP"),"instrPixel"in e||(e.instrPixel=a.top.ad_utils.aax_instr_pixel_url[c.toUpperCase()]);else{var f,g,i,k=0,l=0,m=["img","object","embed","iframe"];for(g in m)for(i=d.getElementsByTagName(m[g]),f=0;f<i.length;f++){var n,o,p=i[f];n=p.scrollWidth||p.width,o=p.scrollHeight||p.height,n&&n>1&&(k=Math.max(k,parseInt(n,10))),o&&o>1&&(l=Math.max(l,parseInt(o,10))),consoleLog(c+" : estimated size : "+n+","+o,"ads")}e={w:k.toString(),h:l.toString(),pid:"",url:"",aid:"0",cid:"0",instrPixel:a.top.ad_utils.aax_instr_pixel_url[c.toUpperCase()]},(0===k||0===l)&&(e.scope="null")}return d.ad=e,e},get_cornerstone_ad_object:function(a){var b=o[a]+"adData";return"aanResponse"in top.document&&b in top.document.aanResponse?top.document.aanResponse[b]:null},get_mapped_amazon_slot_name:function(a){return o[a]?o[a]:a},on_ad_load:function(b){if(b&&b.src.length>0&&-1===b.src.indexOf("www.imdb.com")&&-1===b.src.indexOf("javascript:"))return void m.monitoring.record_event("iframe_not_sourceless",!1);var c,d,e,f=b.id,g=this.ad_table[f];if(!g||!g.fired)return void consoleLog("deflected spurious onload event for "+f,"on_ad_load");this.responsiveAdAPI&&(this.responsiveAdAPI.events.adIframeLoad(f),this.responsiveAdAPI.checkShouldMakeAdSticky(b)),c=this.get_ad_object(b),d=this.get_type_of_ad(c),g.loaded=!0,!c||"blank"!==c.scope&&"null"!==c.scope||(e="0"===b.getAttribute("data-original-width")&&"0"===b.getAttribute("data-original-height")?0:m.monitoring.get_metric_value(f,"reflow"));try{g.expanded||(this.expand_ad(b),A.globalizeCss(b.contentWindow))}catch(h){consoleLog("Exception during expand_ad:"+h.message)}a.top.ad_utils.slot_events.trigger(f,"load",{duration:e,type:d})},is_open:function(a,b){var c=G(a),d=c&&c.getAttribute("data-first-party-creative-template");return"top_ad"===a&&d?b&&"w"in b&&"h"in b&&b.w>0&&b.h>0&&"blank"!==b.scope:b&&"blank"!==b.scope},expand_supertab:function(a){var c=b.getElementById("nb15"),d=b.getElementById("nb20");c?c.className="supertab":d&&(d.className="supertab")},expand_billboard:function(d){function e(){var a,b=m.cookie.get(z),c=b&&b.split(/o|c/),d=b&&b.split(/\d*/),e={};if(c&&d)for(""===d[0]&&d.shift(),a=0;a<d.length;++a)e[c[a]]=d[a];n=e}function f(){var a,b="";new Date;for(a in n)n.hasOwnProperty(a)&&(b+=a+n[a]);m.cookie.set(z,b,m.days_to_midnight||1)}function g(){s.style.display="none",u||A?k():m.on_document_ready(i)}function i(){j(),k()}function j(){if(!A&&(u=b.getElementById("top_rhs_wrapper"),v=u?u.parentElement||u.parentNode:null,u))try{t.parentNode.removeChild(o),v.insertBefore(o,u),o.style.marginRight="",o.style.marginTop=""}catch(a){consoleLog("caught a duplicate call to attempt_reattach_show_ad_button","ads")}}function k(){x!==c&&""!==x&&(o.style.display="block"),e(),n[d.aid]="c",f(),K.store(),t.style.margin="0px",A=!0}function l(){o.style.display="none",s.style.display="block",e(),n[d.aid]="o",f(),K.store(),t.style.margin="20px 19px"}var n,o,p=b,q=parent,r="injected_billboard",s=G(r),t=h["default"].getSlotWrapper(r),u=b.getElementById("top_rhs_wrapper"),v=u?u.parentElement||u.parentNode:null,w=d.bb_close_tracker,x=d.bb_show,y=d.bb_show_tracker,z="ax",A=!1;return t?(t.className=(t.className?t.className+" ":"")+"billboard",o=p.createElement("div"),o.id="billboard_show_button",o.style.display="none",v?v.insertBefore(o,u):(a.top.ad_utils.slot_events.listen("top_rhs","iframe",function(){j()}),o.style.marginRight="19px",o.style.marginTop="7px",t.parentNode.insertBefore(o,t)),1===d.bb&&(q.window.top.ad_utils.ns.register("billboard","close",function(){g(),"undefined"!=typeof w&&w()}),o.innerHTML=x,o.onclick=function(){l(),"undefined"!=typeof y&&y()},e(),d.aid in n&&"c"===n[d.aid]&&g()),!0):!1},expand_top_banner:function(){var a=b.getElementById("nb15");if(a)a.className="banner";else{var c=b.getElementById("top_ad");c&&(c.style.margin="auto")}},expand_bamf:function(a,b){var c=a.bamf;m.extend(b.style,c.style)},expand_inner_bamf:function(a){var c=a.inner_bamf,d=b.getElementById(c.targetId);d&&c.node&&m.insert_after(c.node,d)},expand_relative_bamf:function(a){var c,d=a.relative_bamf,e=b.getElementById(d.targetId);"insert_after"===d.relation?c=m.insert_after:"insert_before"===d.relation?c=m.insert_before:"insert_inside"===d.relation&&(c=m.insert_inside),e&&d.node&&c(d.node,e)},expand_wrap:function(a){a.styles||(a.styles={});var c;if(a.sleeves)c={wrapper:{style:{background:a.wrap}},root:{style:{background:"none","box-shadow":"none"}},pagecontent:{style:{height:"100%"}}};else{var d,f="styleguide-v2",g=!(!b.getElementById("imdbHeader")||b.getElementById("imdbHeader").parentNode===b.getElementById("nb20"));if(g){f="wrapper";var h=a.wrap.indexOf("fixed")>-1,i=b.getElementById("wrapper");h&&null!==i&&i.style.setProperty("background-attachment","scroll","important")}d={},e(d,f,{style:{background:a.wrap}}),e(d,"root",{style:{"background-color":"transparent","box-shadow":"none"}}),e(d,"pagecontent",{style:{height:"100%"}}),e(d,"nb20",{style:{background:"none"}}),c=d}m.extend(a.styles,c)},expand_label:function(a){a.className=a.className.replace(/hidden/,"")},display_label:function(a){a.style.display="block",a.style.visibility="visible"},collapse_ad:u.collapseAd,uncollapse_ad:u.uncollapseAd,get_type_of_ad:function(a){return a?a.scope?a.scope:"got_ad":"null";
},report_ad_data:function(a,b){var c,d=a,e={};if(d!==top){try{for(;d.parent!==top;)d=d.parent;c=t.getSlotName(d)}catch(f){return void consoleLog("could not determine ad slot: "+f)}$.each("aid cid pid url dom dim".split(" "),function(a,c){c in b&&(e[c]=b[c])})}},ns:function(){var a={},b=function(a,b,d){var e;e="string"==typeof a?a:a.frameElement.id,c(e)[b]=d},c=function(b){return a[b]=a[b]||{}};return{register:b,get:c}}(),inject_ad:function(){var b={},c={},d={},e=function(a){consoleLog(a,"inject_ad")};return{render:function(c){var f=G(c),g=b[c];d[c]||(e(c+" rendered"),d[c]=1,a.top.ad_utils.ad_table[c]={slot:c,injected:!0},g?L.inject_slot(f,g):L.inject_slot(f,'<script>document.ad = {h:"0",w:"0",scope:"blank"}</script>'))},register:function(d){var f=q[d],g=this;e(d+" registered"),c[d]=1,b[d]?g.render(d):a.top.ad_utils.slot_events.listen(f,"load",function(){g.render(d)}),a.top.ad_utils.setup_slot_metrics(d),a.top.ad_utils.slot_events.trigger(d,"iframe")},inject:function(a,d){e(a+" injected"),b[a]=d,c[a]&&this.render(a)},get_injectable_slots:function(a){var b,c=[];for(b in q)q[b]===a&&c.push(b);return c}}}(),weblab:function(){var a={};return{set_treatment:function(b,c){a[b]=c},get_treatment:function(b){return a[b]}}}(),attach_aax_callback:function(a,b){b.aax_render_ad=function(c){c&&c.html?(b.document.write(c.html),b.document.got_aax_ad="got_ad"):b.document.got_aax_ad="blank",b.top.ad_utils.slot_events.trigger(a,"tagdeliver")}},set_aax_instrumentation_pixel_url:function(b,c){a.top.ad_utils.aax_instr_pixel_url[b.toUpperCase()]=c},set_aax_impression_pixel_url:function(b,c){a.top.ad_utils.aax_imp_pixel_url[b.toUpperCase()]=c},inject_serverside_ad:function(b,c){var d=G(b),e=null!==d.getAttribute("data-roadblocked"),f=null!==d.getAttribute("data-blank-serverside");a.top.ad_utils.slot_events.trigger(b,"request",{duration:0}),e?c="<!-- roadblocked -->"+a.top.ad_utils.blank_ad_code:f&&(c="<!-- blank -->"+a.top.ad_utils.blank_ad_code),L.inject_slot(d,c)},aax_render_ad:function(b){var c=G(b),d=c.getAttribute("data-aax-url"),e="<script>parent.window.top.ad_utils.attach_aax_callback('"+b+"', window);</script><script src=\""+d+'"></script>';c.onload=function(){var d,e=a.top.ad_utils.ad_table[b];return e&&e.fired?("got_ad"!==h["default"].frameDoc(c).got_aax_ad?(c.style.display="none",d="blank"):d=h["default"].frameDoc(c).got_aax_ad,void a.top.ad_utils.slot_events.trigger(b,"load",{type:d})):void consoleLog("deflected spurious cornerstone onload event for "+b,"aax_render_ad")},a.top.ad_utils.slot_events.trigger(b,"request"),L.inject_slot(c,e)},register_punt_ad:function(a,b,c,d){this.low_latency_punt_ads[a]={w:b,h:c,markup:d}},inject_punt_ad:function(b,c){var d=b.frameElement,e=d.id,f=h["default"].frameDoc(d),g=null,i=null,j=f&&f.ad&&f.ad.aid?f.ad.aid:"0",k=f&&f.ad&&f.ad.cid?f.ad.cid:"0";e in this.low_latency_punt_ads?(g=this.low_latency_punt_ads[e],f.ad={w:g.w,h:g.h,pid:"",url:"",aid:j,cid:k},this.expand_ad(d),i=g.markup.replace(/\[PUNT_ORIGIN\]/,encodeURIComponent('{"punt_origin":"'+c+'"}')),f.write(i),a.top.ad_utils.slot_events.trigger(e,"punt",{type:"got_ad"})):a.top.ad_utils.slot_events.trigger(e,"punt",{type:"blank"})},fp:function(){return a.imdbads.frequencyCapping}(),tandem:function(){var c={};return{register_swf:function(a,b){return consoleLog("Register swf: "+a+" "+b,"Tandem"),c[b]?(consoleError("swf already registered: "+a+" "+b,"Tandem"),!1):void(c[b]={id:a})},send_message:function(d,e,f){var g,j,k=c[d];if(consoleLog("Sending message: "+d+" "+e+" "+f,"Tandem"),!k)return consoleError("Attempted message to : "+d+" before registered.","Tandem"),!1;for(j in a.top.ad_utils.ad_table)h["default"].frameDoc(j)&&h["default"].frameDoc(j).getElementById(k.id)&&(g=h["default"].frameDoc(j).getElementById(k.id));var l=b.getElementById(k.id);l&&(g=l);try{return i?g.receiveTimelineMessage(f,e):g.getElementsByTagName("embed")[0].receiveTimelineMessage(f,e),!0}catch(m){return consoleError("Unable to call receiveTimelineMessage on: "+d,"Tandem"),consoleError(m),!1}}}}(),set_slots_on_page:function(b){a.top.ad_utils.slots_on_page=b},ads_header:function(){var a=!1,b=[];return{on_done:function(c){if(a)try{c()}catch(d){consoleWarn(d)}else b.push(c)},done:function(){var c;for(a=!0,c=0;c<b.length;c++)try{b[c]()}catch(d){consoleWarn(d)}b=null}}}(),is_qualified_expanding:function(a){var b=E[a.slot];return b&&a.width.replace(/px/g,"")<=b.width.replace(/px/g,"")&&a.height.replace(/px/g,"")<=b.height.replace(/px/g,"")&&F[a.direction]?!0:!1},expand_overlay:function(c){var d=JSON.parse(c);if(d&&d.slot&&d.width&&d.height&&d.direction&&a.top.ad_utils.is_qualified_expanding(d)){var e=a.top.ad_utils.get_slot_iframe(d.slot);if("undefined"!=typeof e){e.style.position="absolute",e.style.width=d.width,e.style.height=d.height;var f=b.getElementById(d.slot);switch(d.direction){case"l":a.top.ad_utils.expand_left(e,d,f);break;case"b":a.top.ad_utils.expand_bottom(e,d,f);break;case"bl":a.top.ad_utils.expand_left(e,d,f),a.top.ad_utils.expand_bottom(e,d,f)}}}},expand_general:function(a,b,c){var d="top_ad"==c.slot?300:100;a.style.zIndex=d,b.style.width=a.width,b.style.height=a.height},expand_left:function(b,c,d){b.style.marginLeft="-"+(c.width.replace(/px/g,"")-b.width.replace(/px/g,""))+"px",a.top.ad_utils.expand_general(b,d,c)},expand_bottom:function(b,c,d){a.top.ad_utils.expand_general(b,d,c)},collapse_overlay:function(c){var d=JSON.parse(c);if(d&&d.slot&&j["default"].getSfAdObject(d.slot)){var e=a.top.ad_utils.get_slot_iframe(d.slot);e&&(e.style.position="",e.style.width="",e.style.height="",e.style.zIndex="",e.style.marginLeft="",e.style.marginTop="",b.getElementById(d.slot).style.marginTop="")}}},m.install(m,{should_jQuery_noConflict:a.$&&!a.jQuery,one_way_send_record:[],insert_after:function(a,b){try{b.parentNode.insertBefore(a,b.nextSibling)}catch(c){b.parentNode.appendChild(a)}},insert_before:function(a,b){b.parentNode.insertBefore(a,b)},insert_inside:function(a,b){b.appendChild(a)},extend:function(a,b){var c;for(c in b)"object"===f(b[c])?a[c]!==b[c]&&("undefined"==typeof a[c]&&(a[c]={}),this.extend(a[c],b[c])):a[c]=b[c]},override_style:function(a,b,c){var d,e="#"+a;for(d in b)b[d]+=" !important";m.add_json_style(e,b,c)},add_json_style:function(a,b,c,d){var e,f=a+"{";for(e in b)f+=e+":"+b[e]+";";f+="}",m.add_css_style(f,c,d)},add_css_style:function(a,c,d){var e,f,g,h="css-style-generic",i=[h];c&&c.length?i.push(c):c=h,d||(d="a");for(g in i)b.getElementById(i[g])||(e=b.createElement("style"),e.setAttribute("type","text/css"),e.id=i[g],b.getElementsByTagName("head")[0].appendChild(e));if(e=b.getElementById(c),e.styleSheet&&"cssText"in e.styleSheet)f=("a"===d?e.styleSheet.cssText:"")+a,e.styleSheet.cssText=f;else{f=("a"===d?e.innerHTML:"")+a;try{e.innerHTML=f}catch(j){e.innerText=f}}},add_css_file:function(a,c){c||(c="css-file-generic");var d=b.getElementById(c);d||(d=b.createElement("link"),d.setAttribute("type","text/css"),d.rel="stylesheet",d.id=c,b.getElementsByTagName("head")[0].appendChild(d)),d.href=a},set:function(a,b){var c=a.split(":");"cookie"===c[0]?m.cookie.set(c[1],b):m.cache.set(c[1],b)},get:function(a){var b=a.split(":");return"cookie"===b[0]?m.cookie.get(b[1]):m.cache.get(b[1])},erase:function(a){var b=a.split(":");return"cookie"===b[0]?m.cookie.erase(b[1]):m.cache.erase(b[1])},cache:{set:function(a,b){J[a]=b},get:function(a){return J[a]},erase:function(a){delete J[a]}},load_script:function(a){var c=b.createElement("script");c.type="text/javascript",c.src=a,b.getElementsByTagName("head")[0].appendChild(c)},load_script_notify:function(a,c){var d=b.createElement("script"),e=!1;d.type="text/javascript",d.src=a,d.onload=d.onreadystatechange=function(){var f=this.readyState;e||f&&"complete"!==f&&"loaded"!==f||(e=!0,b.body.removeChild(d),"function"==typeof c&&c(a))},b.body.appendChild(d)},one_way_send:function(a){var b=new Image(0,0);b.src=a,this.one_way_send_record.push(b)},load_when_visible:function(b,c){var d=0,e=jQuery(a),f=e.height()+e.scrollTop();if(jQuery("#"+b).length){var g=jQuery(jQuery("#"+b).get(0)),h=g.offset().top;f>h?c(b):e.scroll(function(){f=e.height()+e.scrollTop(),h=g.offset().top,f>h&&!d&&(d=1,c(b))})}else c(b)},unload_plugins:function(){for(var a,c,d,e,f,g=[b],i=new RegExp("^("+location.protocol+"//"+location.hostname+")?(/.*)?$"),j=function(a){var b,c;for(b=a.length-1;b>=0;b--)c=a[b],c.parentNode.removeChild(c)};g.length;)for(a=g.pop(),j(a.getElementsByTagName("object")),j(a.getElementsByTagName("embed")),c=a.getElementsByTagName("iframe"),f=c.length-1;f>=0;f--)d=c[f],i.test(d.src)?(e=h["default"].frameDoc(d),e&&g.push(e)):j([d])},addEventListener:function(a,b,c){H(a,b,c)}}),a.custom={amazon:{load_callback:function(a){}},indirect:{close:function(a){a.location.href.match("floater")&&custom.floater.close(t.getSlotName(a))}},full_page:{style_id:"custom__full_page__generated_styles",PLAID_CSS_MAP:{base:"--ipt-base-rgb",baseShade1:"--ipt-base-shade1-rgb",baseShade2:"--ipt-base-shade2-rgb",baseShade3:"--ipt-base-shade3-rgb",onBase:"--ipt-on-base-rgb",onBaseAccent1:"--ipt-on-base-accent1-rgb",onBaseAccent2:"--ipt-on-base-accent2-rgb",onBaseAccent3:"--ipt-on-base-accent3-rgb",onBaseError:"--ipt-on-base-error-rgb",baseAlt:"--ipt-baseAlt-rgb",baseAltShade1:"--ipt-baseAlt-shade1-rgb",baseAltShade2:"--ipt-baseAlt-shade2-rgb",baseAltShade3:"--ipt-baseAlt-shade3-rgb",onBaseAlt:"--ipt-on-baseAlt-rgb",onBaseAltAccent1:"--ipt-on-baseAlt-accent1-rgb",onBaseAltAccent2:"--ipt-on-baseAlt-accent2-rgb",onBaseAltAccent3:"--ipt-on-baseAlt-accent3-rgb",onBaseAltError:"--ipt-on-baseAlt-error-rgb",accent1:"--ipt-accent1-rgb",onAccent1:"--ipt-on-accent1-rgb",accent2:"--ipt-accent2-rgb",onAccent2:"--ipt-on-accent2-rgb"},apply_PLAID_styles:function(a){var b=this._transform_PLAID_style_input(a),c=this._construct_PLAID_CSS_string(b);c&&c.length&&m.add_css_style(c,this.style_id,"a")},_transform_PLAID_style_input:function(a){var b={};for(var c in a)if(a.hasOwnProperty(c)&&a[c]&&"undefined"!==a[c]&&"null"!==a[c]){var d=this.PLAID_CSS_MAP[c];if(d){var e=a[c];b[d]=e.startsWith("#")?this.hex_to_RGB(e)||e:e}}return b},_construct_PLAID_CSS_string:function(a){if(Object.keys(a).length<1)return null;var b=["\n",":root {"];for(var c in a){var d="   "+c+": "+a[c]+";";b.push(d)}return b.push("}"),b.length>3?b.join("\n"):null},apply_PLAID_theme:function(){var a=!1;return function(){if(!a)switch(this.theme){case"dark":a=!0;var b={base:this.to_CSS_var_string(this.PLAID_CSS_MAP.baseAlt),baseShade1:this.to_CSS_var_string(this.PLAID_CSS_MAP.baseAltShade1),baseShade2:this.to_CSS_var_string(this.PLAID_CSS_MAP.baseAltShade2),onBase:this.to_CSS_var_string(this.PLAID_CSS_MAP.onBaseAlt),onBaseAccent2:this.to_CSS_var_string(this.PLAID_CSS_MAP.onBaseAltAccent2)};this.apply_PLAID_styles(b);break;case"light":a=!0;var c={baseAltShade2:this.to_CSS_var_string(this.PLAID_CSS_MAP.baseShade2),onBaseAltAccent2:this.to_CSS_var_string(this.PLAID_CSS_MAP.onBaseAccent2)};this.apply_PLAID_styles(c);break;default:return}}}(),apply_fast:function(a,b){var c,d,e,f,g,h=this.styles[a.treatment],i=[];for(c in h)if(h.hasOwnProperty(c)){d=h[c];for(var j=0;j<d.length;j++)e=d[j],g=this.get_values_for_setting(e,a,b),g&&(f=this.build_rule(e.selector,c,g,e.important),i.push(f))}m.add_css_style(i.join("\n"),this.style_id,"o"),this.apply_PLAID_theme()},get_values_for_setting:function(a,b,c){var d=c?null:a["default"];return a.fixed?d=a.fixed:a.name in b&&(d=b[a.name]),"string"==typeof d&&(d=[d]),d},build_rule:function(a,b,c,d){for(var e="",f="",g=0;g<c.length;g++)e+="  "+b+" : "+c[g]+(d?" !important":"")+";\n";return f=a+"{\n"+e+"}\n"},apply:function(c){var d=this;b.getElementById("root").style.boxShadow="none",a.generic.on_document_ready(function(){d.settings=c,"styles"in d?d._apply():a.generic.load_script_notify(d.data_url,function(){d._apply()})})},_apply:function(){var a,b=this.settings.ARGS.split(/&/),c={},d=this,e="/* ARGS:"+this.settings.ARGS+" */\n";jQuery.each(b,function(a,b){var d=/^(.*)=(.*)$/.exec(b);3===d.length&&(c[d[1]]=unescape(d[2].replace(/\+/g," ")))}),a=this.invert_styles(c.treatment),jQuery.each(a,function(a,b){b.fixed?e+=d.format_css(b,b.fixed):(c[a]||b["default"])&&(e+=d.format_css(b,c[a]))});try{jQuery("style#"+this.style_id).remove(),jQuery("head").append(jQuery('<style type="text/css">').attr("id",this.style_id).html(e))}catch(f){m.add_css_style(e,this.style_id,"o")}},invert_styles:function(a){var b=["default","important","fixed"],c={};return jQuery.each(this.styles[a],function(a,d){jQuery.each(d,function(d,e){var f=c[e.name]={style:a,selector:e.selector};jQuery.each(b,function(a,b){e[b]&&(f[b]=e[b])})})}),c},format_css:function(a,b){return a.selector+" { "+a.style+" : "+(b?b:a["default"])+(a.important?" !important;":";")+"}\n"},hex_to_RGB:function(a){var b=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;a=a.replace(b,function(a,b,c,d){return b+b+c+c+d+d});var c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return c?""+this.to_hex(c[1])+","+this.to_hex(c[2])+","+this.to_hex(c[3]):null},to_hex:function(a){return parseInt(a,16)},to_CSS_var_string:function(a){return"var("+a+")"}},css:{inject_css:function(c,d){a.generic.on_document_ready(function(){var a=c.getElementById(d),e=b.head;m.insert_inside(a,e)})}}};var M=function(a,b){return b?'<param name="'+a+'" value="'+b+'">':""},N=function(a,b){return b?" "+a+'="'+b+'" ':""};a.flashAdUtils={makeFlashAd:function(d){var e,f,g,h=d.id,i=d.src,j=d.width,k=d.height,l=d.bgcolor,m=d.wmode||"opaque",n=d.salign,o=d.scale,p=d.extraParams,q=d.extraTAGs,r=d.minVersion,s=escape(d.clickThru),t=d.clickTAGs,u=function(a){return null!==a&&a!==c&&(a+"").length},v=function(a){return isFinite(parseInt(a,10))},w="";if(!(u(h)&&u(i)&&v(j)&&v(k)))return void consoleLog("makeFlashAd: Missing required params","flashAdUtils");if(flashAdUtils.canPlayFlash(r)||consoleLog("makeFlashAd: Current flash version too low","flashAdUtils"),t)for(e=0;e<t.length;e++)t[e]&&(w=w+"&clickTAG"+(e+1)+"="+escape(t[e]));if(q)for(f in q)w=w+"&"+escape(f)+"="+escape(q[f]);w+="&ord="+a.top.ad_utils.ord,w+=b.getElementById("navbar")?b.getElementById("megaMenu")?"&navbar=mega":"&navbar=legacy":"&navbar=null";var x="",y="";try{var z={width:1,height:1,src:1,bgcolor:1,wmode:1,salign:1,scale:1,flashvars:1};for(g in p)z[g]||(x+=M(g,p[g]),y+=N(g,p[g]))}catch(A){}var B=M("bgcolor",l),C=N("bgcolor",l),D=M("wmode",m),E=N("wmode",m),F=M("scale",o),G=N("scale",o),H=M("salign",n),I=N("salign",n),J='<object  classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"  codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0"  width="'+j+'"  height="'+k+'"  id="swf_'+h+'"><param name="movie" value="'+i+'"><param name="flashvars" value="env=WEB&clickTAG='+s+"&"+w+'"><param name="play" value="true"><param name="quality" value="high"><param name="allowScriptAccess" value="always">'+F+H+B+D+x+'<div style="margin-left:0.1px"><embed src="'+i+'"  flashvars="env=WEB&clickTAG='+s+"&"+w+'"  quality="high"  play="true"  width="'+j+'"  height="'+k+'"  name="swf_'+h+'"  allowScriptAccess="always"  type="application/x-shockwave-flash"  pluginspage="http://www.macromedia.com/go/getflashplayer" '+G+I+C+E+y+"></embed></div></object>";return J},canPlayFlash:function(a){var b=!1,c=parseInt(a,10);a=!a||9>c?9:c;var d=navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]?navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin:0;if(d&&navigator.plugins["Shockwave Flash"]){var e,f,g=navigator.plugins["Shockwave Flash"].description.split(" ");for(f=0;f<g.length;++f)isNaN(parseInt(g[f],10))||(e=parseInt(g[f],10));b=e>=a}else if(navigator.userAgent&&navigator.userAgent.indexOf("MSIE")>=0&&-1!==navigator.appVersion.indexOf("Win"))try{var h=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+a);h.AllowScriptAccess="always";var i=h.GetVariable("$version"),j=i.match(/([0-9]+)/);b=j[1]>=a}catch(k){}return b}},K.store(),m.on_document_ready(function(b){b(a).on("load",function(){K.store()})}),m.on_document_ready(function(){H(a,"unload",function(){m.unload_plugins()})}),d&&m.on_document_ready(function(){m.monitoring.record_metric("ads_js_response",d)})}(window,document)},{1:1,11:11,20:20,24:24,25:25,27:27,28:28,31:31,34:34,36:36,4:4,40:40,41:41,42:42,45:45,46:46,5:5,54:54}],11:[function(a,b,c){"use strict";function d(a){return"undefined"!=typeof a.tarnhelm_backup?(e.handleTarnhelmBackupImg(a),!0):"undefined"!=typeof a.backup_static?(f.handlePremiumStaticResponsiveBackup(a),!0):!1}Object.defineProperty(c,"__esModule",{value:!0}),c.initAndBindResponsiveBackupLogic=void 0;var e=a(47),f=a(29);c.initAndBindResponsiveBackupLogic=d},{29:29,47:47}],12:[function(a,b,c){"use strict";function d(a,b,c,d,e){if(a&&a()){var f=c();f?e(f):d()}else b()}function e(a,b,c,e,f,g){d(b,c,e,f,g),a.parent.onresize=function(){d(b,c,e,f,g)}}Object.defineProperty(c,"__esModule",{value:!0}),c.bindBackupImage=e},{}],13:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return m.isDesktop()&&l["default"]()&&n.isInline40(a)}function f(a){return m.isMobile()&&l["default"]()&&n.isInline40(a)}function g(a){return e(a)||f(a)}function h(a){return e(a)&&m.getBrowserWidth(a)<o}function i(a){return f(a)&&m.getBrowserWidth(a)>p}function j(a){return function(){return m.isInternetExplorer()||m.isIpad()||h(a)||i(a)}}Object.defineProperty(c,"__esModule",{value:!0}),c.shouldShowBackupSupplierResponsive=c.shouldShowBackupMobileWeb=c.shouldShowBackupDesktop=c.isResponsiveBackupSlot=void 0;var k=a(28),l=d(k),m=a(42),n=a(45),o=1024,p=767;c.isResponsiveBackupSlot=g,c.shouldShowBackupDesktop=h,c.shouldShowBackupMobileWeb=i,c.shouldShowBackupSupplierResponsive=j},{28:28,42:42,45:45}],14:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a){return btoa(encodeURIComponent(a).replace(/%([0-9A-F]{2})/g,function(a,b){return String.fromCharCode("0x"+b)}))}},{}],15:[function(a,b,c){"use strict";!function(a,b){a.imdbads=a.imdbads||{},a.imdbads.frequencyCapping=function(){var c=function(){try{return d&&!e?"undefined"!=typeof mraidbridge&&"undefined"!=typeof mraidbridge.localstorage?mraidbridge.localstorage:void 0:(d&&e&&null!==a.localStorage&&(a.localStorage.setItem("foo","foo"),a.localStorage.removeItem("foo")),a.localStorage)}catch(b){return void 0}},d=/iphone|ipad|ipod/i.test(a.navigator.userAgent.toLowerCase()),e=null!==b.domain.match(/imdb/g),f="IMDbAdvertisingFrequencyCapping",g=function(){var b;if(c()&&a.JSON){if(b=c().getItem(f))try{return JSON.parse(b)}catch(d){c().removeItem(f),console.log("Could not deserialize persistence variable")}return{}}return null},h=function(b){c()&&a.JSON&&c().setItem(f,JSON.stringify(b))},i=function(){var a,b=g();if(b){for(a in b)j(b[a])&&delete b[a];h(b)}},j=function(a){return a&&a.l&&a.l>l?!1:!0},k=(new Date).getTime(),l=k-864e5;return a.generic&&a.generic.on_document_ready?a.generic.on_document_ready(i):"complete"==b.readyState?i():a.addEventListener("load",i,!1),{should_autoplay:function(a){var b=g();return b?j(b[a]):!1},log_autoplay:function(b){var c=g();c?(c[b]={l:k},h(c)):(console.log("Autoplay logged, but localStorage is not available!"),a.generic&&a.generic.monitoring&&a.generic.monitoring.record_event&&a.generic.monitoring.record_event("flash_persistence_failure",!0))},clear_autoplay:function(){h({})}}}()}(window,document)},{}],16:[function(a,b,c){"use strict";a(23),a(21),a(18),a(49),a(15),a(10),a(22),a(19),a(9),a(6),a(8),a(7),a(2),a(3),a(30),a(43),a(56)},{10:10,15:15,18:18,19:19,2:2,21:21,22:22,23:23,3:3,30:30,43:43,49:49,56:56,6:6,7:7,8:8,9:9}],17:[function(a,b,c){"use strict";a(16),a(50)},{16:16,50:50}],18:[function(a,b,c){"use strict";window.consoleLog=function(a,b,c){var d,e=window.consoleLog,f=document.location,g=f.hash.match("debug=1"),h="error"===c||g;b?(e[b]=e[b]||[]).push(a):b="global",d=b+" : "+a,(e.global=e.global||[]).push(d);try{if(!h)return;window.console&&(window.console[c]?window.console[c](d):window.console.log&&window.console.log(d))}catch(i){}},window.consoleWarn=function(a,b){consoleLog(a,b,"warn")},window.consoleError=function(a,b){consoleLog(a,b,"error")}},{}],19:[function(a,b,c){"use strict";!function(a,b,c){var d=a.custom=a.custom||{};d.strings=function(){return{chained_replace:function(a){var b,c=this;for(b=0;b<a.length;b++){var d=a[b];c=c.replace(d[0],d[1])}return c}}}()}(window,document)},{}],20:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a,b){for(var c=new Date((new Date).toDateString()).valueOf(),d=[],e=0,f=0,g=0,h=void 0,i=0;i<a.length;i++)try{var j=a[i].startDate,k=a[i].endDate,l=null==j||""===j,m=null==k||""===k;if(l&&m){b?h=i:d.push(i);continue}e=l?0:new Date(j.replace(/-/g,"/")).valueOf(),f=m?c+1:new Date(k.replace(/-/g,"/")).valueOf(),b&&(0===e||c>=e&&e>g)&&(g=e,h=i),!b&&c>=e&&f>c&&d.push(i)}catch(n){"consoleLog"in window&&window.consoleLog("Date checking failed for "+a[i].toString()+" with error: "+n.toString(),"ppb","error"),window.ueLogError&&window.ueLogError(n)}return b?h:d}},{}],21:[function(a,b,c){"use strict";!function(a){a.install(a,{document_readys:[],document_is_ready:function(){var b,c=a.document_readys;if(a.document_readys=null,null!==c)for(b=0;b<c.length;b++)try{c[b](jQuery)}catch(d){}a.should_jQuery_noConflict&&jQuery.noConflict(!1)},on_document_ready:function(b){a.has_document_readied()?b(jQuery):a.document_readys.push(b)},has_document_readied:function(){return null===a.document_readys},vanilla_on_document_ready:function(a){"complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState?a():window.addEventListener("DOMContentLoaded",function(b){a()})}})}(window.generic)},{}],22:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}var e=a(5),f=d(e);!function(a,b){var c=a.custom=a.custom||{};c.floater={close:function(a){var c=b.getElementById(a);c.style.width="0px",c.style.height="0px"},launch:function(a,d,e,g,h,i,j,k){var l=b.createElement("iframe"),m="string"==typeof e?b.getElementById(e):e;"none"!==d&&setTimeout(function(){c.floater.close(i)},1e3*d),generic.extend(l,{id:i,name:i,className:k,width:a[0]+"px",height:a[1]+"px",frameBorder:"0",scrolling:"no",allowTransparency:"true",style:{marginLeft:h[0]+"px",marginTop:h[1]+"px",zIndex:h[2],position:"absolute"}}),g(l,m),f["default"].isFirefox()?l.onload=function(){var a=f["default"].frameDoc(l);f["default"].appendContentToIframeDoc(a,j)}:setTimeout(function(){var a=f["default"].frameDoc(l);f["default"].appendContentToIframeDoc(a,j)},0)},set:function(a,b,d,e,f,g,h){var i=Math.ceil(9999999*Math.random()),j="floater_"+i,k="floater_"+h;return c.floater.launch(b,d,e,f,g,j,a,k),j}}}(window,document)},{5:5}],23:[function(a,b,c){"use strict";!function(){window.generic=window.generic||{},window.generic.install=function(a,b){var c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}}()},{}],24:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return a+"-imdb-adtech-global-css"}function f(a){if(i["default"]()&&a){var b=a.top.document.body,c=a.document.getElementsByClassName(j),d=g.getSlotName(a),f=e(d),h=b.getElementsByClassName(f);if(b){for(var k=0;k<h.length;k++)b.removeChild(h[k]);for(var l=0;l<c.length;l++){var m=c[l];m.classList.add(f),b.prepend(m)}}}}Object.defineProperty(c,"__esModule",{value:!0}),c.globalizeCss=void 0;var g=a(45),h=a(28),i=d(h),j="imdb-adtech-global-css";c.globalizeCss=f},{28:28,45:45}],25:[function(a,b,c){"use strict";function d(a){window.ue&&"function"==typeof window.ue.count&&window.ue.count("AdAJAXRequest",1),window.ueLogError&&window.ueLogError(a)}function e(a,b,c,e){if("undefined"!=typeof window&&(window.AdSlots={},window.AdSlotsLoading=!0,a&&!window.hasAdAJAXCallFired)){var g=window.top.ad_utils.constructClientSideUrl(b,c,e);if(!window.top.ad_utils.getAdsForSlotsUrl||window.top.ad_utils.getAdsForSlotsUrl!==g){window.hasAdAJAXCallFired=!0,"function"==typeof window.uet&&window.uet("bb","AdAJAXRequest",{wb:1});try{var h=new XMLHttpRequest;h.onreadystatechange=function(){if(4===this.readyState&&200===this.status){window.ue&&"function"==typeof window.ue.count&&window.ue.count("AdAJAXRequest",0);var a=JSON.parse(h.responseText);window.top.ad_utils&&window.top.ad_utils.responsiveAdAPI&&window.top.ad_utils.responsiveAdAPI.handleAdServiceResponse(a),window.AdSlots=a?a.slotsMap:{},window.AdSlotsLoading=!1,window.top.ad_utils.getAdsForSlotsUrl=g}"function"==typeof window.uex&&window.uex("ld","AdAJAXRequest",{wb:1})},h.onerror=function(a){d(a),window.mediaOrchestrator&&Object.keys(e).forEach(function(a){window.mediaOrchestrator.publish(f.NO_AD_TO_LOAD_EVENT_NAME,{slotName:a,timestamp:Date.now(),type:"",dispatcher:"ajax-request"})})},h.open("GET",g,!0);var i=new RegExp("^https?://next.[^.]+.desktop.imdb.com"),j=new RegExp("^https://www.dev.imdb.com");(i.test(g)||j.test(g))&&(h.withCredentials=!0),h.send()}catch(k){d(k)}}window.hasAdAJAXCallFired=!1}}Object.defineProperty(c,"__esModule",{value:!0}),c.makeAtfSlotsCall=e;var f=a(32)},{32:32}],26:[function(a,b,c){"use strict";function d(a,b,c,d,e){return'<a href="'+a+'" target="'+b+'"><img src="'+c+'" width="'+d+'" height="'+e+'" border=0 /></a>'}function e(a,b){return!h.isIpad()&&!h.isInternetExplorer()||a?a:b}function f(a,b,c,d){if((h.isIpad()||h.isInternetExplorer())&&!a)return{width:b,height:c};var e=d.split("x");return e.length<2?{width:0,height:0}:{width:e[0],height:e[1]}}function g(a,b,c,g,h,i,j){return function(){var k=e(a,b);if("undefined"==typeof k||!k)return k;var l=f(a,h,i,j);return d(c,g,k,l.width,l.height)}}Object.defineProperty(c,"__esModule",{value:!0}),c.responsiveImageGenerator=c.getSize=c.getImage=void 0;var h=a(42);c.getImage=e,c.getSize=f,c.responsiveImageGenerator=g},{42:42}],27:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a){var b=a.getBoundingClientRect();return b.top>=0&&b.left>=0&&b.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&b.right<=(window.innerWidth||document.documentElement.clientWidth)}},{}],28:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(){return null!==window.top.document.getElementById("IMDbHomepageSiteReactViews")||null!==window.top.document.getElementById("__next")}},{}],29:[function(a,b,c){"use strict";function d(a){function b(){e.isResponsiveBackupSlot(a)&&"ad"!==t&&(f.uncollapseAd(a.frameElement),f.collapseElement(a,n),f.uncollapseElement(a,m),f.uncollapseElement(a,o),j.isMobile()?(h.removeWrapperSize(a),h.mobileWebCreativeResizing(a,r,s)):h.scaleWrapperToWidth(a,r,r,s),t="ad")}function c(){return p}function d(){"collapsed"!==t&&(f.collapseAd(a.frameElement),t="collapsed")}function k(){if("backup"!==t){f.uncollapseAd(a.frameElement);var b=i.getSize(p,0,0,q);h.scaleWrapperToWidth(a,b.width,b.width,b.height),f.uncollapseElement(a,n),f.collapseElement(a,m),f.collapseElement(a,o),t="backup"}}var l=a.backup_static||{},m=l.adLinkId||"static-ad-link",n=l.backupLinkId||"static-backup-link",o=l.additionalHtml||"static-extra-html",p=l.responsiveImage||"",q=l.size||"0x0",r=l.renderWidth||0,s=l.renderHeight||0;l.adState="";var t="",u=e.shouldShowBackupSupplierResponsive(a);g.bindBackupImage(a,u,b,c,d,k)}Object.defineProperty(c,"__esModule",{value:!0}),c.handlePremiumStaticResponsiveBackup=void 0;var e=a(13),f=a(1),g=a(12),h=a(41),i=a(26),j=a(42);c.handlePremiumStaticResponsiveBackup=d},{1:1,12:12,13:13,26:26,41:41,42:42}],30:[function(a,b,c){"use strict";!function(a,b,c){a.custom.parallax={init:function(c){a.generic.on_document_ready(function(){var d=c.getElementById("parallax"),e=b.getElementById("root");generic.insert_before(d,e);var f=c.getElementById("skrollr_core_src").innerHTML;b.getElementById("skrollr_core_dest").innerHTML=f,a.skrollr&&a.skrollr.init({mobileCheck:function(){return!1},smoothScrolling:!0});for(var g=1;10>=g;g++){var h=b.getElementById("parallax_layer"+g);h&&(custom.parallax.seen["parallax_layer"+g]={obj:h,seen:!1})}b.addEventListener("scroll",custom.parallax.scrollListener)})},seen:{},interactionTrackers:{},scrollListener:function(){for(var a,c,d=1;10>=d;d++)a=custom.parallax.seen["parallax_layer"+d],a&&!a.seen&&(c=a.obj.getBoundingClientRect().top-b.documentElement.clientHeight<-100,c&&((new Image).src=custom.parallax.interactionTrackers["parallax_layer"+d],a.seen=!0))}}}(window,document)},{}],31:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=function(a){a.addEventListener("click",function(){var b=a.getAttribute("data-ct-count");if(b&&b>0)for(var c=0;b>c;c++){var d=a.getAttribute("data-ct-"+c);if(d){var e=new Image;e.src=d}}})}},{}],32:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});c.AD_LOADED_EVENT_NAME="adLoaded",c.AUTOPLAY_VIDEO_MAYBE_PRESENT_EVENT_TYPE="1P-ad-autoplay-video-maybe-present",c.BLANK="blank",c.HOME_PAGE_TYPE="home",c.INLINE20_PAGE_BACKGROUND_CLASS="inline20-page-background",c.LARGE_BREAKPOINT=1024,c.LOADSTART="loadstart",c.MEDIA_PLAYBACK_EVENT_NAME="mediaPlaybackEvent",c.PAGE_WRAPPER_CLASSNAME="ipc-page-wrapper",c.PRIMARY_ADS_LOADED_EVENT_NAME="primaryAdsLoaded",c.NO_AD_TO_LOAD_EVENT_NAME="noAdToLoad",c.NO_AUTOPLAY_VIDEO_DETECTED_EVENT_TYPE="no-autoplay-video-ad-detected",c.NO_PRIMARY_ADS_TO_LOAD_EVENT_NAME="noPrimaryAdsToLoad",c.PLAY="play",c.PLAID_STYLE_OVERRIDES_ID="plaid-style-overrides-id",c.THIRD_PARTY_AD_DETECTED_EVENT_TYPE="3P-ad-no-autoplay-video-detected",c.TITLE_PAGE_TYPE="title",c.NAME_PAGE_TYPE="name",c.WRAP_BACKGROUND_DIV_TAG_ID="ipc-wrap-background-id",c.WRAP_BACKGROUND_STYLE_TAG_ID="wrap-background-styles"},{}],33:[function(a,b,c){"use strict";function d(){return this.adVideoAutoplayBufferInterval}function e(){return this.hasPremiumAd}function f(){return this.lastAAXResponse}function g(){return this.lastAdResponse}function h(){return this.plaidOverrides}function i(){return this.previousWindowWidth}function j(){return this.responsiveResizingDisabledSlotsMap}function k(a){return a+"_responsive_wrapper"}Object.defineProperty(c,"__esModule",{value:!0}),c.getAdVideoAutoplayBufferInterval=d,c.getHasPremiumAd=e,c.getLastAAXResponse=f,c.getLastAdResponse=g,c.getPlaidOverrides=h,c.getPreviousWindowWidth=i,c.getResponsiveResizingDisabledSlotsMap=j,c.getSlotResponsiveWrapperId=k},{}],34:[function(a,b,c){"use strict";function d(a){return Promise.resolve(a)}function e(a){return Promise.reject(a)}Object.defineProperty(c,"__esModule",{value:!0});var f=c.INTRA_AD_VIDEO_PLAYER_BUFFER=300,g="setMinimalVideoEnded";c.mediaOrchestratorBridge={isMediaOrchestratorBridge:!0,timers:{},getCurrentlyPlayingAsset:function(){return window.MediaOrchestrator_V1?d(window.MediaOrchestrator_V1.getCurrentlyPlayingAsset()):e(null)},requestPlayback:function(a){return window.MediaOrchestrator_V1?d(window.MediaOrchestrator_V1.requestPlayback(a)):e(!1)},setMediaPlay:function(a,b){return b&&b.isReely&&window.ad_utils.mediaOrchestratorBridge.timers[g]&&clearTimeout(window.ad_utils.mediaOrchestratorBridge.timers[g]),window.MediaOrchestrator_V1?d(window.MediaOrchestrator_V1.setMediaPlay(a)):e(!1)},setMediaPaused:function(a){return window.MediaOrchestrator_V1?d(window.MediaOrchestrator_V1.setMediaPaused(a)):e(!1)},setMediaEnded:function(a,b){function c(){return window.MediaOrchestrator_V1?d(window.MediaOrchestrator_V1.setMediaEnded(a)):e(!1)}return b&&b.isMinimalVideo?(window.ad_utils.mediaOrchestratorBridge.timers[g]=setTimeout(c,f),Promise.resolve(!0)):c()},subscribe:function(a){if(a.onMediaPermissionsChanged){var b=a.name,c=a.onMediaPermissionsChanged;return window.MediaOrchestrator_V1&&window.MediaOrchestrator_V1.subscribeToNotifications(b,c)}return!1}}},{}],35:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){"undefined"!=typeof window&&(window.mediaOrchestrator=l),f()}function f(){function a(){return k.every(function(a){return d.includes(a)})}function b(b){d.push(b.slotName),a()&&!e&&(e=!0,window.mediaOrchestrator.publish(g.PRIMARY_ADS_LOADED_EVENT_NAME,{type:"",dispatcher:"media-orchestrator",
slotName:"",timestamp:Date.now()}))}function c(a){k.includes(a.slotName)&&!f&&(f=!0,window.mediaOrchestrator.publish(g.NO_PRIMARY_ADS_TO_LOAD_EVENT_NAME,{type:"",dispatcher:"media-orchestrator",slotName:"",timestamp:Date.now()}))}var d=[],e=!1,f=!1;window.mediaOrchestrator.subscribe(g.AD_LOADED_EVENT_NAME,b),window.mediaOrchestrator.subscribe(g.NO_AD_TO_LOAD_EVENT_NAME,c)}Object.defineProperty(c,"__esModule",{value:!0}),c.mediaOrchestrator=void 0,c.initializeMediaOrchestrator=e;var g=a(32),h=a(44),i=d(h),j=2e3,k=[i["default"].INLINE20,i["default"].INLINE40],l=c.mediaOrchestrator=function(){function a(a,b){m.call(h,a)||(h[a]=[]),h[a].push(b)}function b(a,b){if(a!==g.MEDIA_PLAYBACK_EVENT_NAME||b.slotName!==i["default"].INLINE20&&b.slotName!==i["default"].TOP_AD||b.type!==g.AUTOPLAY_VIDEO_MAYBE_PRESENT_EVENT_TYPE)a!==g.MEDIA_PLAYBACK_EVENT_NAME||b.slotName!==i["default"].INLINE20&&b.slotName!==i["default"].TOP_AD||b.type!==g.LOADSTART&&b.type!==g.PLAY||e(b.slotName);else{var f=c.bind(null,b.slotName);d(b.slotName,f,j)}}function c(a){window.mediaOrchestrator.publish(g.MEDIA_PLAYBACK_EVENT_NAME,{type:g.NO_AUTOPLAY_VIDEO_DETECTED_EVENT_TYPE,dispatcher:"media-orchestrator",slotName:a,timestamp:Date.now()})}function d(a,b,c){k[a]=setTimeout(b,c)}function e(a){k[a]&&clearTimeout(k[a])}var f={},h={},k={},l=f.hasOwnProperty,m=h.hasOwnProperty;return{getEventsLogForEvent:function(a){return void 0!==h[a]?h[a].slice():[]},subscribe:function(a,b){l.call(f,a)||(f[a]=[]);var c=f[a].push(b)-1;return{remove:function(){delete f[a][c]}}},publish:function(c,d){l.call(f,c)||(f[c]=[]),a(c,d),b(c,d),f[c].forEach(function(a){a(void 0!==d?d:{})})}}}()},{32:32,44:44}],36:[function(a,b,c){"use strict";function d(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}function e(a){return a&&a.__esModule?a:{"default":a}}function f(){m.initializeVideoEventsMessageListeners(),n.initializeMediaOrchestrator()}function g(a,b){var c=a;if(b===l["default"].INLINE40+"_responsive_wrapper"){var d=document.getElementsByClassName(l["default"].INLINE40_SIDEBAR)[0],e=document.getElementsByClassName(l["default"].INLINE40_MAIN)[0],f=window.innerWidth;f<s.LARGE_BREAKPOINT&&e?c=e:d&&(c=d)}return c}function h(a){if("undefined"!=typeof document){var b=document.getElementById(a);b&&b.remove()}}function i(a){window.mediaOrchestrator&&window.mediaOrchestrator.publish(s.AD_LOADED_EVENT_NAME,{type:"",dispatcher:"responsive-ad-api",slotName:a,timestamp:Date.now()})}Object.defineProperty(c,"__esModule",{value:!0}),c.responsiveAdAPI=void 0;var j=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};c.initializeResponsiveAdApi=f;var k=a(44),l=e(k),m=a(39),n=a(35),o=a(33),p=d(o),q=a(37),r=d(q),s=a(32),t=a(38);c.responsiveAdAPI=j({adVideoAutoplayBufferInterval:1e3,hasPremiumAd:null,lastAAXResponse:null,lastAdResponse:null,plaidOverrides:null,previousWindowWidth:0,responsiveResizingDisabledSlotsMap:{}},p,r,{checkShouldMakeAdSticky:t.checkShouldMakeAdSticky,clearData:function(){this.hasPremiumAd=null,this.lastAdResponse=null,this.plaidOverrides=null,this.previousWindowWidth=0,this.responsiveResizingDisabledSlotsMap={}},clearPageStyles:function(){h(s.PLAID_STYLE_OVERRIDES_ID)},clearWrapBackgroundStyles:function(){h(s.WRAP_BACKGROUND_STYLE_TAG_ID)},collapseAd:function(a){if("undefined"!=typeof document){var b=document.getElementById(this.getSlotResponsiveWrapperId(a));b&&(b.style.display="none")}},dangerouslySetHTML:function(a,b,c){if("undefined"!=typeof document){var d=b||document.getElementById(c);if(d=g(d,c),null!==d){var e=document.createRange();e.selectNodeContents(d),e.deleteContents(),d.appendChild(e.createContextualFragment(a))}}},events:{queues:{adIframeLoad:{},adSlotMount:{},adSlotUnmount:{}},adIframeLoad:function(a){this.queues.adIframeLoad[a]=!0,i(a)},adSlotMount:function(a){"function"==typeof window.uet&&window.uet("bb","adSlotMount",{wb:1}),"function"==typeof this.queues.adSlotMount[a]?this.queues.adSlotMount[a]():this.queues.adSlotMount[a]=!0,"function"==typeof window.uex&&window.uex("ld","adSlotMount",{wb:1})},adSlotUnmount:function(a){this.queues.adSlotMount[a]=!1},video:{}},getPageType:function(){var a=document.head?document.head.querySelector("meta[property$='pageType']"):null;return a?a.content:""},getSubPageType:function(){var a=document.head?document.head.querySelector("meta[property$='subpageType'], meta[property$='subPageType']"):null;return a?a.content:""},handleAAXResponse:function(a){this.setLastAAXResponse(a)},handleAdServiceResponse:function(a,b){var c=a&&a.slotsMap?a.slotsMap:a;if(this.setLastAdResponse(a),c){c[l["default"].INLINE20]&&this.clearWrapBackgroundStyles(),b&&b.shouldClearPageStyles&&this.clearPageStyles();for(var d in c)c.hasOwnProperty(d)&&this.renderAd(d,c[d])}},isBlankAd:function(a){var b=a?a.creativeMetadata:null;return b?b&&b.adProductType&&b.adProductType.name===s.BLANK||0===b.creativeHeight:!1},queueFunc:function(a,b,c){this.events.queues[a][b]?c():this.events.queues[a][b]=c},renderAd:function(a,b){var c=b.slotMarkup;if(c&&"undefined"!=typeof document){var d=this.getSlotResponsiveWrapperId(a),e=document.getElementById(d),f=this.dangerouslySetHTML.bind(null,c,e,d);this.queueFunc("adSlotMount",a,f)}this.isBlankAd(b)?this.collapseAd(a):this.unCollapseAd(a)},triggerCustomEvent:function(a,b){if("undefined"!=typeof window){var c=void 0;"function"==typeof CustomEvent?c=new CustomEvent(a,{detail:b}):(c=document.createEvent("CustomEvent"),c.initCustomEvent(a,!1,!1,b)),window.dispatchEvent(c)}},unCollapseAd:function(a){if("undefined"!=typeof document){var b=document.getElementById(this.getSlotResponsiveWrapperId(a));b&&"none"===b.style.display&&(b.style.display="flex")}}})},{32:32,33:33,35:35,37:37,38:38,39:39,44:44}],37:[function(a,b,c){"use strict";function d(a){this.adVideoAutoplayBufferInterval=a}function e(a){"boolean"==typeof a&&(this.hasPremiumAd=a)}function f(a){this.lastAAXResponse=a}function g(a){a.slotsMap&&(this.lastAdResponse={slots:a.slotsMap}),this.setHasPremiumAd(a.hasPremium),this.setPlaidOverrides(a.plaidOverrides),this.setResponsiveResizingDisabledSlotsMap(a)}function h(a){k.isEmpty(a)||(this.plaidOverrides=a,this.triggerCustomEvent("clientSidePlaidOverride",a))}function i(){this.previousWindowWidth=window.innerWidth}function j(a){var b=this;a.slotsMap&&Object.keys(a.slotsMap).forEach(function(a){delete b.responsiveResizingDisabledSlotsMap[a]});var c=a.responsiveResizingDisabledSlotsMap;c&&Object.keys(c).forEach(function(a){b.responsiveResizingDisabledSlotsMap[a]=c[a]})}Object.defineProperty(c,"__esModule",{value:!0}),c.setAdVideoAutoplayBufferInterval=d,c.setHasPremiumAd=e,c.setLastAAXResponse=f,c.setLastAdResponse=g,c.setPlaidOverrides=h,c.setPreviousWindowWidth=i,c.setResponsiveResizingDisabledSlotsMap=j;var k=a(51)},{51:51}],38:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){i()&&window.ad_utils.isResponsive()&&!window.ad_utils.responsiveAdAPI.getHasPremiumAd()&&a.id.includes(o["default"].INLINE20)&&a.width.includes(s)&&a.height.includes(t)&&!g(o["default"].INLINE20)&&j(o["default"].INLINE20,w)}function f(){var a=h();return a&&(a.backgroundImage&&"none"!==a.backgroundImage||"#000"!==a.backgroundColor&&"#000000"!==a.backgroundColor&&"rgba(0, 0, 0, 0)"!==a.backgroundColor&&"rgb(0, 0, 0, 0)"!==a.backgroundColor)}function g(a){var b=document.getElementById(a);if(!b)return!1;var c=k(b.style.width),d=k(b.style.height);return b.width===s&&b.height===t&&c>q&&d>r}function h(){var a=document.getElementById(m.WRAP_BACKGROUND_DIV_TAG_ID);try{return window.getComputedStyle(a)}catch(b){return{}}}function i(){var a=window.ad_utils.responsiveAdAPI.getPageType();return x.includes(a)}function j(a,b){function c(a){return"\n            @media screen and (min-width: "+m.LARGE_BREAKPOINT+"px) {\n                ."+p+" "+x+" {\n                    position: fixed !important;\n                    height: "+k.clientHeight+"px;\n                    top: 0;\n                    left: 0;\n                    right: 0;\n                    z-index: 50;\n                    transition: opacity "+u+"s ease-in;\n                    "+(a?"opacity: 1 !important;":"")+"\n                    "+z+"\n                }\n                ."+p+"."+m.PAGE_WRAPPER_CLASSNAME+" {\n                    top: "+k.clientHeight+"px;\n                }\n            }\n        "}function d(){s=window.scrollY,t||(window.requestAnimationFrame(function(){g(s),t=!1}),t=!0)}function e(){E.style.opacity=0,setTimeout(function(){E.style.opacity=1,j.classList.remove(p),w=!1},v)}function g(a){!w&&a>n?(E.style.opacity=0,setTimeout(function(){j.classList.add(p),w=!0},0)):w&&n>=a&&e()}function i(){window.generic.add_css_style(c(!1),o,"o"),e(),document.removeEventListener("scroll",d)}var j=document.querySelector("."+m.PAGE_WRAPPER_CLASSNAME),k=document.getElementById(a+"_responsive_wrapper"),n=k.getBoundingClientRect().top+window.scrollY,o=a+"-"+y,q=f(),r="#"+a+"_responsive_wrapper",s=window.scrollY,t=!1,w=!1,x=q?r:"."+m.INLINE20_PAGE_BACKGROUND_CLASS,z="";if(!q&&l()&&(z="background-color: rgba(0,0,0,0.5);"),window.generic.add_css_style(c(!0),o,"a"),q){var A=h(),B=A.backgroundImage,C=B&&"none"!==B?B:"",D=A.backgroundColor?A.backgroundColor:"";window.generic.add_css_style("\n            @media screen and (min-width: "+m.LARGE_BREAKPOINT+"px) {\n                ."+p+" #"+m.WRAP_BACKGROUND_DIV_TAG_ID+", ."+p+" "+r+" {\n                    background: "+C+" fixed top no-repeat "+D+" !important;\n                    background-position-y: -56px !important;\n                }\n            }\n        ",o)}document.addEventListener("scroll",d);var E=document.querySelector(x);g(s),b&&setTimeout(i,b)}function k(a){function b(a){var b=parseInt(a);return isNaN(b)?0:b}return"string"==typeof a?b("px"===a.substr(a.length-2)?a.substr(0,a.length-2):a):"number"==typeof a?a:b(a)}function l(){return null!==document.getElementById(z)}Object.defineProperty(c,"__esModule",{value:!0}),c.checkShouldMakeAdSticky=e,c.didAdSetRodeoWrap=f,c.didAdSetTarnhelmWrap=g,c.getRodeoWrapStyles=h,c.isStickyEnabledPageType=i,c.makeAdSticky=j,c.parseElementDimension=k;var m=a(32),n=a(44),o=d(n),p="fixed-wrap",q=970,r=250,s=""+q,t=""+r,u=.3,v=1e3*u,w=3e3,x=[m.HOME_PAGE_TYPE,m.TITLE_PAGE_TYPE,m.NAME_PAGE_TYPE],y="sticky-wrap-styles",z="IMDB_ADS_TRANSPARENT_BACKGROUND_436171"},{32:32,44:44}],39:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){"undefined"!=typeof window&&window.addEventListener("message",f,!1)}function f(a){a&&a.origin!==window.origin||(a.data&&"video-handler"===a.data.dispatcher?h(a.data):a.data&&"generic"===a.data.dispatcher&&g(a.data))}function g(a){var b=a.type;b===l.NO_AD_TO_LOAD_EVENT_NAME&&window.top.mediaOrchestrator&&window.top.mediaOrchestrator.publish(l.NO_AD_TO_LOAD_EVENT_NAME,a)}function h(a){var b=a.slotName,c=a.type;window.top.ad_utils.responsiveAdAPI.events.video[c]||(window.top.ad_utils.responsiveAdAPI.events.video[c]={}),window.top.ad_utils.responsiveAdAPI.events.video[c][b]={timestamp:a.timestamp},i(a)}function i(a){var b=a.slotName;(b===k["default"].INLINE20||b===k["default"].TOP_AD)&&(window.top.ad_utils.responsiveAdAPI&&window.top.ad_utils.responsiveAdAPI.triggerCustomEvent(l.MEDIA_PLAYBACK_EVENT_NAME,a),window.top.mediaOrchestrator&&window.top.mediaOrchestrator.publish(l.MEDIA_PLAYBACK_EVENT_NAME,a))}Object.defineProperty(c,"__esModule",{value:!0}),c.initializeVideoEventsMessageListeners=e;var j=a(44),k=d(j),l=a(32)},{32:32,44:44}],40:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(){return m.search(l)>-1}function g(a){return a&&(a.hasAttribute(v)||a.parentElement.hasAttribute(v))}Object.defineProperty(c,"__esModule",{value:!0});var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),i=a(38),j=a(14),k=d(j),l=/^http(s)?\:\/\/m\.(.*\.)?imdb\.com/,m=window.location.href,n={TOP_AD:[{width:"728px",height:"90px"}],INJECTED_BILLBOARD:[{width:"970px",height:"250px"}],TOP_RHS:[{width:"300px",height:"250px"}]},o=["ia.media-imdb.com"],p=["BTF_RHS2","BOTTOM_AD","MEDIAVIEWER_BANNER","INLINE80"],q=["MEDIAVIEWER_BANNER"],r=["INLINE20","INLINE40","INLINE50","INLINE60","INLINE80","INLINEBOTTOM","TOP_RHS","TOP_AD"],s="ape_",t="_placement",u="data-first-party-creative-template",v="safeframe-viewability-treatment",w=[{p:0,t:0,def:"amzn"},{p:50,t:1,def:"iab"},{p:100,t:0,def:"groupm"}],x=["openPsAdPopover","openATCModal","setPartner","sendMetrics","wrap"],y=function(){function a(){e(this,a),this.sfSrclessIframeSizes={},this.sfAdObjs={}}return h(a,[{key:"getSafeframeIdPrefix",value:function(){return s}},{key:"getSafeframeAdObjs",value:function(){return this.sfAdObjs}},{key:"injectCode",value:function(a,b){var c=f(),d=c?"MSFClient":"SFClient",e=c?"":"<script defer>setTimeout( function(){"+d+'.getDebugInfo({key: "updateAdDetails"}); },0);</script>',g="<script defer>setTimeout(function(){"+d+'.customMessage("sendMetrics",JSON.stringify({"slot": "'+a+'", "event": "fireload"}));},0);</script>',h=b+e+g;this.renderAdInSF(a,h)}},{key:"getSafeframeDiv",value:function(a){return document.getElementById(s+a+t)}},{key:"fireSfReflowMetric",value:function(a){var b=this.sfSrclessIframeSizes[a],c=b.w,d=b.h,e=window.top.ad_utils.get_slot_iframe(a),f=window.top.ad_utils.get_ad_object(e);window.top.ad_utils.fire_reflow_metric(a,f,c,d,e.width.replace(/px/g,""),e.height.replace(/px/g,""))}},{key:"getSfAdObject",value:function(a){if(this.sfAdObjs[a])return this.sfAdObjs[a];var b=null,c=window.top.ad_utils.sf_ad_details[a];if(c){var d=c.width,e=c.height;d&&(d=d.replace(/px/g,"")),e&&(e=e.replace(/px/g,"")),b={aid:c.adId,cid:c.creativeId,w:d,h:e},this.sfAdObjs[a]=b}return b}},{key:"onSfAdLoad",value:function(a){var b=""+s+a+"_iframe";window.top.ad_utils.responsiveAdAPI.events.adIframeLoad(a),i.checkShouldMakeAdSticky(document.getElementById(b));var c=this.getSfAdObject(a),d=window.top.ad_utils.get_type_of_ad(c),e=void 0;if(window.top.ad_utils&&window.top.ad_utils.ad_table){var f=window.top.ad_utils.ad_table[a];f&&(f.fired=!0,f.loaded=!0)}if(null!==c&&("blank"===c.scope||"null"===c.scope)){var g=this.sfSrclessIframeSizes[a];e="0"===g.w&&"0"===g.h?0:window.generic.monitoring.get_metric_value(a,"reflow")}window.top.ad_utils.slot_events.trigger(a,"load",{duration:e,type:d})}},{key:"updateAdDetails",value:function(a){a&&a.creativeId&&(window.top.ad_utils.sf_ad_details[a.slot]={},window.top.ad_utils.sf_ad_details[a.slot].creativeId=a.creativeId,window.top.ad_utils.sf_ad_details[a.slot].adId=a.adId,window.top.ad_utils.sf_ad_details[a.slot].width=a.width,window.top.ad_utils.sf_ad_details[a.slot].height=a.height)}},{key:"setPartner",value:function(a){var b=JSON.parse(a);b&&b.slot&&b.partner&&top&&top.generic&&top.generic.monitoring&&top.generic.monitoring.set_partner&&top.generic.monitoring.set_partner_by_slot(b.slot,b.partner)}},{key:"isThirdPartyAd",value:function(a){return a&&!a.hasAttribute(u)}},{key:"isSafeframeSlot",value:function(a,b){var c=f(),d=a&&(c?q:p).indexOf(a.toUpperCase())>-1,e=a&&r.indexOf(a.toUpperCase())>-1&&this.isThirdPartyAd(b);return d||e}},{key:"getRawSlotName",value:function(a){var b=a;return a&&0===a.indexOf(this.getSafeframeIdPrefix())&&(b=a.slice(4,a.length-7)),b}},{key:"renderAdInSF",value:function(a,b){var c=document.getElementById(a);if(null!==c){var d=c.parentElement,e=c.getAttribute("data-original-width"),g=c.getAttribute("data-original-height");this.sfSrclessIframeSizes[a]={w:e,h:g};var h=this.createAdDetailsObject(a,c,b),i=d.getElementsByClassName("sponsored_label");0===i.length&&(i=d.getElementsByClassName("standard_sponsored_label"));var j=null;i.length>0&&(j=i[0],d.removeChild(j)),d.removeChild(c);var k=document.createElement("div"),l=s+a+t;k.setAttribute("name",l),k.setAttribute("id",l);var m=f();if(m){var n=document.createElement("div");d.parentElement.replaceChild(n,d),n.appendChild(d);var o=d.id;n.id=o,d.id="ape_"+o}var p=m?d:k;p.setAttribute("data-ad-details",JSON.stringify(h)),p.setAttribute("class","text/x-dacx-safeframe"),p.style.width=e+"px",p.style.height=g+"px",p.style.margin="0 auto",p.style.display="block";var q=document.getElementById(a.toLowerCase()+"placeholderPattern");if(q&&(k.style.position="relative",k.classList.add("rendered_ad_tweening")),d.appendChild(k),j&&(d.appendChild(j),d.style.width=e+"px",d.style.height=g+"px"),window.generic&&window.generic.monitoring){var r=window.generic.monitoring.get_partner(a);r&&"none"!==r||window.generic.monitoring.set_partner_by_slot(a,"3P")}switch(a){case"injected_billboard":d.className=(d.className?d.className+" ":"")+"billboard";break;case"top_ad":window.top.ad_utils.expand_top_banner()}if(m?window.MAsf.loadAds():window.DAsf.loadAds(),q&&(k.classList.add("ad_fadein"),k.childNodes&&k.childNodes.length>0&&k.childNodes[0].classList.add("ad_fadein")),window.csm&&window.top.ad_utils.fire_tagdeliver_metric){var u=window.csm.duration();window.top.ad_utils.fire_tagdeliver_metric(a,u)}window.ad_size_cookie&&window.ad_size_cookie.store()}}},{key:"createAdDetailsObject",value:function(a,b,c){var d={};d.slot=b.id,d.slotName=b.id,d.arid=b.id,d.htmlContentEncoded=k["default"](c),d.serverSideFetchAd="true",d.loadAfter="",d.slot.toUpperCase()in n?d.allowedSizes=n[d.slot.toUpperCase()]:d.allowedSizes=[],d.allowedDomains=o,d.iframeClass=b.getAttribute("class"),d.iframeExtraStyle=b.getAttribute("style")||"";var e={};e.width=b.getAttribute("width")+"px",e.height=b.getAttribute("height")+"px",d.size=e,g(b)?d.viewabilityStandards=[]:d.viewabilityStandards=w,d.aaxInstrPixelUrl=window.top.ad_utils.aax_instr_pixel_url[d.slot.toUpperCase()];var f=window.top.ad_utils.aax_imp_pixel_url[d.slot.toUpperCase()];return f&&(d.aaxImpPixelUrl=f),d.allowlistedCustomMessageEvents=x,d.allowlistedQueryParamKeys=[],d.adCreativeMetaData={adCreativeTemplateName:"IMDb"},d}}]),a}();c["default"]=new y},{14:14,38:38}],41:[function(a,b,c){"use strict";function d(a){var b=s.getSlotWrapper(a);b&&b.style&&(b.style.marginLeft="auto",b.style.marginRight="auto")}function e(a,b,c){var d=s.getSlotName(a);if("top_ad"!==d.toLowerCase()&&c>=0&&b>=0){var e=c/b,f=640*e,g=100*e;if(d){var h=s.getSlotWrapper(a);h.className+=" standard_expand_ad_slot_wrapper orientation_"+h.id+"}";var i=s.getSlot(a);i.className+=" standard_expand_ad_slot_iframe";var j="\n                @media only screen and (min-width : 641px) {\n                    .orientation_"+h.id+" {\n                        width: 640px;\n                        height: "+f+"px;\n                    }\n                }\n\n                @media only screen and (min-width : 640px) {\n                    .orientation_"+h.id+" {\n                        width: 100vw;\n                        height: "+g+"vw;\n                    }\n                }\n\n                .sponsored_label {\n                    padding-right: 5%;\n                }\n            ";a.top.generic.add_css_style(j,"expand-1p-ads")}}else s.getSlotWrapper(a).setAttribute("style","height: "+c+"px; display: block;"),s.getSlot(a).setAttribute("style","height: "+c+"px;")}function f(a){a&&(a.style.removeProperty("width"),a.style.removeProperty("height"))}function g(a){f(s.getSlotWrapper(a))}function h(){return window.screen&&window.screen.width&&window.screen.height&&"undefined"!=typeof window.orientation}function i(){return 90===window.orientation||-90===window.orientation?"landscape":"portrait"}function j(){return"portrait"===i()?Math.min(window.screen.width,window.screen.height):Math.max(window.screen.width,window.screen.height)}function k(){return h()?j():window.innerWidth}function l(a,b,c,d){a&&(a.style.height=""+c+d,a.style.width=""+b+d,a.setAttribute("data-resizeElement",""+b+d+"|"+c+d))}function m(a,b,c){var d=top.document.getElementById("wrapper");d&&(d.style.overflowX="hidden");var e=s.getSlotWrapper(a);e&&(e.style.margin="auto"),r(e,b,c)}function n(a,b,c,d){var e=b/c,f=Math.floor(e*d);a&&a.frameElement&&(a.frameElement.height=f,a.frameElement.width=b),a&&a.document&&a.document.ad&&(a.document.ad.h=f,a.document.ad.w=b),l(a.frameElement,b,f,"px")}function o(a,b,c,d){var e=b/c,f=Math.floor(e*d),g=s.getSlotWrapper(a);l(g,b,f,"px")}function p(a,b,c){var d={actionName:"scale-ad-to-width",adName:b,data:{width:c}};setTimeout(function(){a.top.Tarnhelm&&window.top.Tarnhelm.triggerGlobalAction&&a.top.Tarnhelm.triggerGlobalAction(d)},0)}function q(a,b,c,d){var e=k();n(a,e,c,d),o(a,e,c,d),p(a,b,e)}function r(a,b,c){a&&(a.style.position="relative",a.style.overflow="visible",l(a,b,c,"px"))}Object.defineProperty(c,"__esModule",{value:!0}),c.setupContainer=c.scaleWrapperToWidth=c.scaleTarnhelm=c.scaleTarnhelmAd=c.scaleIframeToWidth=c.removeWrapperSize=c.mobileWebCreativeResizing=c.resizeWrapperWithOverflowHidden=c.centerAd=void 0;var s=a(45);c.centerAd=d,c.resizeWrapperWithOverflowHidden=m,c.mobileWebCreativeResizing=e,c.removeWrapperSize=g,c.scaleIframeToWidth=n,c.scaleTarnhelmAd=p,c.scaleTarnhelm=q,c.scaleWrapperToWidth=o,c.setupContainer=r},{45:45}],42:[function(a,b,c){"use strict";function d(a){return a.top.document.body.clientWidth}function e(){var a=navigator.userAgent.toLowerCase();return a.indexOf("ipad")>-1||a.indexOf("macintosh")>-1&&"ontouchend"in document}function f(a){return a&&document.location.href.startsWith("https://"+a)}function g(){return f("www.")}function h(){return f("m.")}function i(){var a=window.navigator.userAgent,b=a.indexOf("MSIE");return b>0?parseInt(a.substring(b+5,a.indexOf(".",b))):a.match(/Trident\/7\./)?11:0}function j(){var a=i();return a>0&&11>=a}Object.defineProperty(c,"__esModule",{value:!0}),c.getBrowserWidth=d,c.isDesktop=g,c.isInternetExplorer=j,c.isIpad=e,c.isMobile=h,c.isSubdomain=f},{}],43:[function(a,b,c){"use strict";!function(a){a.imdbads=a.imdbads||{},a.imdbads.SlotManager=function(){function b(b,c){g[b]=c,"rhs"===b&&(c.getClickTracker&&(a.top.getClickTracker=c.getClickTracker),c.uatu&&(h=c.uatu))}function c(a){return g[a]}function d(a,b){return g[a]&&"function"==typeof g[a].getClickTracker?g[a].getClickTracker(b):""}function e(){return h}function f(){return g}var g={},h=void 0;return{registerSlot:b,getDefaultUatu:e,getSlotData:c,getSlotClickTracker:d,getAllSlotData:f}}()}(window)},{}],44:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=c.INLINE20_SLOT_NAME="inline20",e=c.INLINE40_SLOT_NAME="inline40",f=c.INLINE40_MAIN="inline40-responsive-main",g=c.INLINE40_SIDEBAR="inline40-responsive-sidebar",h=c.INLINE50_SLOT_NAME="inline50",i=c.INLINE60_SLOT_NAME="inline60",j=c.INLINE80_SLOT_NAME="inline80",k=c.INLINEBOTTOM_SLOT_NAME="inlinebottom",l=c.INTERSTITIAL_SLOT_NAME="interstitial",m=c.MEDIAVIEWER_BANNER_SLOT_NAME="mediaviewer_banner",n=c.PROVIDER_PROMOTION_NAME="provider_promotion",o=c.PROMOTED_WATCH_BAR_NAME="promoted_watch_bar",p=c.SIS_PIXEL_SLOT_NAME="sis_pixel",q=c.TOP_AD_SLOT_NAME="top_ad",r={INLINE20:d,INLINE40:e,INLINE40_MAIN:f,INLINE40_SIDEBAR:g,INLINE50:h,INLINE60:i,INLINE80:j,INLINEBOTTOM:k,INTERSTITIAL:l,MEDIAVIEWER_BANNER:m,PROVIDER_PROMOTION:n,PROMOTED_WATCH_BAR:o,SIS_PIXEL:p,TOP_AD:q};c["default"]=r},{}],45:[function(a,b,c){"use strict";function d(a){return a.frameElement&&a.frameElement.id?a.frameElement.id:"unknown"}function e(a){return g(a,d(a))}function f(a){return d(a)+"_wrapper"}function g(a,b){return a.top.document.getElementById(b)}function h(a){return g(a,f(a))}function i(a,b){return d(a)===b}function j(a){return i(a,"inline40")}Object.defineProperty(c,"__esModule",{value:!0}),c.getSlot=e,c.getSlotName=d,c.getSlotWrapper=h,c.getSlotWrapperName=f,c.isSlot=i,c.isInline40=j},{}],46:[function(a,b,c){"use strict";function d(a){if(a)if("IMG"===a.tagName||"SPAN"===a.tagName||"P"===a.tagName||"VIDEO"===a.tagName||"DIV"===a.tagName&&0===a.childElementCount)a.classList.add("mrc-btr-creative");else{var b=!0,c=!1,e=void 0;try{for(var f,g=a.children[Symbol.iterator]();!(b=(f=g.next()).done);b=!0){var h=f.value;d(h)}}catch(i){c=!0,e=i}finally{try{!b&&g["return"]&&g["return"]()}finally{if(c)throw e}}}}function e(a,b){if(a){var c=a.actions;if(c&&c.click&&c.click.length>0){var f=!0,g=!1,h=void 0;try{for(var i,j=c.click[Symbol.iterator]();!(f=(i=j.next()).done);f=!0){var k=i.value;if("open-default-link"===k.actionName)return void d(b.querySelector("[name="+a.name+"]"))}}catch(l){g=!0,h=l}finally{try{!f&&j["return"]&&j["return"]()}finally{if(g)throw h}}}if(a.children){var m=!0,n=!1,o=void 0;try{for(var p,q=a.children[Symbol.iterator]();!(m=(p=q.next()).done);m=!0){var r=p.value;e(r,b)}}catch(l){n=!0,o=l}finally{try{!m&&q["return"]&&q["return"]()}finally{if(n)throw o}}}}}Object.defineProperty(c,"__esModule",{value:!0});c.tarnhelmAdUtils={markTarnhelmAdForMRC:function(a,b){e(a,b)}}},{}],47:[function(a,b,c){"use strict";function d(a){function b(){"collapsed"!==a.tarnhelm_backup.adState&&(h.collapseAd(a.frameElement),a.tarnhelm_backup.adState="collapsed")}var c=a.tarnhelm_backup||{},d=c.appData||{},j=c.adName||void 0,k=c.trackingConsumer||void 0,l=c.pageBind||!1,m=c.scaleToFull||!1,n=c.clickThrough||"",o=c.target||"_blank",p=c.responsiveImage||"",q=c.legacyImage||"",r=c.renderWidth||0,s=c.renderHeight||0,t=c.size||"0x0",u=c.resizeWrapperWithOverflowHidden||!1,v=e.shouldShowBackupSupplierResponsive(a),w=f.showTarnhelmAdCallback(a,j,d,k,l,m,r,s,p,t,u),x=g.responsiveImageGenerator(p,q,n,o,r,s,t),y=f.showBackupImageTarnhelmResponsiveCallback(a,p,q,r,s,t);i.bindBackupImage(a,v,w,x,b,y)}Object.defineProperty(c,"__esModule",{value:!0}),c.handleTarnhelmBackupImg=void 0;var e=a(13),f=a(48),g=a(26),h=a(1),i=a(12);c.handleTarnhelmBackupImg=d},{1:1,12:12,13:13,26:26,48:48}],48:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return a.document.querySelector(".app")}function f(a,b){e(a).innerHTML=b}function g(a,b,c,d,f,g,h,k,l,n,o){return function(){a&&a.tarnhelm_backup&&"ad"!==a.tarnhelm_backup.adState&&(j.uncollapseAd(a.frameElement),g?(i.scaleTarnhelm(a,b,h,k),m["default"]()&&setTimeout(function(){i.scaleTarnhelm(a,b,h,k)},1)):o?i.resizeWrapperWithOverflowHidden(a,h,k):i.scaleWrapperToWidth(a,h,h,k),a.top&&a.top.Tarnhelm&&(a.top.Tarnhelm.initAdInstance(e(a),a.frameElement,c,d),f&&!a.top.Tarnhelm.pageLoadBound&&(a.top.addEventListener("load",function(){parent.Tarnhelm.triggerGlobalAction({actionName:"trigger-action-collection",collectionName:"pageLoad"})}),a.top.Tarnhelm.pageLoadBound=!0)),a.tarnhelm_backup.adState="ad")}}function h(a,b,c,d,e,g){return function(c){if(a&&a.tarnhelm_backup&&"backup"!==a.tarnhelm_backup.adState){f(a,c);var h=k.getSize(b,d,e,g);i.scaleIframeToWidth(a,h.width,h.width,h.height),i.scaleWrapperToWidth(a,h.width,h.width,h.height),i.centerAd(a),a.tarnhelm_backup.adState="backup"}}}Object.defineProperty(c,"__esModule",{value:!0}),c.showBackupImageTarnhelmResponsiveCallback=c.showTarnhelmAdCallback=c.showBackupImageTarnhelmCallback=c.getAppNode=void 0;var i=a(41),j=a(1),k=a(26),l=a(28),m=d(l);c.getAppNode=e,c.showBackupImageTarnhelmCallback=f,c.showTarnhelmAdCallback=g,c.showBackupImageTarnhelmResponsiveCallback=h},{1:1,26:26,28:28,41:41}],49:[function(a,b,c){"use strict";document.getElementsByTagName("html")[0].className+=" scriptsOn"},{}],50:[function(a,b,c){!function d(b,c,e){function f(h,i){if(!c[h]){if(!b[h]){var j="function"==typeof a&&a;if(!i&&j)return j(h,!0);if(g)return g(h,!0);var k=new Error("Cannot find module '"+h+"'");throw k.code="MODULE_NOT_FOUND",k}var l=c[h]={exports:{}};b[h][0].call(l.exports,function(a){return f(b[h][1][a]||a)},l,l.exports,d,b,c,e)}return c[h].exports}for(var g="function"==typeof a&&a,h=0;h<e.length;h++)f(e[h]);return f}({1:[function(a,b,c){b.exports="html{box-sizing:border-box}:after,:before,html *{box-sizing:inherit}body{margin:0}.ad,.app{position:relative;display:block;width:100%;height:100%}.ad{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ad *,.ad :after,.ad :before{-webkit-user-select:inherit;-moz-user-select:inherit;-ms-user-select:inherit;user-select:inherit}.ad,.ad *{z-index:1}.ad>div{position:absolute;width:100%;height:100%;overflow:hidden}graphic>.graphic{opacity:inherit}.graphic>img{position:absolute;top:0;left:0}.graphic>.ad-hover,.graphic>.hover{opacity:0;transition:opacity .15s linear;-moz-transition:opacity .15s linear;-o-transition:opacity .15s linear;-webkit-transition:opacity .15s linear}.app:hover .graphic>.ad-hover,.graphic:hover>.hover{opacity:1}.countdown-number-text{text-align:center}.slider-rotator>.slide-offset{position:relative}.slider-rotator>.slide-offset>.slide{position:relative;display:inline-block;width:100%;height:100%;overflow:hidden}.th-gallery-parent .th-gallery-arrow{cursor:pointer}.th-gallery-parent>.th-gallery-image{opacity:0;transition:opacity .15s linear;-moz-transition:opacity .15s linear;-o-transition:opacity .15s linear;-webkit-transition:opacity .15s linear}.th-gallery-parent>.active{opacity:1}.minimal-video>video{width:100%;height:auto}"},{}],2:[function(a,b,c){b.exports=function(a){var b,c;return parent.ad_design&&parent.ad_design.Uatu&&parent.getClickTracker?(b=parent.ad_design.Uatu,window.Tarnhelm.log("Tarnhelm is using its legacyTrackingConsumer. This behavior is deprecated, and should only happen if your creative template is out of date."),(c=b()).addConsumerCallback(function(a,b,c){a&&((new Image).src=parent.getClickTracker(a))}),c.addToTrackingMap(a),c.trackingConsumer):(window.Tarnhelm.log("couldn't find Uatu or getClickTracker. This means NOTHING IS BEING TRACKED."),function(){})}},{}],3:[function(a,b,c){function d(a,b){this.eventEmitter=a,this.actionRequirements=b}a("riot"),d.prototype={off:function(a){this.eventEmitter.off(a)},on:function(a,b){this.eventEmitter.on(a,b)},one:function(a,b){this.eventEmitter.one(a,b)},trigger:function(a){if(a.requirements&&!this.canFire(a))return!1;if(a.isGlobal)window.Tarnhelm.triggerGlobalAction(a);else if(null==a.adName){var b=Math.abs(window.parseInt(a.delay,10)||0);if(b){var c=this;window.setTimeout(function(){c.eventEmitter.trigger(a.actionName,a)},b)}else this.eventEmitter.trigger(a.actionName,a)}else window.Tarnhelm.triggerTandemAction(a)},triggerMany:function(a){for(var b=0;b<a.length;b++){var c=a[b];this.trigger(c)}},canFire:function(a){return!!this.actionRequirements.areMet(a)||(window.Tarnhelm.log("An action's requirements were not met ::",a.requirements,a),!1)}},b.exports=d},{riot:112}],4:[function(a,b,c){var d=a("../renderer/stores/ad.js"),e=a("./actionHandler.js"),f=a("./eventEmitter.js"),g=a("./externalTriggerHandler.js"),h=a("./linkHandler.js"),i=a("./scrollActionHandler"),j=a("./externalFunctionHandler.js"),k=a("./logHandler.js"),l=a("./videoActionHandler.js"),m=a("./backwardsCompatibilityProcessor.js"),n=a("./checkAdParentCompliance.js"),o=a("./rectProcessor.js"),p=(a("../renderer/stores/retrievers/scale.js"),a("./events/adEvent.js"));b.exports=function(a){function b(a){if(q.containerFrame){var b=o.process(a);o.setElRectStyle(q.containerFrame,b)}}function c(){if(q.adStore.requiresAutoplay()){var a=window.ad_utils&&window.ad_utils.fp?window.ad_utils.fp:void 0;if(a&&a.should_autoplay(q.id)){var b=q.adStore.getFrequencyCappedInitActions();q.actionHandler.triggerMany(b),a.log_autoplay(q.id)}}}var q={};if(a.adData=m.process(a.adData),a.adData.rect&&delete a.adData.rect,q.id=a.adData.id,q.name=a.adData.name,q.domNode=a.domNode,q.containerFrame=a.containerFrame,q.initTime=(new Date).getTime(),q.trackingConsumer="function"==typeof a.trackingConsumer?a.trackingConsumer:null,q.requirementsTester=window.Tarnhelm.getRequirementsTester(),q.actionHandler=new e(new f,q.requirementsTester),a.eventSinks)for(var r=0;r<a.eventSinks.length;r++)a.eventSinks[r].registerAdActionHandler(q.name,q.actionHandler);
q.actionHandler.on("resize-ad-container",function(a){a&&a.data&&a.data.rect&&b(a.data.rect)});var s={adHeight:q.domNode.offsetHeight,adWidth:q.domNode.offsetWidth};return a.adData.isScalable&&150===s.adHeight&&300===s.adWidth&&window.Tarnhelm.log("Warning: Ad is set to `isScalable`, but its iframe does not have a width dimension set. Ad will be 300px wide on init."),q.adStore=new d(a.adData,q.actionHandler,s),q.linkHandler=new h(a.adData.defaultLink,q.actionHandler),a.adData.externalTriggerActions&&(q.externalTriggerHandler=new g(a.adData.externalTriggerActions,q.actionHandler)),k.listen(q.actionHandler),j.listen(q.actionHandler,q.containerFrame),l.listen(q.actionHandler,q.adStore),q.scrollActionHandler=new i(q.actionHandler),{getId:function(){return q.id},getName:function(){return q.name},getDomNode:function(){return q.domNode},getContainerFrame:function(){return q.containerFrame},getActionHandler:function(){return q.actionHandler},getAdStore:function(){return q.adStore},getInitTime:function(){return q.initTime},getTrackingConsumer:function(){return q.trackingConsumer},timeSinceInit:function(a){return(a=a||(new Date).getTime())-q.initTime},resizeAdContainer:b,minimize:function(){q.actionHandler.trigger({actionName:"minimize-ad"})},maximize:function(){q.actionHandler.trigger({actionName:"maximize-ad"})},initAfterMount:function(){var a=q.adStore.getState();this.initted||(this.initted=!0,b(q.adStore.getState().frameProperties),n.check(this),a.actions&&a.actions.init&&a.actions.init.length&&q.actionHandler.triggerMany(a.actions.init),c(),q.actionHandler.trigger({actionName:p.DISPLAYED}))}}}},{"../renderer/stores/ad.js":67,"../renderer/stores/retrievers/scale.js":77,"./actionHandler.js":3,"./backwardsCompatibilityProcessor.js":5,"./checkAdParentCompliance.js":6,"./eventEmitter.js":9,"./events/adEvent.js":10,"./externalFunctionHandler.js":13,"./externalTriggerHandler.js":14,"./linkHandler.js":17,"./logHandler.js":18,"./rectProcessor.js":22,"./scrollActionHandler":24,"./videoActionHandler.js":28}],5:[function(a,b,c){b.exports={process:function(a){var b="Ad schema not up to date! ["+a.name+"] :: ",c=!!a.rect,d=!!a.frameProperties,e=d&&!!a.frameProperties.rect,f=!1;if(c&&!d){f=!0;var g={width:a.rect.width,height:a.rect.height};a.frameProperties=g}else c||(d&&e?(f=!0,g={width:a.frameProperties.rect.width,height:a.frameProperties.rect.height},a.frameProperties=g):d||e||(window.Tarnhelm.log(b+"Bad dimensions config, please update immediately."),a.frameProperties={width:0,height:0}));return f&&window.Tarnhelm.log(b+"Please update ad's frameProperties and ad.rect schema."),a}}},{}],6:[function(a,b,c){b.exports={check:function(a){var b="Ad ["+a.getAdStore().getState().name+"] may not render properly! ";if(this.hasAdContainerParent(a)){var c=this.getAdContainerParent(a),d=window.getComputedStyle(c),e=new RegExp(/relative|absolute/),f=new RegExp(/(inline\-|)block/);e.test(d.position)||window.Tarnhelm.log(b+' iframe.parentNode must be set to  position "relative" or "absolute".'),"visible"!==d.overflow&&window.Tarnhelm.log(b+"iframe.parentNode is not set to overflow: visible;"),"relative"!==d.position||f.test(d.display)||window.Tarnhelm.log(b+'iframe.parentNode is set to position "relative", so it must also be set to display "block" or "inline-block".'),""===d.width&&window.Tarnhelm.log(b+"iframe.parentNode requires an explicit width."),""===d.height&&window.Tarnhelm.log(b+"iframe.parentNode requires an explicit height.")}else window.Tarnhelm.log(b+"Incorrect context for Tarnhelm iframe: Ad iframe does not have an iframeNode.parentNode");var g=a.getContainerFrame(),h=window.getComputedStyle(g);""===h.top&&""===h.bottom&&""===h.left&&""===h.right&&window.Tarnhelm.log(b+"iframe has no positioning values.")},hasAdContainerParent:function(a){return a.getContainerFrame()&&a.getContainerFrame().parentNode},getAdContainerParent:function(a){return a.getContainerFrame().parentNode}}},{}],7:[function(a,b,c){var d=a("riot");a("../tarnhelm.js");var e=function(a){var b;b="number"==typeof a?new Date(a):Date.parse(a),isNaN(b)?(window.Tarnhelm.log('Bad date string "'+a+'", setting CountdownTimer to NOW to avoid errors'),this.targetDate=new Date):this.targetDate=new Date(a),d.observable(this),this.tick(),this.start()};e.prototype={getMillisecondsRemaining:function(){var a=this.targetDate.valueOf()-window.Tarnhelm.getNowTime();return a>0?a:0},start:function(){window.clearInterval(this.interval),this.boundTick=this.tick.bind(this),this.interval=window.setInterval(this.boundTick,1e3)},stop:function(){window.clearInterval(this.interval),delete this.boundTick},tick:function(){var a=this.getRemainingValues(this.getMillisecondsRemaining());this.trigger("tick",a),a.totalMs||(this.stop(),this.trigger("end"))},getRemainingValues:function(a){var b={days:0,hours:0,minutes:0,seconds:0,totalMs:0},c=a;return 0===c||(b.totalMs=c,b.days=Math.floor(c/864e5),c-=864e5*b.days,b.hours=Math.floor(c/36e5),c-=36e5*b.hours,b.minutes=Math.floor(c/6e4),c-=6e4*b.minutes,b.seconds=Math.floor(c/1e3)),b}},b.exports=e},{"../tarnhelm.js":80,riot:112}],8:[function(a,b,c){function d(a,b){this.userAgentString=b,this.url=a,this._calculate()}var e=/^http(s)?\:\/\/m\.(.*\.)?imdb\.com/,f=/(Android|OS|Windows Phone) (\d+)[\._](\d+)[\._]?(\d+)?/,g=/Android (\d{2,})/,h=/iP(hone|ad|od)/,i=/Version\/[\d\.]+.*Safari/,j="Chrome/",k=/(Chrome|Safari|MSIE|Firefox)/,l=/(SamsungBrowser|Galaxy Nexus Build|iPhone OS 8|iPhone OS 7)/;d.prototype={getInfo:function(){return this.deviceInfo},_calculate:function(){var a=this._isWindowsDevice(this.userAgentString),b=this._isIOSDevice(this.userAgentString),c=this._isAndroidDevice(this.userAgentString),d=a||b||c,e=this._isIMDbApp(this.userAgentString),f=this._isSafari(this.userAgentString),g=this._getMobilePlatformVersion(this.userAgentString,e,c),h=!d||this._hasMobileTransitionTransformSupport(this.userAgentString,e,c,g);this.deviceInfo={isWindowsDevice:a,isSafari:f,isIOSDevice:!a&&b,isAndroidDevice:!a&&c,isMobileDevice:d,isMobileSite:this._isMobileSite(this.url),isIMDbApp:e,hasTouch:this._hasTouch(document),canAutoplay:this._canAutoplay(g,e,c,b,d),canFullscreen:this._canFullscreen(document),mobilePlatformVersion:g,canTransitionTransforms:h}},_isWindowsDevice:function(a){return-1<a.indexOf("Windows Phone")},_isIOSDevice:function(a){return-1<a.search(h)},_isSafari:function(a){return-1<a.search(i)},_isAndroidDevice:function(a){return-1<a.indexOf("Android")},_isMobileSite:function(a){return-1<a.search(e)},_isIMDbApp:function(a){return-1<a.indexOf("IMDb-flg")},_hasTouch:function(a){return"ontouchstart"in a},_getChromeVersion:function(a){return-1!==a.indexOf(j)?parseInt(a.substr(a.indexOf(j)+j.length,2),10):void window.Tarnhelm.log("Attempted to get chrome version string of non chrome userAgentString")},_getMobilePlatformVersion:function(a,b,c){var d,e={};return(d=a.match(f))&&0<d.length&&(e.major=parseInt(d[2],10)||0,e.minor=parseInt(d[3],10)||0,e.patch=parseInt(d[4],10)||0),b&&c&&((d=a.match(g))&&0<d.length?e.androidAPI=parseInt(d[1],10)||0:e.androidAPI=0),e},_canAutoplay:function(a,b,c,d,e){return b?c?17<=a.androidAPI||4<=a.major&&!(4===a.major&&a.minor<2):!!(d&&4<=a.major):!e},_canFullscreen:function(a){return a.fullscreenEnabled||a.webkitFullscreenEnabled||a.msFullscreenEnabled||a.mozFullscreenEnabled},_hasMobileTransitionTransformSupport:function(a,b,c,d){var e=!c&&d.major<9;if(b)return!e;if(l.test(a))return!1;if(k.test(a)){if(-1!==a.indexOf(j)){var f=this._getChromeVersion(a);if(!Number.isNaN(f)&&46>f)return!1}return!0}return!1}},b.exports=d},{}],9:[function(a,b,c){var d=a("riot");b.exports=function(){d.observable(this)}},{riot:112}],10:[function(a,b,c){b.exports={DISPLAYED:"ad:displayed",ASSET_PRELOAD_START:"ad:asset-preload-start",ASSET_PRELOAD_FINISH:"ad:asset-preload-finish",ASSET_PRELOAD_TIMEOUT:"ad:asset-preload-timeout",VIDEO_FAILURE:"ad:video-failure",VIDEO_LOADED:"ad:video-loaded"}},{}],11:[function(a,b,c){function d(a){k.push({fired:!1,fn:a})}function e(a,b){window.premiumAdMetrics&&window.premiumAdMetrics.initCounter?(window.Tarnhelm.log("initializing counter for "+a+"_"+b,Date.now()),window.premiumAdMetrics.initCounter(a,b)):(window.Tarnhelm.log("deferring counter initialization for "+a+"_"+b,Date.now()),d(function(){window.premiumAdMetrics.initCounter(a,b)}))}function f(a,b){window.premiumAdMetrics&&window.premiumAdMetrics.recordCounter?(window.Tarnhelm.log("logging counter for "+a+"_"+b,Date.now()),window.premiumAdMetrics.recordCounter(a,b)):(window.Tarnhelm.log("deferring counter for "+a+"_"+b,Date.now()),d(function(){window.premiumAdMetrics.recordCounter(a,b)}))}function g(a,b){var c=window.IMDbTimer?Date.now()-window.IMDbTimer.starttime:-1;-1!==c?window.premiumAdMetrics&&window.premiumAdMetrics.recordLatency?(window.Tarnhelm.log("logging timed event for "+a+"_"+b,Date.now()),window.premiumAdMetrics.recordLatency(a,b,c)):(window.Tarnhelm.log("deferring timed event for "+a+"_"+b,Date.now()),d(function(){window.premiumAdMetrics.recordLatency(a,b,c)})):window.Tarnhelm.log("no timer baseline present to log timed event for "+a+"_"+b,Date.now())}var h=a("./tarnhelmEvent.js"),i=a("./adEvent.js"),j=function(a){this.topActionHandler=a,this.registerTopActionHandler();var b=this;this.topActionHandler.on("fireDeferredMetrics",function(){b.fireDeferredMetrics()})},k=[];j.prototype={registerTopActionHandler:function(){this.topActionHandler.on(h.READY,function(){g("tarnhelm","start")}),this.topActionHandler.on(h.INIT_FAILURE,function(){g("tarnhelm","initFailure")}),e("creative","abort"),this.topActionHandler.on(h.MPTP_ABORT,function(){f("creative","abort")}),e("tarnhelm","error"),this.topActionHandler.on(h.ERROR,function(){f("tarnhelm","error")}),e("creative","transitionSuccess"),this.topActionHandler.on(h.MPTP_TRANSITION,function(){f("creative","transitionSuccess")}),e("creative","transitionFailure"),this.topActionHandler.on(h.MPTP_TRANSITION_FAILURE,function(){f("creative","transitionFailure")})},registerAdActionHandler:function(a,b){b.on(i.ASSET_PRELOAD_START,function(){g("tarnhelm","preloadStart")}),b.on(i.ASSET_PRELOAD_FINISH,function(){g("tarnhelm","preloadFinish")}),b.on(i.ASSET_PRELOAD_TIMEOUT,function(){g("tarnhelm","preloadTimeout")}),b.on(i.DISPLAYED,function(){g("tarnhelm","creativeDisplayed")}),e("tarnhelm","videoFailure"),b.on(i.VIDEO_FAILURE,function(){f("tarnhelm","videoFailure")}),b.on(h.RECORD_LATENCY,function(a){var b,c,e;b="tarnhelm",c=a.metricName,e=a.milliseconds,window.premiumAdMetrics&&window.premiumAdMetrics.recordLatency?(window.Tarnhelm.log("logging pre-calculated latency for "+b+"_"+c,Date.now()),window.premiumAdMetrics.recordLatency(b,c,e)):(window.Tarnhelm.log("deferring pre-calculated latency for "+b+"_"+c,Date.now()),d(function(){window.premiumAdMetrics.recordLatency(b,c,e)}))})},fireDeferredMetrics:function(){k.forEach(function(a){a.fired||(a.fn(),a.fired=!0)})}},b.exports=j},{"./adEvent.js":10,"./tarnhelmEvent.js":12}],12:[function(a,b,c){b.exports={READY:"tarnhelm:system-init",ERROR:"tarnhelm:error",INIT_FAILURE:"tarnhelm:init-failure",MPTP_ABORT:"tarnhelm:mptp-abort",MPTP_TRANSITION:"tarnhelm:mptp-transition",MPTP_TRANSITION_FAILURE:"tarnhelm:mptp-transition-failure",RECORD_LATENCY:"tarnhelm:record-latency"}},{}],13:[function(a,b,c){var d={listen:function(a,b){var c=this,d=b.contentWindow;a.on("call-external-function",function(a){c.callExternalFunction(d,a)})},callExternalFunction:function(a,b){var c,d,e=b.data.functionName,f=b.data.arguments||[],g=this.getFunctionContext(a,b);this.isNested(e)?(c=this.getFunctionThisArg(b,g),d=this.getNestedFunction(e,g)):d=(c=g)[e],"function"==typeof d?"object"==typeof c?d.apply(c,f):this.logThisArgErrorMessage(c,b):this.logErrorMessage(d,b)},getFunctionThisArg:function(a,b){var c=a.data.functionName,d=a.data.thisArgName;return d||(d=c.substr(0,c.lastIndexOf("."))),this.nestReduce(d.split("."),b)},getFunctionContext:function(a,b){return"top"===b.data.context?window.top:a},isNested:function(a){return-1!==a.indexOf(".")},getNestedFunction:function(a,b){return this.nestReduce(a.split("."),b)},nestReduce:function(a,b){return a.reduce(function(a,b,c,d){return a?a[b]:void 0},b)},logErrorMessage:function(a,b){var c="";c+=null==a?"Function does not exist":b.data.functionName+" is not a function",this.logError(c,b)},logThisArgErrorMessage:function(a,b){var c="";c+=null==a?"Provided thisArg does not exist":b.data.thisArgName+" is not an object",this.logError(c,b)},logError:function(a,b){a+=' in "'+b.data.context+'" context. ',window.Tarnhelm.log('Failed to call external function "'+b.data.functionName+'".',a)}};b.exports=d},{}],14:[function(a,b,c){b.exports=function(a,b){var c=this;c.actionMap=a,b.on("handle-external-trigger",function(a){a.data.triggerName&&c.actionMap[a.data.triggerName]&&b.triggerMany(c.actionMap[a.data.triggerName])})}},{}],15:[function(a,b,c){var d={throttle:function(a,b){var c,d,e=0,f=null,g=function(){e=Date.now(),f=null,a.apply(c,d)};return function(){var h=Date.now(),i=b-(h-e);c=this,d=arguments,0>=i||i>b?(f&&(clearTimeout(f),f=null),e=h,a.apply(c,d)):f||(f=setTimeout(g,i))}},debounce:function(a,b){function c(){var i=Date.now()-g;b>i?h=setTimeout(c,b-i):(h=null,f=a.apply(d,e))}var d,e,f,g=0,h=null;return function(){return d=this,e=arguments,g=Date.now(),h||(h=setTimeout(c,b)),f}}};b.exports=d},{}],16:[function(a,b,c){b.exports={beforeNode:function(a,b){var c=document.createElement("style");c.type="text/css",c.styleSheet?c.styleSheet.cssText=a:c.appendChild(document.createTextNode(a)),b.parentNode.insertBefore(c,b)}}},{}],17:[function(a,b,c){function d(a,b){var c=this;this.defaultLink=a,(this.actionHandler=b).on("open-link",function(a){c.handleLinkAction(a)}),b.on("open-default-link",function(a){c.defaultLink?c.handleLinkAction(a):window.Tarnhelm.log('No defaultLink for the "open-default-link" action.')})}d.prototype={pauseVideos:function(){this.actionHandler.trigger({actionName:"video:pause-all"})},handleLinkAction:function(a){var b=this.defaultLink,c=!1;a.data&&(b=a.data.url||b,c=!!a.data.sameWindow),c?window.top.location.href=b:window.open(b)}},b.exports=d},{}],18:[function(a,b,c){b.exports={listen:function(a){a.on("log",function(a){window.Tarnhelm.log(a.message)})}}},{}],19:[function(a,b,c){var d=function(a){this.injectEl=a,this.init(),this.minimize()};d.prototype={dimensions:{minimize:40,logHeight:150},init:function(){this.containerEl=this.getContainerEl(),this.logEl=this.getLogEl(),this.containerEl.appendChild(this.logEl),this.minimizeButton=this.getMinimizeButton(),this.containerEl.appendChild(this.minimizeButton),this.injectEl.appendChild(this.containerEl),this.log(" = Tarnhelm - Mobile Debug Mode = ")},log:function(a){Array.isArray(a)||(a=[a]);var b=this.makeLine(a);this.logEl.appendChild(b),this.logEl.scrollTop=this.logEl.scrollHeight},makeLine:function(a){var b=document.createElement("p");b.style.cssText="margin:0 0 0.25em 0; border-bottom: thin solid rgba(255,255,255,0.25);",b.textContent="";for(var c=0;c<a.length;c++){var d=a[c],e="";d?"string"==typeof d?e=d:"function"==typeof d.toString&&(e=d.toString()):e="undefined",c<a.length-1&&(e+=", "),b.textContent+=e}return b},getContainerEl:function(){return this._makeEl("mobile-log-container",["position: fixed","bottom:0","left:0","display: block","width: 100%","overflow: visible","height: "+this.dimensions.logHeight+"px","z-index: 1986",""].join(";"))},getLogEl:function(){return this._makeEl("mobile-log",["position: absolute","top:0","display: block","width: 100%","height: 150px","z-index: 1986","color: rgb(0, 255, 0)","font-family: courier","background-color: rgba(0,0,0,0.8)","overflow: scroll",""].join(";"))},getMinimizeButton:function(){var a=this.dimensions.minimize+"px",b=this._makeEl("mobile-log-minimize-button",["position:absolute","right: 0","top: -"+a,"display: block","background: rgba(0,0,0,0.8)","color: rgb(0, 255, 0)","width:"+a,"height:"+a,"font-size: 24px","line-height: 20px","cursor:pointer","text-align:center"].join(";"));return b.textContent="_",b.onclick=this.minimizeButtonClick.bind(this),b},_makeEl:function(a,b){var c=document.createElement("div");return c.id=a,c.style.cssText=b,c},minimizeButtonClick:function(){this.isMinimized?this.unminimize():this.minimize()},minimize:function(){this.isMinimized=!0,this.containerEl.style.height=0,this.minimizeButton.textContent="^"},unminimize:function(){this.isMinimized=!1,this.containerEl.style.height=this.dimensions.logHeight+"px",this.minimizeButton.textContent="_"}},b.exports=d},{}],20:[function(a,b,c){var d={sameSign:function(a,b){return a>=0&&b>=0||0>=a&&0>=b},avg:function(a){return 0===a.length?0:a.reduce(function(a,b){return a+b})/a.length},clamp:function(a,b,c){return Math.max(b,Math.min(c,a))},getEllipseFalloff:function(a,b){var c=this.clamp(a,0,b),d=Math.sqrt(1-Math.pow(c,2)/Math.pow(b,2));return this.clamp(d,0,1)}};b.exports=d},{}],21:[function(a,b,c){b.exports={clone:function(a){return JSON.parse(JSON.stringify(a))},shallowMerge:function(a,b){this._doMerge(a,b,!0)},shallowMergeMany:function(a,b){for(var c=Object.keys(b),d=0;d<c.length;d++){var e=c[d];a[e]||(a[e]={}),this.shallowMerge(a[e],b[e])}},_doMerge:function(a,b,c){if(!this.isObject(a)||!this.isObject(b))return window.Tarnhelm.log("Object merge operation failed, both params must be objects:"),window.Tarnhelm.log(a),void window.Tarnhelm.log(b);for(var d=Object.keys(b),e=0;e<d.length;e++){var f=d[e];if(c||null==a[f]){var g="object"===b[f]?this.clone(b[f]):b[f];a[f]=g}}},mergeDefaults:function(a,b){var c=this.clone(b);this._doMerge(a,c,!1)},isObject:function(a){return"object"==typeof a&&!Array.isArray(a)&&null!==a},getProperty:function(a,b){if(a&&b){for(var c=b.split("."),d=a,e=0;e<c.length;e++){if(void 0===d[c[e]])return;d=d[c[e]]}return d}}}},{}],22:[function(a,b,c){var d=a("../renderer/stores/retrievers/scale.js"),e={defaults:{position:"absolute",anchorX:"left",offsetX:0,anchorY:"top",offsetY:0,width:"auto",height:"auto"},setElRectStyle:function(a,b){var c=a.style;["top","right","bottom","left"].forEach(function(a){c.removeProperty(a)}),c.position=b.position,c[b.anchorX]=b.offsetX,c[b.anchorY]=b.offsetY,c.height=b.height,c.width=b.width},process:function(a){var b=a||{};return{position:this.determinePositioning(b.position),anchorX:this.determineAnchorX(b.anchorX),offsetX:this.getDimensionWithUnit(b.offsetX,this.defaults.offsetX),anchorY:this.determineAnchorY(b.anchorY),offsetY:this.getDimensionWithUnit(b.offsetY,this.defaults.offsetY),width:this.getDimensionWithUnit(b.width,this.defaults.width),height:this.getDimensionWithUnit(b.height,this.defaults.height)}},determinePositioning:function(a){return null!=a&&a.match(/absolute|relative|fixed|static|inherit/)?a:this.defaults.position},determineAnchorX:function(a){switch(a){case"right":return"right";case"left":return"left";default:return null!=a&&window.Tarnhelm.log("Bad anchorX position configured."),this.defaults.anchorX}},determineAnchorY:function(a){switch(a){case"bottom":return"bottom";case"top":return"top";default:return null!=a&&window.Tarnhelm.log("Bad anchorY position configured."),this.defaults.anchorY}},getDimensionWithUnit:function(a,b){return null==a?b:d.getDimensionWithUnit(a)}};b.exports=e},{"../renderer/stores/retrievers/scale.js":77}],23:[function(a,b,c){var d={canAutoplay:1,hasTouch:1,canFullscreen:1},e=function(a){this.requirementFlags=this.buildFlags(a)};e.prototype={areMet:function(a){var b=a.requirements||{},c=Object.keys(b);return 0===c.length||(this.areValidRequirements(c)?this.testRequirements(b):(window.Tarnhelm.log("Invalid requirement(s) found on an item ::",a.requirements," :: Full item :: ",a),!1))},testRequirements:function(a){for(var b=Object.keys(a),c=0;c<b.length;c++){var d=b[c],e=a[d];if(this.requirementFlags[d]!==e)return!1}return!0},buildFlags:function(a){return{canAutoplay:a.canAutoplay,hasTouch:a.hasTouch,canFullscreen:a.canFullscreen}},areValidRequirements:function(a){for(var b=0;b<a.length;b++)if(!this.isValidRequirement(a[b]))return!1;return!0},isValidRequirement:function(a){return!!d[a]}},b.exports=e},{}],24:[function(a,b,c){b.exports=function(a){function b(){0===window.scrollY?(window.cancelAnimationFrame(c),c=null):(window.scrollBy(0,d),c=window.requestAnimationFrame(b))}var c,d;a.on("jump-to-top",function(a){0<window.scrollY&&(window.scroll(0,0),window.Tarnhelm.log("window jump-to-top requested."))}),a.on("scroll-to-top",function(a){if(0<window.scrollY){window.Tarnhelm.log("window scroll-to-top requested.");var e=a.duration||100;d=-window.scrollY/(e/17),c=window.requestAnimationFrame(b)}})}},{}],25:[function(a,b,c){var d=a("./numberUtils.js"),e=(a("./objectUtils.js"),a("./functionUtils.js")),f=function(a){this.firstPos=this.getPosFromEvent(a),this.handledFirstMove=!1,this.currPos=this.getPosFromEvent(a),this.prevPos=this.getPosFromEvent(a),this.velocity={x:0,y:0},this.totalDistance={x:0,y:0},this.currMoveDistance={x:0,y:0},this.debouncedVelocityDecay=e.debounce(this.velocityDecay.bind(this),50),this.transitionLengthFactor=1,this.touchEnded=!1,this.isTouchTypeDetermined=!1,this.isHorizontalMove=!1,this.isVerticalMove=!1,this.isSwipe=!1};f.prototype={addTouchMoveData:function(a){this.prevPos=this.currPos,this.currPos=this.getPosFromEvent(a),this.currMoveDistance=this.getTouchMoveDifference(this.prevPos,this.currPos),this.totalDistance=this.getNewTotalDistance(this.totalDistance,this.currMoveDistance),this.velocity=this.getNewVelocity(this.velocity,this.currMoveDistance),this.debouncedVelocityDecay(),this.determineTouchType(this.totalDistance,this.velocity)},finalizeTouchDataOnEnd:function(a){this.touchEnded=!0,this.isSwipe=this.touchTestSwipe(this.velocity),this.transitionLengthFactor=this.getTransitionLengthFactor(this.velocity.x)},getPosFromEvent:function(a){return{x:a.touches[0].clientX,y:a.touches[0].clientY}},getTouchMoveDifference:function(a,b){return{x:b.x-a.x,y:b.y-a.y}},getNewTotalDistance:function(a,b){return{x:a.x+b.x,y:a.y+b.y}},getNewVelocity:function(a,b){return{x:this._adjustVelocity(a.x,b.x),y:this._adjustVelocity(a.y,b.y)}},getTransitionLengthFactor:function(a){var b=d.getEllipseFalloff(Math.abs(a),100);return d.clamp(b,.2,1)},velocityDecay:function(){this.touchEnded||(this.velocity.x=0,this.velocity.y=0,this.currMoveDistance.x=0,this.currMoveDistance.y=0,this.isSwipe=!1)},_adjustVelocity:function(a,b){var c;return c=d.sameSign(a,b)?a:0,d.avg([c,b])},determineTouchType:function(a,b){this.isSwipe||(this.isSwipe=this.touchTestSwipe(b)),this.isVerticalMove||this.isHorizontalMove||(this.isVerticalMove=this.touchTestVertical(a),this.isVerticalMove?this.isTouchTypeDetermined=!0:(this.isHorizontalMove=this.touchTestHorizontal(a),this.isHorizontalMove&&(this.isTouchTypeDetermined=!0)))},touchTestHorizontal:function(a){return 10<=Math.abs(a.x)},touchTestVertical:function(a){return 7.5<=Math.abs(a.y)},touchTestSwipe:function(a){return 5<Math.abs(a.x)}},b.exports=f},{"./functionUtils.js":15,"./numberUtils.js":20,"./objectUtils.js":21}],26:[function(a,b,c){var d={opacity:"opacity",translate:"transform",translateX:"transform",translateY:"transform",rotate:"transform",scale:"transform",scaleX:"transform",scaleY:"transform",blur:"filter",brightness:"filter",contrast:"filter",grayscale:"filter",saturate:"filter"},e={filter:["-webkit-filter","-moz-filter","-o-filter"]};b.exports={isValidTransitionType:function(a){return"string"==typeof a&&!!d[a]},getTransitionSegment:function(a){return this.getTransitionSegmentForProperty(a,d[a.type])},getPrefixedTransitionSegments:function(a){var b=[];b.push(this.getTransitionSegment(a));for(var c=e[d[a.type]],f=0;f<c.length;f++)b.push(this.getTransitionSegmentForProperty(a,c[f]));return b},getTransitionSegmentForProperty:function(a,b){var c=[];return b&&c.push(b),a.duration&&c.push(a.duration),a.easing&&c.push(a.easing),a.delay&&c.push(a.delay),c.join(" ")},getCSSFunctionSegment:function(a,b){return a+"("+b+")"},calculateTransitionStyles:function(a){for(var b={start:{},end:{}},c=[],e=[],f=[],g=[],h=[],i=0;i<a.length;i++){var j=a[i];if(this.isValidTransitionType(j.type))switch(d[j.type]){case"transform":e.length||c.push(this.getTransitionSegment(j)),e.push(this.getCSSFunctionSegment(j.type,j.startValue)),f.push(this.getCSSFunctionSegment(j.type,j.endValue));break;case"opacity":b.start[j.type]=j.startValue,b.end[j.type]=j.endValue,c.push(this.getTransitionSegment(j));break;case"filter":if(!g.length){var k=this.getPrefixedTransitionSegments(j);c=c.concat(k)}g.push(this.getCSSFunctionSegment(j.type,j.startValue)),h.push(this.getCSSFunctionSegment(j.type,j.endValue))}}return c.length&&(b.start.transition=c.join(",")),e.length&&(b.start.transform=e.join(" ")),f.length&&(b.end.transform=f.join(" ")),g.length&&(b.start.filter=g.join(" ")),h.length&&(b.end.filter=h.join(" ")),b},getTransitionTime:function(a){var b=parseFloat(a.duration)||0,c=parseFloat(a.delay)||0;return Math.floor(1e3*(b+c))},getMaxTransitionTime:function(a){for(var b=0,c=0;c<a.length;c++){var d=this.getTransitionTime(a[c]);d>b&&(b=d)}return b}}},{}],27:[function(a,b,c){b.exports={getQueryParam:function(a,b){var c=new RegExp("[\\?&]"+a+"=([^&#]*)").exec(b);return c?c[1]:""},preloadUrl:function(a,b){var c=new Image;"function"==typeof b&&(c.onload=b),c.src=a},preloadUrls:function(a){if(a&&a.length)for(var b=0;b<a.length;b++)this.preloadUrl(a[b])},preloadUrlsWithCallback:function(a,b){function c(a){g||(g=!0,b(a))}function d(){++f===a.length&&(window.Tarnhelm.log(f+" of "+a.length+" images have preloaded"),window.clearTimeout(e),c(!1))}var e,f=0,g=!1;if(a&&a.length){e=window.setTimeout(function(){window.Tarnhelm.log("Only "+f+" of "+a.length+" preloaded before timeout. Preload assets failed to load before the timeout, triggering callback."),c(!0)},3e3);for(var h=0;h<a.length;h++)this.preloadUrl(a[h],d)}else b(!1)}}},{}],28:[function(a,b,c){var d=a("../renderer/stores/retrievers/component.js");b.exports={videoActions:["video:play","video:pause","video:reset","video:mute","video:unmute","video:fullscreen","video:normalscreen"],listen:function(a,b){var c=this;a.on(this.videoActions.join(" "),function(b,d){c.triggerVideoAction(a,d.actionName,d.componentName)});var d=b.getComponentLibrary(),e=b.getComponentNamesByCategory("video"),f=this.videoActions.map(function(a){return a+"-all:under-ancestor"});a.on(f.join(" "),function(b,f){var g="video:"+b.split(":")[1].split("-")[0];c.triggerVideoActionUnderAncestor(a,g,f.ancestorName,d,e)})},triggerVideoAction:function(a,b,c){var d=b+":"+c;a.trigger({actionName:d})},triggerVideoActionUnderAncestor:function(a,b,c,e,f){if(c)for(var g=0;g<f.length;g++){var h=f[g];d.hasAncestorOfName(h,c,e)&&this.triggerVideoAction(a,b,h)}else window.Tarnhelm.log(b+"-all:under-ancestor actions require ancestorName property.")}}},{"../renderer/stores/retrievers/component.js":73}],29:[function(a,b,c){b.exports=function(a,b){a=a;var c,d=this;this.setWrap=function(b){var d;c||((d=document.getElementById(a))||window.Tarnhelm.log("Invalid element id set on wrapSwapper."),c=d);var e,f,g=(f="",(e=b).source&&(f+="url("+e.source+") ",f+=e.position?e.position+" ":"center top ",f+=e.repeat?e.repeat+" ":"no-repeat ",f+=e.attachment?e.attachment+" ":"scroll "),f+=e.color);c.style.background=g},b.on("set-wrap-background",function(a){d.setWrap(a.data)})}},{}],30:[function(a,b,c){!function(c,d){if("function"==typeof define&&void 0!==define.amd)define(["riot"],function(a){d(a)});else if(void 0!==b&&void 0!==b.exports){var e=a("riot");d(e)}else d(c.riot)}(this,function(b){a("./mixins/action.js"),a("./mixins/action-user.js"),a("./mixins/action-touch.js"),a("./mixins/action-swipe.js"),a("./mixins/action-transitions.js"),a("./mixins/action-cuepoint.js"),a("./mixins/background.js"),a("./mixins/base.js"),a("./mixins/media-interop.js"),a("./mixins/rect.js"),a("./mixins/resize.js"),a("./mixins/rotator.js"),a("./mixins/styles.js"),a("./mixins/teardown.js"),a("./mixins/transitions.js"),a("./mixins/video.js"),a("./mixins/weblab.js"),a("./mixins/zoolander.js"),a("./components/ad.tag"),b.tag("app",'<ad data="{adData}"></ad>','class="app"',function(a){this._adInstance=this.opts.adInstance,this.adData=this._adInstance.getAdStore().getState();var b=this;this._adInstance.getActionHandler().on("ad-state-updated",function(){b.adData=b._adInstance.getAdStore().getState(),b.update()})})})},{"./components/ad.tag":31,"./mixins/action-cuepoint.js":48,"./mixins/action-swipe.js":49,"./mixins/action-touch.js":50,"./mixins/action-transitions.js":51,"./mixins/action-user.js":52,"./mixins/action.js":53,"./mixins/background.js":54,"./mixins/base.js":55,"./mixins/media-interop.js":56,"./mixins/rect.js":57,"./mixins/resize.js":58,"./mixins/rotator.js":59,"./mixins/styles.js":60,"./mixins/teardown.js":61,"./mixins/transitions.js":62,"./mixins/video.js":63,"./mixins/weblab.js":64,"./mixins/zoolander.js":65,riot:112}],31:[function(a,b,c){!function(c,d){if("function"==typeof define&&void 0!==define.amd)define(["riot"],function(a){d(a)});else if(void 0!==b&&void 0!==b.exports){var e=a("riot");d(e)}else d(c.riot)}(this,function(b){a("./child.tag"),b.tag("ad",'<div riot-style="{getTagStyleString()}"><child each="{name, i in opts.data.childNames}" name="{name}"></child></div>','class="ad"',function(a){this.mixin("base"),this.mixin("styles"),this.mixin("background")})})},{"./child.tag":34,riot:112}],32:[function(a,b,c){!function(c,d){if("function"==typeof define&&void 0!==define.amd)define(["riot"],function(a){d(a)});else if(void 0!==b&&void 0!==b.exports){var e=a("riot");d(e)}else d(c.riot)}(this,function(a){a.tag("alphalfa",'<div class="alphalfa" riot-style="{getTagStyleString()}"><video __autoplay="{this.shouldItAutoplay()}" webkit-playsinline playsinline style="display:none;" muted="true"><source riot-src="{this.opts.data.video.url}"></video><canvas class="alphalfa-buffer" style="display:none;" height="{this.opts.data.rect.height * 2}px" width="{this.opts.data.rect.width}px"></canvas><canvas class="alphalfa-output" height="{this.opts.data.rect.height}px" width="{this.opts.data.rect.width}px"></canvas></div>',function(a){this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.mixin("transitions"),this.mixin("teardown"),this.mixin("video"),this.mixin("action"),this.mixin("action-cuepoint"),this.mixin("action-transitions");var b=this;this.addLoopConfig=function(a){var b=this.opts.data.video,c=b.loop;return!0===c&&(a.loop=c,null!=b.maxLoops&&(a.maxLoops=b.maxLoops)),a},this.addStillFrame=function(a){var b=this.opts.data.video;return null!=b.stillFrameMS?a.stillFrameMS=b.stillFrameMS:!0===b.loop&&0!==b.maxLoops&&window.Tarnhelm.log("Warning: No stillFrameMS set on a non-infinitely looping Alphalfa. It will disappear after its last loop."),a},this.addMaskUrl=function(a){var b=this.opts.data.video;return null!=b.maskUrl&&(a.maskUrl=b.maskUrl),a},this.initAlphalfa=function(){var a=this.getVideoEl();if(a&&"function"==typeof a.play){this.opts.data.isInvisible&&(a.autoplay=""),this.bufferEl=this.root.getElementsByTagName("canvas")[0],this.outputEl=this.root.getElementsByTagName("canvas")[1];var b={video:a,buffer:this.bufferEl,output:this.outputEl,colorCorrect:!!this.opts.data.video.colorCorrect,forceCanvas:!!this.opts.data.video.forceCanvas,horizontalStack:!!this.opts.data.video.horizontalStack};b=this.addLoopConfig(b),b=this.addStillFrame(b),b=this.addMaskUrl(b),this.alphalfaPlayer=new ad_design.AlphalfaPlayer(b),this.alphalfaPlayer.listen(),this.shouldItAutoplay()&&this.doAutoplay(a)}},this.initCuepointEngine=function(){var a=this.getVideoEl();a&&(this.cuepointEngine=new ad_design.CuepointEngine({media:a,cuepoints:this.getCuePoints(),observer:this}))},this.play=function(){var a=b.getVideoEl();a&&"function"==typeof a.play&&a.play()},this.pause=function(){var a=b.getVideoEl();a&&"function"==typeof a.pause&&a.pause()},this.mute=function(){window.Tarnhelm.log("Alphalfa does not support mute and unmute actions.")},this.unmute=this.mute,this.reset=function(){var a=b.getVideoEl();a&&"number"==typeof a.currentTime&&(a.currentTime=0)},this.fullscreen=function(){window.Tarnhelm.log("Alphalfa does not support fullscreen and normalscreen actions.");
},this.normalscreen=this.fullscreen,this.on("mount",function(){this.setVideoEl(this.root.getElementsByTagName("video")[0]),this.initAlphalfa(),this.initCuepointEngine()}),this.on("unmount",function(){this.fireSyntheticMediaPlaybackEvent("pause","alphalfa"),this.alphalfaPlayer.teardown(),this.cuepointEngine.destroy()})})})},{riot:112}],33:[function(a,b,c){!function(c,d){if("function"==typeof define&&void 0!==define.amd)define(["riot"],function(a){d(a)});else if(void 0!==b&&void 0!==b.exports){var e=a("riot");d(e)}else d(c.riot)}(this,function(b){b.tag("animaniac",'<div class="animaniac" riot-style="{getTagStyleString()}" onclick="{handleClick}" onmouseenter="{handleHoverIn}" onmouseleave="{handleHoverOut}"></div>',function(b){var c=a("../../modules/objectUtils.js");this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.mixin("transitions"),this.mixin("action"),this.mixin("action-user"),this.mixin("action-transitions"),this.initted=!1,this.createAnimation=function(){var a=c.clone(this.opts.data.animaniacOptions);a.injectEl=this.root.getElementsByClassName("animaniac")[0],a.url=this.opts.data.source,a.spriteHeight=this.opts.data.rect.height,a.spriteWidth=this.opts.data.rect.width,a.sheetHeight=this.opts.data.spriteSheetDimensions.height,a.sheetWidth=this.opts.data.spriteSheetDimensions.width,this.animaniac=new ad_design.Animaniac(a),this.initted=!0},this.addActionListeners=function(){var a=this,b=this.getAdInstance().getActionHandler();b.on("animaniac:play",function(b){a.canTriggerAction(b.componentName)&&a.animaniac.play()}),b.on("animaniac:pause",function(b){a.canTriggerAction(b.componentName)&&a.animaniac.pause()}),b.on("animaniac:play-animation",function(b){a.canTriggerAction(b.componentName)&&a.animaniac.playAnimation(b.data.animationName)})},this.destroyAnimation=function(){this.animaniac.pause(),this.initted=!1,this.animaniac=null},this.canTriggerAction=function(a){return this.initted&&a===this.opts.data.name},this.on("mount",function(){this.createAnimation(),this.addActionListeners()}),this.on("unmount",function(){this.destroyAnimation()})})})},{"../../modules/objectUtils.js":21,riot:112}],34:[function(a,b,c){!function(c,d){if("function"==typeof define&&void 0!==define.amd)define(["riot"],function(a){d(a)});else if(void 0!==b&&void 0!==b.exports){var e=a("riot");d(e)}else d(c.riot)}(this,function(b){a("./alphalfa.tag"),a("./animaniac.tag"),a("./countdown.tag"),a("./countdown-number-text.tag"),a("./countdown-number-custom.tag"),a("./countdowner.tag"),a("./gallery.tag"),a("./graphic.tag"),a("./panel.tag"),a("./minimal-video.tag"),a("./reely.tag"),a("./rotator.tag"),a("./rotatorbutton.tag"),a("./slider-rotator.tag"),a("./youtube.tag"),b.tag("child",'<alphalfa each="{this.getType(\'alphalfa\')}" data="{data}"></alphalfa><animaniac each="{this.getType(\'animaniac\')}" data="{data}"></animaniac><countdown each="{this.getType(\'countdown\')}" data="{data}"></countdown><countdown-number-text each="{this.getType(\'countdown-number-text\')}" data="{data}"></countdown-number-text><countdown-number-custom each="{this.getType(\'countdown-number-custom\')}" data="{data}"></countdown-number-custom><countdowner each="{this.getType(\'countdowner\')}" data="{data}"></countdowner><gallery each="{this.getType(\'gallery\')}" data="{data}"></gallery><graphic each="{this.getType(\'graphic\')}" data="{data}"></graphic><panel each="{this.getType(\'panel\')}" data="{data}"></panel><reely each="{this.getType(\'reely\')}" data="{data}"></reely><minimal-video each="{this.getType(\'minimal-video\')}" data="{data}"></minimal-video><rotator each="{this.getType(\'rotator\')}" data="{data}"></rotator><rotatorbutton each="{this.getType(\'rotatorbutton\')}" data="{data}"></rotatorbutton><slider-rotator each="{this.getType(\'slider-rotator\')}" data="{data}"></slider-rotator><youtube each="{this.getType(\'youtube\')}" data="{data}"></youtube>','data-comp-name="{ this.opts.name }"',function(a){this.mixin("base");var b=this;if(this.opts.name){var c=this.getAdInstance().getAdStore();this.componentData=c.getComponentState(this.opts.name),this.on("update",function(){this.componentData=c.getComponentState(b.opts.name)})}this.getType=function(a){var b=[];return this.componentData&&this.componentData.type===a&&!this.componentData.isHidden&&b.push({data:this.componentData}),b};var d=["mount","unmount","premount","update","updated","init"];this.on("all",function(a){if(a&&-1===d.indexOf(a))for(var b in this.tags)for(var c=0,e=this.tags[b].length;e>c;c++)this.tags[b][c].trigger.apply(this.tags[b][c],arguments)})})})},{"./alphalfa.tag":32,"./animaniac.tag":33,"./countdown-number-custom.tag":35,"./countdown-number-text.tag":36,"./countdown.tag":37,"./countdowner.tag":38,"./gallery.tag":39,"./graphic.tag":40,"./minimal-video.tag":41,"./panel.tag":42,"./reely.tag":43,"./rotator.tag":44,"./rotatorbutton.tag":45,"./slider-rotator.tag":46,"./youtube.tag":47,riot:112}],35:[function(a,b,c){!function(c,d){if("function"==typeof define&&void 0!==define.amd)define(["riot"],function(a){d(a)});else if(void 0!==b&&void 0!==b.exports){var e=a("riot");d(e)}else d(c.riot)}(this,function(a){a.tag("countdown-number-custom",'<div class="countdown-number-custom countdown-number-custom-{this.opts.data.timeUnit}" riot-style="{getTagStyleString()}"></div>',function(a){this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.frames=[],this.options={},this.createFrames=function(){for(var a=0;a<this.options.sheetHeight;a+=this.options.frameHeight)for(var b=0;b<this.options.sheetWidth;b+=this.options.frameWidth)this.frames.push(-b+"px "+-a+"px ")},this.createOptions=function(){this.options.frameHeight=this.opts.data.rect.height,this.options.frameWidth=this.opts.data.rect.width,this.options.sheetHeight=11*this.options.frameHeight,this.options.sheetWidth=10*this.options.frameWidth,this.options.source=this.opts.data.spritesheet.url||"https://m.media-amazon.com/images/G/01/IMDb/design/tarnhelm/countdown-number-custom/countdown.png",this.options.date=this.opts.data.targetDate||"Thu, 01 Jan 1970 00:00:00 +0000"},this.getDisplayIndex=function(){var a=this.opts.data.remaining[this.opts.data.timeUnit]+10;return!this.opts.data.padZeros&&this.opts.data.remaining[this.opts.data.timeUnit]<=9&&(a=this.opts.data.remaining[this.opts.data.timeUnit]),a},this.setFrame=function(a,b){var c=a||b?"-"+(a||0)+"px -"+(b||0)+"px":this.frames[this.getDisplayIndex()];this.addStyleRule("background","url("+this.options.source+") "+c+" / 1000% 1100% no-repeat")},this.on("mount",function(){this.createOptions(),this.setFrame(0,this.options.frameHeight),this.createFrames()}),this.on("update",function(){this.setFrame()})})})},{riot:112}],36:[function(a,b,c){!function(c,d){if("function"==typeof define&&void 0!==define.amd)define(["riot"],function(a){d(a)});else if(void 0!==b&&void 0!==b.exports){var e=a("riot");d(e)}else d(c.riot)}(this,function(a){a.tag("countdown-number-text",'<div class="countdown-number-text countdown-number-text-{this.opts.data.timeUnit}" riot-style="{getTagStyleString()}"> {getDisplayValue()} </div>',function(a){this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.updateTextStyle=function(){this.addStyleRule("font-size",this.determinedRect.height)},this.pad=function(a){return a>9?a:"0"+a},this.getDisplayValue=function(){var a=this.opts.data.remaining[this.opts.data.timeUnit];return this.opts.data.padZeros&&(a=this.pad(a)),a},this.on("update",this.updateTextStyle)})})},{riot:112}],37:[function(a,b,c){!function(c,d){if("function"==typeof define&&void 0!==define.amd)define(["riot"],function(a){d(a)});else if(void 0!==b&&void 0!==b.exports){var e=a("riot");d(e)}else d(c.riot)}(this,function(a){a.tag("countdown",'<div class="countdown" riot-style="{getTagStyleString()}" onclick="{handleClick}" onmouseenter="{handleHoverIn}" onmouseleave="{handleHoverOut}"><div if="{this.opts.data.remaining.totalMs || this.opts.data.showAfterEnd}"><child each="{name, i in opts.data.childNames}" name="{name}"></child></div></div>',function(a){this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.mixin("background"),this.mixin("transitions"),this.mixin("action"),this.mixin("action-user"),this.triggerBackgroundState=function(){this.opts.data.remaining.totalMs||this.opts.data.useAlternateBackground||!this.opts.data.alternateBackground||this.getAdInstance().getActionHandler().trigger({actionName:"set-alternate-background",componentName:this.opts.data.name})},this.on("update",function(){this.triggerBackgroundState(),this.setBackground()})})})},{riot:112}],38:[function(a,b,c){!function(c,d){if("function"==typeof define&&void 0!==define.amd)define(["riot"],function(a){d(a)});else if(void 0!==b&&void 0!==b.exports){var e=a("riot");d(e)}else d(c.riot)}(this,function(a){a.tag("countdowner",'<div id="{this.opts.data.name}" class="countdowner th-countdown" riot-style="{getTagStyleString()}"><div class="th-countdown-inject" id="{\'th-countdown-\' + this.opts.data.name}"></div></div>',function(a){this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.mixin("zoolander"),this.initCountdowner=function(){for(var a=this.root.getElementsByClassName("th-countdown-inject")[0],b=this.getAdIframeZoolander(),c={el:a,targetDate:new Date(this.opts.data.targetDate),zoolander:b},d=["splitChar","hideAfterRelease","periodContainerCss","periodCountCss","doPad","printLabels","labelsBelow","labels","labelsCss"],e=0;e<d.length;e++)null!=this.opts.data[d[e]]&&(c[d[e]]=this.opts.data[d[e]]);new window.ad_design.Countdowner(c)},this.on("mount",function(){this.initCountdowner(),window.Tarnhelm.log('Warning: The "countdowner" component is deprecated and does not support scaling for MobilePTP, please migrate to the "countdown" component.')})})})},{riot:112}],39:[function(a,b,c){!function(c,d){if("function"==typeof define&&void 0!==define.amd)define(["riot"],function(a){d(a)});else if(void 0!==b&&void 0!==b.exports){var e=a("riot");d(e)}else d(c.riot)}(this,function(b){a("./graphic.tag"),b.tag("gallery",'<div class="gallery th-gallery-parent" riot-style="{getTagStyleString()}"><graphic each="{name, i in this.opts.data.imageUrls}" data="{parent.getPhotoData(i)}" class="th-gallery-image {currentIndex === i ? \'active\' : \'\'}"></graphic><graphic class="th-gallery-arrow prev" data="{this.opts.data.arrowGraphics.previous}"></graphic><graphic class="th-gallery-arrow next" data="{this.opts.data.arrowGraphics.next}"></graphic></div>',function(a){this.mixin("base"),this.mixin("styles"),this.mixin("background"),this.mixin("rect"),this.mixin("action"),this.mixin("action-swipe"),this.mixin("action-transitions");var b=this;this.currentIndex=0,this.maxIndex=this.opts.data.imageUrls.length-1,this.prevButton=null,this.nextButton=null,this.getPhotoData=function(a){return{name:this.opts.data.name+a,source:this.opts.data.imageUrls[a],rect:{anchorX:"right",anchorY:"top",offsetX:0,offsetY:0,height:this.opts.data.rect.height,width:this.opts.data.rect.width}}},this.on("swipeleft",function(){this.incrementIndex(),this.emitTrackingObject("intent","swipeLeft")}),this.on("swiperight",function(){this.decrementIndex(),this.emitTrackingObject("intent","swipeRight")}),this.incrementIndex=function(){b.currentIndex++,b.currentIndex>b.maxIndex&&(b.currentIndex=0),b.update()},this.decrementIndex=function(){b.currentIndex--,b.currentIndex<0&&(b.currentIndex=b.maxIndex),b.update()},this.onPrevClick=function(){this.emitTrackingObject("click","clickPrev"),this.decrementIndex()},this.onNextClick=function(){this.emitTrackingObject("click","clickNext"),this.incrementIndex()},this.on("mount",function(){this.attachTouchActions(),this.prevButton=b.root.getElementsByClassName("prev")[0],this.nextButton=b.root.getElementsByClassName("next")[0],this.prevButton.addEventListener("click",b.onPrevClick),this.nextButton.addEventListener("click",b.onNextClick)}),this.on("unmount",function(){this.detachTouchActions(),this.prevButton.removeEventListener("click",b.onPrevClick),this.nextButton.removeEventListener("click",b.onNextClick)})})})},{"./graphic.tag":40,riot:112}],40:[function(a,b,c){!function(c,d){if("function"==typeof define&&void 0!==define.amd)define(["riot"],function(a){d(a)});else if(void 0!==b&&void 0!==b.exports){var e=a("riot");d(e)}else d(c.riot)}(this,function(a){a.tag("graphic",'<div if="{!this.isDisabledNavigationComponent()}" class="graphic" riot-style="{getTagStyleString()}" onclick="{handleClick}" onmouseenter="{handleHoverIn}" onmouseleave="{handleHoverOut}"><img if="{this.opts.data.source}" riot-src="{this.opts.data.source}" alt="{this.opts.data.description}" height="{this.determinedRect.height}" width="{this.determinedRect.width}"><img if="{this.opts.data.fullAdHoverSource}" riot-src="{this.opts.data.fullAdHoverSource}" alt="{this.opts.data.description}" height="{this.determinedRect.height}" width="{this.determinedRect.width}" class="ad-hover"><img if="{this.opts.data.hoverSource}" riot-src="{this.opts.data.hoverSource}" alt="{this.opts.data.description}" height="{this.determinedRect.height}" width="{this.determinedRect.width}" class="hover"></div><div if="{this.isDisabledNavigationComponent()}" class="graphic disabled" riot-style="{getTagStyleString()}"><img if="{this.opts.data.disabledSource}" riot-src="{this.opts.data.disabledSource}" alt="{this.opts.data.description}" height="{this.determinedRect.height}" width="{this.determinedRect.width}"></div>',function(a){this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.mixin("transitions"),this.mixin("action"),this.mixin("action-user"),this.mixin("action-transitions")})})},{riot:112}],41:[function(a,b,c){!function(c,d){if("function"==typeof define&&void 0!==define.amd)define(["riot"],function(a){d(a)});else if(void 0!==b&&void 0!==b.exports){var e=a("riot");d(e)}else d(c.riot)}(this,function(a){a.tag("minimal-video",'<div riot-style="{getTagStyleString()}" class="minimal-video"><video webkit-playsinline playsinline muted="true" __autoplay="{this.shouldItAutoplay()}"><source riot-src="{this.opts.data.video.url}"></video></div>',function(a){this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.mixin("teardown"),this.mixin("video"),this.mixin("action"),this.mixin("action-cuepoint"),this.mixin("action-transitions"),this.log=function(a){},this.mixin("weblab"),this.mixin("media-interop");var b=this;this.setupVideoAttributes=function(){var a=this.opts.data.video,b=this.getVideoEl();b&&"function"==typeof b.play&&(!1===a.autoplay||a.canplaythroughRequired||(this.shouldObeyMediaInteroperability()||(b.autoplay=!0),this.doAutoplay(b)),a.canplaythroughRequired&&b.addEventListener("canplaythrough",function(){this.requestPlayback({userInitiated:!1})}),a.loop&&(b.loop=!0))},this.play=function(){var a=b.getVideoEl();a&&"function"==typeof a.play&&b.requestPlayback({userInitiated:!1})},this.pause=function(){var a=b.getVideoEl();a&&"function"==typeof a.pause&&(a.pause(),b.setMediaPaused())},this.mute=function(){var a=b.getVideoEl();a&&"boolean"==typeof a.muted&&(a.muted=!0)},this.unmute=function(){var a=b.getVideoEl();a&&"boolean"==typeof a.muted&&(a.muted=!1)},this.reset=function(){var a=b.getVideoEl();a&&"number"==typeof a.currentTime&&(a.currentTime=0)},this.fullscreen=function(){window.Tarnhelm.log("Minimal video does not support fullscreen and normalscreen actions.")},this.normalscreen=this.fullscreen,this.minimalVideoListen=function(){var a=this.getVideoEl();a&&"function"==typeof a.addEventListener&&a.addEventListener("play",this.makeVisible)},this.minimalVideoTeardown=function(){var a=this.getVideoEl();a&&"function"==typeof a.removeEventListener&&a.removeEventListener("play",this.makeVisible)},this.initCuepointEngine=function(){var a=b.getVideoEl();a&&(this.cuepointEngine=new ad_design.CuepointEngine({media:a,cuepoints:this.getCuePoints(),observer:this}))},this.on("mount",function(){this.makeInvisible(),this.setVideoEl(this.root.getElementsByTagName("video")[0]),this.setupVideoAttributes(),this.minimalVideoListen(),this.initCuepointEngine()}),this.on("unmount",function(){this.fireSyntheticMediaPlaybackEvent("pause","minimal-video"),this.setMediaEnded(),this.minimalVideoTeardown(),this.cuepointEngine.destroy()})})})},{riot:112}],42:[function(a,b,c){!function(c,d){if("function"==typeof define&&void 0!==define.amd)define(["riot"],function(a){d(a)});else if(void 0!==b&&void 0!==b.exports){var e=a("riot");d(e)}else d(c.riot)}(this,function(a){a.tag("panel",'<div class="panel" riot-style="{getTagStyleString()}" onclick="{handleClick}" onmouseenter="{handleHoverIn}" onmouseleave="{handleHoverOut}"><child each="{name, i in opts.data.childNames}" name="{name}"></child></div>',function(a){this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.mixin("background"),this.mixin("transitions"),this.mixin("action"),this.mixin("action-user"),this.mixin("action-transitions")})})},{riot:112}],43:[function(a,b,c){!function(c,d){if("function"==typeof define&&void 0!==define.amd)define(["riot"],function(a){d(a)});else if(void 0!==b&&void 0!==b.exports){var e=a("riot");d(e)}else d(c.riot)}(this,function(a){a.tag("reely",'<div id="{this.opts.data.name}" riot-style="{getTagStyleString()}" class="reely-inject-el"></div>',function(a){this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.mixin("teardown"),this.mixin("video"),this.mixin("zoolander"),this.mixin("action"),this.mixin("action-cuepoint"),this.mixin("action-transitions");var b=this,c=window.Tarnhelm.getDeviceInfo().isMobileDevice?40:20;this.determineControlBarConfig=function(a){if(!a)return{};for(var b=Object.keys(a),c={},d=0;d<b.length;d++){var e=b[d];c[e]=a[e]}return c},this.getButtonSize=function(a){return a&&a.buttonSize?a.buttonSize:c},this.determineSpritesheetsConfig=function(a){var b={buttonSize:this.getButtonSize(a)};return a&&a.png&&(b.png=a.png),b},this.initReely=function(){var a=this.opts.data,b=this.root.getElementsByClassName("reely-inject-el")[0],c=this.getAdIframeZoolander(),d=this.determineControlBarConfig(a.controls),e=this.determineSpritesheetsConfig(a.spritesheets),f=this.determineSpritesheetsConfig(a.overlaySpritesheets),g=this.getAdInstance()&&this.getAdInstance().getContainerFrame();this.reelyPlayer=new ad_design.Reely({injectEl:b,src:this.opts.data.video.url,zoolander:c,slate:this.opts.data.video.slate||"",autoplay:this.opts.data.video.autoplay||!1,autosound:this.opts.data.video.autosound||!1,controlBar:d,spritesheets:e,overlaySpritesheets:f,iframeId:g?g.id:"",playsInline:void 0===this.opts.data.video.playsInline||this.opts.data.video.playsInline,fullscreen:this.opts.data.video.fullscreen||!1})},this.initCuepointEngine=function(){this.cuepointEngine=new ad_design.CuepointEngine({media:this.reelyPlayer.videoEl,cuepoints:this.getCuePoints(),observer:this})},this.play=function(){b.reelyPlayer.play()},this.pause=function(){b.reelyPlayer.pause()},this.mute=function(){b.reelyPlayer.mute()},this.unmute=function(){b.reelyPlayer.unmute()},this.reset=function(){b.reelyPlayer.reset()},this.fullscreen=function(){b.reelyPlayer.fullscreenMode()},this.normalscreen=function(){b.reelyPlayer.normalScreenMode()},this.on("mount",function(){this.initReely(),this.setVideoEl(this.reelyPlayer.videoEl),this.initCuepointEngine()}),this.on("unmount",function(){this.fireSyntheticMediaPlaybackEvent("pause","reely"),this.reelyPlayer.teardown(),this.cuepointEngine.destroy()})})})},{riot:112}],44:[function(a,b,c){!function(c,d){if("function"==typeof define&&void 0!==define.amd)define(["riot"],function(a){d(a)});else if(void 0!==b&&void 0!==b.exports){var e=a("riot");d(e)}else d(c.riot)}(this,function(b){b.tag("rotator",'<div class="rotator" riot-style="{getTagStyleString()}"><child name="{activeChildName}"></child></div>',function(b){var c=a("../stores/delegators/wrap.js"),d=a("../stores/retrievers/rotator.js");this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.mixin("rotator"),this.mixin("background"),this.mixin("transitions"),this.mixin("action"),this.mixin("action-transitions");var e=this.getAdInstance().getAdStore();this.activeChildName=this.opts.data.childNames[this.opts.data.activeIndex],this.setActiveChildName=function(){var a=this.opts.data.childNames[this.opts.data.activeIndex];if(a!==this.activeChildName){var b=this;this.activeChildName=void 0,window.setTimeout(function(){b.activeChildName=a,b.update()},1)}},this.on("update",this.setActiveChildName),this.hasWrapConfig=function(){return!(!this.opts.data.wrapConfig||!this.opts.data.wrapConfig.enabled)},this.updateWrap=function(){this.hasWrapConfig()&&c.triggerRotatorWrapSwap(this.opts.data,e.getState())},this.resizeAdContainer=function(){if("expander"===this.opts.data.name){var a=window.Tarnhelm.getAd(e.getAdId()),b=d.getActiveChildComponent(this.opts.data,e.getComponentLibrary());a.resizeAdContainer(b.rect)}},this.on("update",this.updateWrap),this.on("update",this.resizeAdContainer)})})},{"../stores/delegators/wrap.js":70,"../stores/retrievers/rotator.js":76,riot:112}],45:[function(a,b,c){!function(c,d){if("function"==typeof define&&void 0!==define.amd)define(["riot"],function(a){d(a)});else if(void 0!==b&&void 0!==b.exports){var e=a("riot");d(e)}else d(c.riot)}(this,function(b){a("./graphic.tag"),b.tag("rotatorbutton",'<div class="rotatorbutton" riot-style="{getTagStyleString()}" onclick="{handleClickAndRotatorbuttonClick}" onmouseenter="{handleHoverIn}" onmouseleave="{handleHoverOut}"><graphic data="{graphicData}"></graphic></div>',function(a){var b=this;this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.mixin("transitions"),this.mixin("action"),this.mixin("action-user"),this.mixin("action-transitions"),this.handleRotatorbuttonClick=function(a){if(!this.isActive()){var c=b.opts.data;if(c.rotatorName){var d={actionName:"route",data:{rotatorConfigs:[{name:c.rotatorName,index:c.rotatorIndex}]}};c.rotatorConfigs&&c.rotatorConfigs.length&&(d.data.rotatorConfigs=d.data.rotatorConfigs.concat(c.rotatorConfigs)),d.data.showComponents=c.showComponents,d.data.hideComponents=c.hideComponents,this.getAdInstance().getActionHandler().trigger(d)}}},this.handleClickAndRotatorbuttonClick=function(a){this.handleClick(a),this.handleRotatorbuttonClick(a),this.hasAction("click")||this.emitTrackingObject("click","click")},this.getGraphicData=function(){var a=this.opts.data,b={description:a.description,source:a.source,hoverSource:a.hoverSource,fullAdHoverSource:a.fullAdHoverSource,disabledSource:a.disabledSource,rect:{anchorX:"left",anchorY:"top",offsetX:0,offsetY:0,height:a.rect.height,width:a.rect.width}};return this.isActive()&&(b.source=a.activeSource),b},this.isActive=function(){var a=this.getAdInstance().getAdStore().getComponentState(this.opts.data.rotatorName);return a&&this.opts.data.rotatorIndex===a.activeIndex},this.setCursor=function(){this.isActive()?this.removeStyleRule("cursor"):this.addStyleRule("cursor","pointer")},this.setState=function(){this.graphicData=this.getGraphicData(),this.setCursor()},this.setState(),this.on("update",function(){this.setState()})})})},{"./graphic.tag":40,riot:112}],46:[function(a,b,c){!function(c,d){if("function"==typeof define&&void 0!==define.amd)define(["riot"],function(a){d(a)});else if(void 0!==b&&void 0!==b.exports){var e=a("riot");d(e)}else d(c.riot)}(this,function(b){b.tag("slider-rotator",'<div class="slider-rotator" riot-style="{getTagStyleString()}"><div class="slide-offset js-offset" riot-style="{getSlideOffsetInitialStyle()}"><div each="{name, i in opts.data.childNames}" class="slide"><child name="{name}"></child></div></div><graphic class="th-slider-arrow prev" if="{this.shouldShowArrowPrev()}" data="{this.opts.data.arrowGraphics.previous}" onclick="{this.onPrevClick}"></graphic><graphic class="th-slider-arrow next" if="{this.shouldShowArrowNext()}" data="{this.opts.data.arrowGraphics.next}" onclick="{this.onNextClick}"></graphic></div>',function(b){var c=a("../../modules/numberUtils.js");this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.mixin("background"),this.mixin("rotator"),this.mixin("action"),this.mixin("action-transitions"),this.mixin("action-touch"),this.resting=!0,this.on("indexChanged",function(){this.startVisibleLoop(),this.handleIndexChanged()}),this.handleIndexChanged=function(){var a={actionName:"video:pause-all:under-ancestor",ancestorName:this.opts.data.name};this.triggerActions([a])};var d=window.Tarnhelm.getDeviceInfo().canTransitionTransforms;d||window.Tarnhelm.log("Slider NOT supporting touch actions; We've determined that we cannot transition transforms."),this.addStyleRule("overflow","hidden"),this.addStyleRule("white-space","nowrap");var e,f,g,h,i,j;this.getRestingStateOffset=function(){return this.opts.data.activeIndex*this.opts.data.rect.width*-1},this.getSliderStateData=function(){return{activeIndex:this.opts.data.activeIndex,slideWidth:this.opts.data.rect.width,restingOffset:this.getRestingStateOffset()}},this.getTransitionString=function(a){return"transform "+a+"s cubic-bezier(0.215, 0.610, 0.355, 1.000)"},this.getOffsetString=function(a){return"translate3d("+(a+"px")+",0,0)"},this.getMaxOffset=function(a,b){return this.isAtBeginning()?a+.35*b:a+b},this.getMinOffset=function(a,b){return this.isAtEnd()?a-.35*b:a-b},this.isAtBeginning=function(){return 0===this.opts.data.activeIndex},this.isAtEnd=function(){var a=this.opts.data.childNames.length-1;return this.opts.data.activeIndex===a},this.setOffsetDivStyle=function(a,b){var c=this.root.getElementsByClassName("js-offset")[0];this.setOffsetDivTransition(b,c),c.style.transform=this.getOffsetString(a)},this.setOffsetDivTransition=function(a,b){var c=b||this.root.getElementsByClassName("js-offset")[0];c.style.transition=null==a?"none":this.getTransitionString(a)},this.currAnimProps=null,this.sliderHandleTouchStart=function(a){clearTimeout(this.slideCompleteTimeout),this.setOffsetDivTransition(null);var b=this.getSliderStateData();this.currAnimProps={hasMovedOffset:!1,currTouchStartOffset:this.parseCurrentOffset(),maxPan:this.getMaxOffset(b.restingOffset,b.slideWidth),minPan:this.getMinOffset(b.restingOffset,b.slideWidth)},this.startVisibleLoop(),this.emitTrackingObject("intent","touchStart")},this.sliderHandleTouchMove=function(a){var b=this.currAnimProps;if(a&&!a.isVerticalMove){b.hasMovedOffset=!0,this.getSliderStateData();var d=a.totalDistance.x,e=b.currTouchStartOffset+d;e=c.clamp(e,b.minPan,b.maxPan),this.setOffsetDivStyle(e,null)}else b&&b.hasMovedOffset&&(this.returnToResting(),this.currAnimProps=null)},this.sliderHandleTouchEnd=function(a){if(this.currAnimProps=null,a&&!a.isVerticalMove){this.emitTrackingObject("intent","touchEnd");var b=this.getSliderStateData(),c=this.parseCurrentOffset(),d=this.getOffsetFromResting(b,c),e=0!==a.velocity.x,f=0>d,g=a.velocity.x<0;if(e&&f!==g)this.returnToResting();else{var h=f,i=this.testNeedsIndexChange(b,a),j=h&&this.isAtEnd()||!h&&this.isAtBeginning();if(i&&!j)return this.doSlideChange(a,b,h),void this.emitTrackingObject("intent","swipe"+(h?"Left":"Right"));this.returnToResting()}}},this.doSlideChange=function(a,b,c){var d=c?-1*b.slideWidth:b.slideWidth,e=b.restingOffset+d,f=.85*a.transitionLengthFactor,g=this.determineTransitionLength(e,f);this.setOffsetDivStyle(e,g);var h=c?this.incrementIndex:this.decrementIndex;this.callIndexChangeAfterTransition(h.bind(this),g)},this.callIndexChangeAfterTransition=function(a,b){clearTimeout(this.slideCompleteTimeout),b?this.slideCompleteTimeout=setTimeout(a,1e3*b):(a(),this.stopVisibleLoop()),a=null},this.testNeedsIndexChange=function(a,b){var c=!1;if(c=15<Math.abs(b.velocity.x))return c;var d=this.parseCurrentOffset();return c=.4*a.slideWidth<Math.abs(this.getOffsetFromResting(a,d))},this.getOffsetFromResting=function(a,b){return b-a.restingOffset},this.returnToResting=function(){var a=this.getRestingStateOffset(),b=this.determineTransitionLength(a,1.5);this.setOffsetDivStyle(a,b),this.startVisibleLoop()},this.parseCurrentOffset=function(){var a=this.root.getElementsByClassName("js-offset")[0];if(!a||!a.style||!a.style.transform)return this.getRestingStateOffset();var b=a.style.transform.split("translate3d(")[1].split(",")[0];return parseInt(b,10)},this.determineTransitionLength=function(a,b){var c=this.getSliderStateData(),d=this.parseCurrentOffset(),e=b||.85,f=Math.abs(d-a)/c.slideWidth;return 1>f&&(e*=f),e},this.getSlideOffsetInitialStyle=function(){var a=this.getSliderStateData().restingOffset,b=this.determineTransitionLength(a),c={height:this.opts.data.rect.height+"px"};return d?(c.transition=this.getTransitionString(b),c.transform=this.getOffsetString(a)):(c.transition=this.getNonTranslateTransitionString(.85),c.left=this.getNonTranslateOffsetString(a)),this.cssStringFromCSSObject(c)},d&&(this.addTouchStartHandler(this.sliderHandleTouchStart),this.addTouchMoveHandler(this.sliderHandleTouchMove),this.addTouchEndHandler(this.sliderHandleTouchEnd)),this.shouldShowArrowPrev=function(){return this.opts.data.arrowGraphics&&this.opts.data.arrowGraphics.previous&&!this.isAtBeginning()},this.shouldShowArrowNext=function(){return this.opts.data.arrowGraphics&&this.opts.data.arrowGraphics.next&&!this.isAtEnd()},this.manualUpdateNonTranslateOffsetDiv=function(a,b){b.style.left=this.getNonTranslateOffsetString(a)},this.getNonTranslateTransitionString=function(a){return"left "+a+"s cubic-bezier(0.215, 0.610, 0.355, 1.000)"},this.getNonTranslateOffsetString=function(a){return a+"px"},this.on("update",function(){if(!d){var a=this.root.getElementsByClassName("js-offset")[0];if(!a)return;this.manualUpdateNonTranslateOffsetDiv(this.getRestingStateOffset(),a)}}),this.onPrevClick=function(){this.decrementIndex(),this.emitTrackingObject("click","clickPrev")},this.onNextClick=function(){this.incrementIndex(),this.emitTrackingObject("click","clickNext")},this.on("mount",function(){this.root.getElementsByClassName("js-offset")[0].addEventListener("transitionend",function(a){this.stopVisibleLoop()}.bind(this)),e=this.opts.data.activeIndex,f=[e],g=this.root.getElementsByClassName("slide"),h=this.root.children[0],this.tags.child&&this.tags.child[e]?(this.tags.child[e].trigger("slideMoveIn"),this.tags.child[e].trigger("slideActivated")):this.tags.child&&this.tags.child.trigger("slideActivated")}),this.on("unmount",function(){this.stopVisibleLoop()}),this.determineVisibleSlides=function(){var a,b=[],c=h.getBoundingClientRect(),d=g.length;for(a=0;d>a;a++){var e=g[a].getBoundingClientRect();if(e.left<c.right&&e.right>c.left)b.push(a);else if(e.left>c.right)break}return b},this.startVisibleLoop=function(){this.resting&&(this.resting=!1,j())},this.stopVisibleLoop=function(){this.resting||(this.resting=!0,i())},i=function(){isNaN(e)||e===this.opts.data.activeIndex||(this.tags.child[e].trigger("slideDeactivated"),this.tags.child[this.opts.data.activeIndex].trigger("slideActivated"),e=this.opts.data.activeIndex)}.bind(this),j=function(){var a,b=this.determineVisibleSlides(),c=Math.min(b[0],f[0]),d=Math.max(b[b.length-1],f[f.length-1]);for(a=c;d>=a;a++)-1===b.indexOf(a)&&-1!==f.indexOf(a)?this.tags.child[a].trigger("slideMoveOut"):-1!==b.indexOf(a)&&-1===f.indexOf(a)&&this.tags.child[a].trigger("slideMoveIn");f=b,this.resting||requestAnimationFrame(j)}.bind(this)})})},{"../../modules/numberUtils.js":20,riot:112}],47:[function(a,b,c){!function(c,d){if("function"==typeof define&&void 0!==define.amd)define(["riot"],function(a){d(a)});else if(void 0!==b&&void 0!==b.exports){var e=a("riot");d(e)}else d(c.riot)}(this,function(a){a.tag("youtube",'<div class="youtube" riot-style="{getTagStyleString()}" onmouseenter="{handleHoverIn}" onmouseleave="{handleHoverOut}"><div class="youtube_injection"></div></div>',function(a){this.mixin("base"),this.mixin("styles"),this.mixin("rect"),this.mixin("background"),this.mixin("transitions"),this.mixin("action"),this.mixin("action-user"),this.mixin("video"),this.mixin("resize"),this.firstStart=!0,this.actionHandler=this.getAdInstance().getActionHandler();var b=this;this.loadYoutubeAPI=function(){window.onYouTubeIframeAPIReady=function(){window.Tarnhelm.triggerGlobalAction({actionName:"api-ready:youtube"})};var a="tarnhelm_yt_script",b=document.getElementById(a);
if(!b){(b=document.createElement("script")).id=a,b.src="https://www.youtube.com/iframe_api";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}},this.getAutoplayValue=function(){return b.opts.data.video.autoplay?1:0},this.initYoutubePlayer=function(){b.player=new YT.Player(b.root.firstChild.firstChild,{height:b.opts.data.rect.height,width:b.opts.data.rect.width,videoId:b.opts.data.video.id,playerVars:{autohide:1,autoplay:b.getAutoplayValue(),rel:0,showinfo:0,wmode:"transparent"},events:{onStateChange:function(a){a.data===YT.PlayerState.PLAYING&&b.firstStart&&(b.firstStart=!1,b.handleEvent(a,"videoStart")),a.data===YT.PlayerState.ENDED&&b.handleEvent(a,"videoComplete")}}})},this.play=function(){b.player.playVideo()},this.pause=function(){b.player.pauseVideo()},this.mute=function(){b.player.mute()},this.unmute=function(){b.player.unMute()},this.reset=function(){b.player.stopVideo()},this.on("mount",function(){this.initVideoActionReceivers(),this.registerTeardownFunction(this.teardownVideoActionReceivers),window.YT?this.initYoutubePlayer():(this.actionHandler.one("api-ready:youtube",this.initYoutubePlayer),"function"!=typeof window.onYouTubeIframeAPIReady&&this.loadYoutubeAPI())}),this.on("unmount",function(){b.player.destroy()}),this.on("resize",function(){b.player.getIframe().style.width=b.determinedRect.width,b.player.getIframe().style.height=b.determinedRect.height})})})},{riot:112}],48:[function(a,b,c){var d=a("riot"),e={start:"10ms",firstQuartile:"25%",midpoint:"50%",thirdQuartile:"75%",complete:"90%"},f={init:function(){if(this.cuePoints=[],this.hasCuePointActions()){var a,b=this.getCuePointActions(),c=b.length,d=0;for(this.opts.data.video.viconst;c>d;d++)a={time:b[d].timeString,data:b[d]},this.cuePoints.push(a)}this.addCuePointTracking()},onCuepoint:function(a){this.triggerActions(a.data.actions)},getCuePoints:function(){return this.cuePoints},getCuePointActions:function(){var a=this.opts.data.actions||{};return a&&a.cuePoints?a.cuePoints:[]},hasCuePointActions:function(){return 0<this.getCuePointActions().length},getCuePointAt:function(a){for(var b=0,c=this.cuePoints.length;c>b;b++)if(this.cuePoints[b].time===a)return this.cuePoints[b];return null},addCuePointTracking:function(){var a,b;if(this.opts&&this.opts.data&&this.opts.data.name)for(a in e)(b=this.getCuePointAt(e[a]))||(b={time:e[a],data:{actions:[]}},this.cuePoints.push(b)),b.data.actions=b.data.actions.concat([{actionName:"track:"+this.opts.data.name,eventType:"media",eventSubType:a}]);else console.log("this.opts.data.name is undefined",this)}};d.mixin("action-cuepoint",f)},{riot:112}],49:[function(a,b,c){a("riot").mixin("action-swipe",{init:function(){this.attachTouchActions||this.mixin("action-touch"),this.hasTouch&&this.addTouchEndHandler(this.handleSwipeEnd)},handleSwipeEnd:function(a){!a.isMoveY&&a.isSwipe&&(a.totalDistance.x<0?this.handleSwipeActions("swipeleft"):this.handleSwipeActions("swiperight"))},handleSwipeActions:function(a){this.trigger("swipe"),this.trigger(a),this.hasAction("swipe")&&this.triggerActions(this.opts.data.actions.swipe),this.hasAction(a)&&this.triggerActions(this.opts.data.actions[a])}})},{riot:112}],50:[function(a,b,c){var d=a("riot"),e=(a("../../modules/functionUtils.js"),a("../../modules/touchData.js")),f={init:function(){this.touchStartHandlers=[],this.touchMoveHandlers=[],this.touchEndHandlers=[],this.touchMoveRAF=null,this.hasTouch=window.Tarnhelm.getDeviceInfo().hasTouch,this.hasTouch&&(this.registerTeardownFunction||this.mixin("teardown"),this.registerTeardownFunction(this.detachTouchActions),this.resetTouchData(),this.on("mount",function(){this.attachTouchActions()}),window.Tarnhelm.getIsDebug()&&null!=this.setupTouchDebugVisual&&this.setupTouchDebugVisual())},setupTouchDebugVisual:null,attachTouchActions:function(){this.boundTouchMoveAnimationFrame=this.handleTouchMoveAnimationFrame.bind(this),this.root.addEventListener("touchstart",this.handleTouchStart),this.root.addEventListener("touchmove",this.handleTouchMove),this.root.addEventListener("touchend",this.handleTouchEnd)},detachTouchActions:function(){this.root.removeEventListener("touchstart",this.handleTouchStart),this.root.removeEventListener("touchmove",this.handleTouchMove),this.root.removeEventListener("touchend",this.handleTouchEnd),this.boundTouchMoveAnimationFrame=null,this.throttledHandleTouchMove=null},resetTouchData:function(){this.touchData=null,this.isTouched=!1},stopEvent:function(a){var b=!!this.touchData,c=!!b&&!!this.touchData.isTouchTypeDetermined,d=!!b&&!!this.touchData.isVerticalMove;b&&c&&!d&&a&&(a.stopPropagation(),a.preventDefault())},addTouchStartHandler:function(a,b){this._addTouchEventHandler(this.touchStartHandlers,a,b)},addTouchEndHandler:function(a,b){this._addTouchEventHandler(this.touchEndHandlers,a,b)},addTouchMoveHandler:function(a,b){this._addTouchEventHandler(this.touchMoveHandlers,a,b)},_addTouchEventHandler:function(a,b,c){var d=c||this;a.push({callback:b,thisArg:d})},handleTouchStart:function(a){this.isTouched=!0,this.touchData=new e(a),this.callHandlers(this.touchStartHandlers,this.touchData,a),this.touchMoveRAF=window.requestAnimationFrame(this.handleTouchMoveAnimationFrame)},handleTouchMove:function(a){this.stopEvent(a),this.touchData&&this.touchData.addTouchMoveData(a)},handleTouchMoveAnimationFrame:function(){this.touchData&&(this.callHandlers(this.touchMoveHandlers,this.touchData),this.touchMoveRAF=window.requestAnimationFrame(this.handleTouchMoveAnimationFrame))},handleTouchEnd:function(a){window.cancelAnimationFrame(this.touchMoveRAF),this.touchData&&(this.touchData.finalizeTouchDataOnEnd(a),this.callHandlers(this.touchEndHandlers,this.touchData)),this.resetTouchData()},callHandlers:function(a,b,c){if(a.length){var d=[b,c];if(a.length)for(var e=0;e<a.length;e++)this.callHandler(a[e],d)}},callHandler:function(a,b){a.callback.apply(a.thisArg,b)}};d.mixin("action-touch",f)},{"../../modules/functionUtils.js":15,"../../modules/touchData.js":25,riot:112}],51:[function(a,b,c){a("riot").mixin("action-transitions",{init:function(){var a=this,b=this.getAdInstance().getActionHandler();this.hasAction("transitionsOutStart")&&b.on("transition-component-out:"+a.opts.data.name,function(){b.triggerMany(a.opts.data.actions.transitionsOutStart)}),this.hasAction("transitionsOutComplete")&&b.on("transition-component-out:"+a.opts.data.name+":complete",function(){b.triggerMany(a.opts.data.actions.transitionsOutComplete)})}})},{riot:112}],52:[function(a,b,c){a("riot").mixin("action-user",{init:function(){this.hasAction("click")&&this.addStyleRule("cursor","pointer")},handleClick:function(a){this.handleEvent(a,"click")},handleHoverIn:function(a){this.handleEvent(a,"hoverIn")},handleHoverOut:function(a){this.handleEvent(a,"hoverOut")}})},{riot:112}],53:[function(a,b,c){var d=a("riot"),e=["update","updated"],f={init:function(){if(this.hasAction("init")){var a=this.opts.data.actions.init;this.triggerActions(a)}this.on("all",function(a){if(a&&this.hasAction(a)&&-1===e.indexOf(a)){var b=this.opts.data.actions[a];this.triggerActions(b)}})},handleEvent:function(a,b){if(a.preventUpdate=!0,!this.hasAction(b))return!0;var c=this.opts.data.actions[b];return this.triggerActions(c),"click"===b?this.emitTrackingObject(b,b):/^video/i.test(b)?this.emitTrackingObject("video",b):this.emitTrackingObject("intent",b),!0},triggerActions:function(a){this.isDisabledNavigationComponent()?window.Tarnhelm.log('Suppressing actions for navigation component "'+this.opts.data.name+'", navigation is currently disabled.'):this.getAdInstance().getActionHandler().triggerMany(a)},hasAction:function(a){return this.opts.data.actions&&this.opts.data.actions[a]&&this.opts.data.actions[a].length}};d.mixin("action",f)},{riot:112}],54:[function(a,b,c){var d=a("riot"),e=["background-attachment","background-image","background-position","background-repeat","background-size"],f={init:function(){this.setBackground(),this.on("update",this.setBackground)},setBackground:function(){var a,b=this.opts.data||{};(a=b.useAlternateBackground?b.alternateBackground||{}:b.background||{}).color?this.addStyleRule("background-color",a.color):this.removeStyleRule("background-color"),a.source?(this.addStyleRule("background-image","url("+a.source+")"),a.attachment?this.addStyleRule("background-attachment",a.attachment):this.removeStyleRule("background-attachment"),a.position?this.addStyleRule("background-position",a.position):this.removeStyleRule("background-position"),a.repeat?this.addStyleRule("background-repeat",a.repeat):this.addStyleRule("background-repeat","no-repeat"),a.size?this.addStyleRule("background-size",a.size):this.addStyleRule("background-size",this.getBackgroundSize())):this.removeStyleRules(e)},getBackgroundSize:function(){return this.determinedRect.width+" "+this.determinedRect.height}};d.mixin("background",f)},{riot:112}],55:[function(a,b,c){var d=a("riot"),e={start:"//imdb.com/tr/?pt=video&spt=displayad&ht=actionOnly&pageAction=video-view-t0&const=ad",firstQuartile:"//imdb.com/tr/?pt=video&spt=displayad&ht=actionOnly&pageAction=video-view-t25&const=ad",midpoint:"//imdb.com/tr/?pt=video&spt=displayad&ht=actionOnly&pageAction=video-view-t50&const=ad",thirdQuartile:"//imdb.com/tr/?pt=video&spt=displayad&ht=actionOnly&pageAction=video-view-t75&const=ad",complete:"//imdb.com/tr/?pt=video&spt=displayad&ht=actionOnly&pageAction=video-view-t100&const=ad"},f={getAdInstance:function(){if(this._adInstance)return this._adInstance;for(var a,b=this;!a;)a=(b=b.parent)._adInstance;return this._adInstance=a},getAdStore:function(){return this.getAdInstance().getAdStore()},getComponentLibrary:function(){return this.getAdStore().getComponentLibrary()},isDisabledNavigationComponent:function(){return!!this.opts.data.isNavigationComponent&&this.getAdInstance().getAdStore().getNavigationComponentsDisabledFlag()},init:function(){var a="";if(this.data&&this.data.name&&(a=this.data.name),a){var b=this,c=this.getAdInstance().getActionHandler();c.on("track:"+a,function(c){c&&c.eventType?b.emitTrackingObject(c.eventType,c.eventSubType):window.Tarnhelm.log("Tracking event called as an action, track:"+a+", but no eventType was passed. Ignoring.")}),this.on("unmount",function(){c.off("track:"+a)})}},emitTrackingObject:function(a,b,c){var d=this.getAdInstance(),f=d.getTrackingConsumer();if(f){var g,h,i,j=d.getContainerFrame().contentDocument,k=j.hasOwnProperty("ad")&&j.ad.hasOwnProperty("cid")?j.ad.cid:null;if(g={unitName:d.getName(),eventType:a,componentName:this.componentData.name,componentPath:this.getComponentPath(),componentType:this.componentData.type,timeElapsed:d.timeSinceInit(),data:{label:this.componentData.description||this.componentData.name,eventSubType:b}},"reely"===this.componentData.type&&null!==k&&(e[b]&&(h=e[b]+k,(new Image).src=h,window.Tarnhelm.log("  - reely event["+b+"] = "+h)),"start"===b&&(h="//imdb.com/tr/?pt=video&spt=displayad&ht=actionOnly&pageAction=displayad&const=ad"+k,(new Image).src=h,window.Tarnhelm.log("  - reely video 'intent' = "+h))),c)for(i in c)g.data[i]=c[i];f(g)}},getComponentPath:function(){for(var a=this.getAdInstance().getName(),b=this.componentData.name,c=this.parent,d=this.componentData.name;c.componentData&&c.componentData.name!==a;)d!==c.componentData.name&&(b=c.componentData.name+"."+b,d=c.componentData.name),c=c.parent;return this.getComponentPath=function(){return b},b}};d.mixin("base",f)},{riot:112}],56:[function(a,b,c){var d=a("riot"),e="granted",f="pending",g={init:function(){this.setMediaKey=null,this.lastPermission="",this.hasSubscribed=!1,this.shouldObeyMediaInteroperability()&&this.subscribeToMediaNotifications()},getSlotId:function(){return this.getAdInstance()&&this.getAdInstance().getContainerFrame()?this.getAdInstance().getContainerFrame().id:""},getAssetName:function(){return this.getSlotId()?this.getSlotId():"minimal-video"},requestPlayback:function(a){if(this.shouldObeyMediaInteroperability()){var b=this,c=a||{};if(!this.hasSubscribed)return this.subscribeToMediaNotifications({shouldRequestPlayback:!0});if(this.lastPermission.toLowerCase()===e){var d=this.getVideoEl();d&&(d.play(),this.setMediaPlay())}this.getBridge().requestPlayback({name:this.getAssetName(),userInitiated:!!c.userInitiated,videoFrame:this.getVideoFrame()}).then(function(a){b.log("requestPlayback success"),b.onMediaPermissionsChanged(a)},function(a){b.log("requestPlayback error: "+JSON.stringify(a))})}else this.getVideoEl().play()},setMediaPlay:function(){this.setStatus("setMediaPlay")},setMediaPaused:function(){this.setStatus("setMediaPaused")},setMediaEnded:function(){this.getBridge().isMediaOrchestratorBridge?this.setStatus("setMediaEnded",{isMinimalVideo:!0}):this.setStatus("setMediaEnded")},setStatus:function(a,b){if(this.shouldObeyMediaInteroperability()){this.log(a);var c=this,d=this.getBridge()[a],e={key:this.setMediaKey,permission:this.lastPermission};(b?d(e,b):d(e)).then(function(b){c.log(a+" success")},function(b){c.log(a+" error: "+JSON.stringify(b))})}},subscribeToMediaNotifications:function(a){var b=!!(a||{}).shouldRequestPlayback;if(!this.hasSubscribed){var c=this.getBridge(),d={onMediaPermissionsChanged:this.onMediaPermissionsChanged.bind(this)};c.isMediaOrchestratorBridge&&(d.name=this.getAssetName()),this.hasSubscribed=c.subscribe(d),this.log("subscribeToMediaNotifications: "+this.hasSubscribed),b&&this.requestPlayback({userInitiated:!1})}},onMediaPermissionsChanged:function(a){if(a&&a.permission&&this.shouldObeyMediaInteroperability()){var b=a.permission.toLowerCase();switch(this.setMediaKey=a.key,this.lastPermission=a.permission,b){case e:this.log("onMediaPermissionsChanged: "+e);var c=this.getVideoEl();c&&(c.play(),this.setMediaPlay());break;case"denied":this.log("onMediaPermissionsChanged: denied"),this.pause();break;case f:this.log("onMediaPermissionsChanged: "+f);break;default:this.log("onMediaPermissionsChanged unexpected permission: "+b)}}},getVideoFrame:function(){var a=this.getVideoEl(),b=a?a.getBoundingClientRect():{},c=0;a&&a.ownerDocument&&a.ownerDocument.defaultView&&(c=a.ownerDocument.defaultView.innerWidth);var d=(c-window.top.innerWidth)/2,e={x:d>0&&"inline20"===this.getSlotId()?b.x-d:b.x,y:b.y,width:b.width,height:b.height},f=window.top.Tarnhelm.getDeviceInfo();if(this.getBridge().isMediaOrchestratorBridge&&f.isMobileSite){var g=a.ownerDocument.defaultView,h=g?g.frameElement||g.iframe:null,i=h?h.getBoundingClientRect():{x:0,y:0};e.x+=i.x+window.scrollX,e.y+=i.y+window.scrollY}return e}};d.mixin("media-interop",g),b.exports=g},{riot:112}],57:[function(a,b,c){var d=a("riot"),e=a("../../modules/rectProcessor.js"),f={init:function(){this.setRect(),this.on("update",this.setRect)},setRect:function(){var a=(this.opts.data||{}).rect||{};this.removeStyleRules(["top","right","bottom","left"]),this.determinedRect=e.process(a),this.addStyleRule("position",this.determinedRect.position),this.addStyleRule(this.determinedRect.anchorX,this.determinedRect.offsetX),this.addStyleRule(this.determinedRect.anchorY,this.determinedRect.offsetY),this.addStyleRule("height",this.determinedRect.height),this.addStyleRule("width",this.determinedRect.width)}};d.mixin("rect",f)},{"../../modules/rectProcessor.js":22,riot:112}],58:[function(a,b,c){a("riot").mixin("resize",{init:function(){this._isMounted=!1,this._currentWidth=this.opts.data.rect.width,this.on("mount",function(){this._isMounted=!0}),this.on("update",this._checkForResize)},_checkForResize:function(){this._isMounted&&this.opts.data.rect.width!==this._currentWidth&&(this._currentWidth=this.opts.data.rect.width,this.trigger("resize"))}})},{riot:112}],59:[function(a,b,c){a("riot").mixin("rotator",{init:function(){this.registerTeardownFunction||this.mixin("teardown"),this.initRotatorEventHandlers(),this.registerTeardownFunction(this.teardownRotatorEventHandlers)},initRotatorEventHandlers:function(){this.prevActiveIndex=this.activeIndex,this.on("update",this.handleRotatorUpdate)},teardownRotatorEventHandlers:function(){this.off("update",this.handleRotatorUpdate)},incrementIndex:function(){var a={actionName:"rotator:increment-index",componentName:this.opts.data.name};this.triggerActions([a])},decrementIndex:function(){var a={actionName:"rotator:decrement-index",componentName:this.opts.data.name};this.triggerActions([a])},handleRotatorUpdate:function(){var a=this.opts.data.activeIndex,b=this.prevActiveIndex;null!=b&&b!==a&&(this.trigger("indexChanged"),this.emitTrackingObject("intent","navigateRotator",{index:a}),this.hasAction("indexChanged")&&this.triggerActions(this.opts.data.actions.indexChanged)),this.prevActiveIndex=a}})},{riot:112}],60:[function(a,b,c){var d=a("riot"),e={transform:["-webkit-transform","-ms-transform"],"transform-origin":["-webkit-transform-origin","-moz-transform-origin","-ms-transform-origin","-o-transform-origin"],transition:["-webkit-transition","-moz-transition","-o-transition"],filter:["-webkit-filter","-moz-filter","-o-filter"]},f={init:function(){this.initTagStyles(),this.addCustomCSSTagStyles(),this.on("update",this.setTagStyleString)},initTagStyles:function(){this.tagStyles={},this.tagStyleString=""},addCustomCSSTagStyles:function(){var a=this.opts.data.css;a&&this.addStyleRules(a)},addStyleRule:function(a,b){this.tagStyles[a]=b;var c=e[a];if(c)for(var d=0;d<c.length;d++)this.tagStyles[c[d]]=b},addStyleRules:function(a){for(var b in a)a.hasOwnProperty(b)&&this.addStyleRule(b,a[b])},removeStyleRule:function(a){delete this.tagStyles[a]},removeStyleRules:function(a){if(a&&a.length)for(var b=0;b<a.length;b++)this.removeStyleRule(a[b])},setVisibilityStyle:function(){null!=this.opts.data.isInvisible&&(this.opts.data.isInvisible?this.addStyleRule("visibility","hidden"):this.addStyleRule("visibility","visible"))},makeInvisible:function(){var a=this.tagStyles.visibility;(a||"hidden"!==a)&&(this.addStyleRule("visibility","hidden"),this.update())},makeVisible:function(){var a=this.tagStyles.visibility;a&&"visible"!==a&&(this.addStyleRule("visibility","visible"),this.update())},getTagStyleString:function(){var a="";return this.setVisibilityStyle(),a+=this.cssStringFromCSSObject(this.tagStyles)},cssStringFromCSSObject:function(a){var b="";for(var c in a)a.hasOwnProperty(c)&&(b+=c+":"+a[c]+";");return b},setTagStyleString:function(){this.tagStyleString=this.getTagStyleString()}};d.mixin("styles",f)},{riot:112}],61:[function(a,b,c){a("riot").mixin("teardown",{init:function(){var a=this;this.teardownQueue=[],this.on("unmount",function(){a.unmountTeardown()})},registerTeardownFunction:function(a,b){this.teardownQueue.push({callback:a,thisArg:b||this})},unmountTeardown:function(){for(var a=0;a<this.teardownQueue.length;a++){var b=this.teardownQueue[a];b.callback.call(b.thisArg)}}})},{riot:112}],62:[function(a,b,c){var d=a("riot"),e=a("../../modules/transitionStyleGenerator.js"),f={init:function(){if(this.transitionStyles=this.getAllTransitionStyles(),this.hasTransitionsIn()&&this.hasTransitionsIn()&&(this.setTransitionsStartState(this.transitionStyles["in"]),this.on("mount",function(){this.setTransitionsEndState(this.transitionStyles["in"])})),this.hasTransitionsOut()){var a=this,b=this.getAdInstance().getActionHandler(),c="transition-component-out:"+this.opts.data.name;b.on(c,function(){a.setTransitionsStartState(a.transitionStyles.out),a.setTransitionsEndState(a.transitionStyles.out)})}},getAllTransitionStyles:function(){var a=this.opts.data,b={"in":{},out:{}};return this.hasTransitionsIn()&&(b["in"]=e.calculateTransitionStyles(a.transitionsIn)),this.hasTransitionsOut()&&(b.out=e.calculateTransitionStyles(a.transitionsOut)),b},setTransitionsStartState:function(a){this.addStyleRules(a.start)},setTransitionsEndState:function(a){if(window.requestAnimationFrame){var b=this;window.requestAnimationFrame(function(){window.setTimeout(function(){b.addStyleRules(a.end),b.update()},1)})}else this.addStyleRules(a.end),this.update()},hasTransitionsIn:function(){return this.opts.data.transitionsIn&&this.opts.data.transitionsIn.length},hasTransitionsOut:function(){return this.opts.data.transitionsOut&&this.opts.data.transitionsOut.length}};d.mixin("transitions",f)},{"../../modules/transitionStyleGenerator.js":26,riot:112}],63:[function(a,b,c){var d=a("riot"),e=["play","pause","mute","unmute","reset","fullscreen","normalscreen"],f={init:function(){this.registerTeardownFunction||this.mixin("teardown")},enforceVideoInterface:function(){for(var a=0;a<e.length;a++)"function"!=typeof this[e[a]]&&window.Tarnhelm.log(this.root.tagName+" failed to implement "+e[a]+"()")},setVideoEl:function(a){this.videoEl=a,this.enforceVideoInterface(),this.initVideoElEventHandlers(),this.registerTeardownFunction(this.teardownVideoElEventHandlers),this.initVideoActionReceivers(),this.registerTeardownFunction(this.teardownVideoActionReceivers)},getVideoEl:function(){return this.videoEl?this.videoEl:void window.Tarnhelm.log(this.root.tagName+" failed to call `setVideoEl` or passed a bad reference.")},initVideoActionReceivers:function(){this._setActionReceivers("on")},teardownVideoActionReceivers:function(){this._setActionReceivers("off")},_setActionReceivers:function(a){var b=this.getAdInstance().getActionHandler(),c=b[a].bind(b);c("video:pause-all",this.pause),c("video:mute-all",this.mute),c("video:unmute-all",this.unmute),c("video:reset-all",this.reset);for(var d=this.data.name,f=0;f<e.length;f++){var g=e[f];c("video:"+g+":"+d,this[g])}},initVideoElEventHandlers:function(){this.boundHandleVideoComplete=this.handleVideoComplete.bind(this);var a=this.getVideoEl();a&&"function"==typeof a.addEventListener&&a.addEventListener("ended",this.boundHandleVideoComplete),this.registerTeardownFunction(this.teardownVideoElEventHandlers)},teardownVideoElEventHandlers:function(){var a=this.getVideoEl();a&&"function"==typeof a.removeEventListener&&a.removeEventListener("ended",this.boundHandleVideoComplete)},handleVideoComplete:function(a){this.handleEvent(a,"videoComplete"),this.shouldObeyMediaInteroperability&&this.shouldObeyMediaInteroperability()&&this.setMediaEnded()},shouldItAutoplay:function(){var a=!0;return null!=this.opts.data.video.autoplay&&(a=this.opts.data.video.autoplay),this.opts.data.video.canplaythroughRequired&&(a=!1),this.shouldObeyMediaInteroperability&&this.shouldObeyMediaInteroperability()?(this.requestPlayback({userInitiated:!1}),!1):a},handleCanPlay:function(a,b){return function(){this.initialAutoplay?a.removeEventListener("canplay",this.boundHandleCanPlay):this.shouldObeyMediaInteroperability&&this.shouldObeyMediaInteroperability()?this.requestPlayback({userInitiated:!1}):(this.initialAutoplay=!0,a.play())}},doAutoplay:function(a){var b;this.boundHandleCanPlay=this.handleCanPlay(a,b).bind(this),this.initialAutoplay=this.initialAutoplay||!1,a.readyState>=a.HAVE_FUTURE_DATA?this.shouldObeyMediaInteroperability&&this.shouldObeyMediaInteroperability()?this.requestPlayback({userInitiated:!1}):(b=a.play(),this.initialAutoplay=!0):a.addEventListener("canplay",this.boundHandleCanPlay)},fireSyntheticMediaPlaybackEvent:function(a,b){var c="";try{c=this.getAdInstance().getDomNode().ownerDocument.defaultView.name}catch(a){c="unknown"}window.top.mediaOrchestrator&&window.top.mediaOrchestrator.publish("mediaPlaybackEvent",{type:a,slotName:c,timestamp:Date.now(),dispatcher:b,targetElementId:this.getVideoEl()?this.getVideoEl().id:"unknown"})}};d.mixin("video",f)},{riot:112}],64:[function(a,b,c){var d=a("riot"),e="IMDB_ADS_WEB_MEDIA_INTEROP_395798",f={getBridge:function(){return window.NativeWebBridge?window.NativeWebBridge:window.top.ad_utils&&window.top.ad_utils.mediaOrchestratorBridge?window.top.ad_utils.mediaOrchestratorBridge:void 0},isMobileHero:function(){return this.getAdInstance()&&this.getAdInstance().getDomNode()&&this.getAdInstance().getDomNode().ownerDocument&&0<this.getAdInstance().getDomNode().ownerDocument.getElementsByName("mobile-hero").length},shouldObeyMediaInteroperability:function(){var a,b=window.top.Tarnhelm.getDeviceInfo();return!("minimal-video"===this.data.type&&!b.isIMDbApp&&this.videoEl&&this.videoEl.duration<=10&&(!b.isMobileSite||!this.isMobileHero()))&&void 0!==this.getBridge()&&(b.isIOSDevice&&b.isIMDbApp||b.isAndroidDevice&&b.isIMDbApp||!b.isIMDbApp&&window.top.ad_utils&&window.top.ad_utils.isResponsive()&&(a=e,null!==document.getElementById(a)))}};d.mixin("weblab",f),b.exports={WEB_MEDIA_INTEROP_WEBLAB_ID:e,WeblabMixin:f}},{riot:112}],65:[function(a,b,c){var d={getAdIframeZoolander:function(){var a=this.getAdInstance().getContainerFrame().contentWindow.document;return new ad_design.Zoolander({document:a,id:this.opts.data.name,prefixId:"#"+this.opts.data.name})}};a("riot").mixin("zoolander",d)},{riot:112}],66:[function(a,b,c){function d(a,b,c){var d,g=a.getActionHandler();c?g.trigger({actionName:f.ASSET_PRELOAD_TIMEOUT}):b&&g.trigger({actionName:f.ASSET_PRELOAD_FINISH}),d=a,e.mount(d.getDomNode(),{adInstance:d}),d.initAfterMount(),g.trigger({actionName:f.AD_DISPLAYED});var i=a.getAdStore().getSecondaryAssetUrls();h.preloadUrls(i)}var e=a("riot"),f=a("../modules/events/adEvent.js"),g=a("../modules/injectCSS.js"),h=a("../modules/url.js");a("./app.tag"),b.exports={injectStyles:function(b){var c=a("../../css/ad.min.css.js");g.beforeNode(c,b)},mountAd:function(a){var b=a.getAdStore().getPrimaryAssetUrls();if(b&&b.length){a.getActionHandler().trigger({actionName:f.ASSET_PRELOAD_START});var c=d.bind(null,a,!0);h.preloadUrlsWithCallback(b,c)}else d(a)}}},{"../../css/ad.min.css.js":1,"../modules/events/adEvent.js":10,"../modules/injectCSS.js":16,"../modules/url.js":27,"./app.tag":30,riot:112}],67:[function(a,b,c){function d(a,b,c){var d=this;this._adJson=a,this._options=c,this.actionHandler=b,this.componentNameIterator=0,this.setInitialState(a),this.initComponentTree(this._adJson),this.scaleAdToWidth(c.adWidth),this.initCountdownTimers(),b.on(o.join(" "),function(a,b){d.handleRoutingAction(b)}),b.on("set-wrap-background",function(a){var b=d.state.wrapLibrary[a.wrapName];n.triggerWrapSwap(b)}),b.on("make-invisible",function(a){var c=d.state.componentLibrary[a.componentName];c.isInvisible||(c.isInvisible=!0,b.trigger({actionName:"ad-state-updated"}))}),b.on("make-visible",function(a){var c=d.state.componentLibrary[a.componentName];null!=c.isInvisible&&c.isInvisible&&(c.isInvisible=!1,b.trigger({actionName:"ad-state-updated"}))}),b.on("set-alternate-background",function(a){d.state.componentLibrary[a.componentName].useAlternateBackground=!0,b.trigger({actionName:"ad-state-updated"})}),b.on("unset-alternate-background",function(a){d.state.componentLibrary[a.componentName].useAlternateBackground=!1,b.trigger({actionName:"ad-state-updated"})}),b.on("scale-ad-to-width",function(a){a&&a.data&&a.data.width?d.scaleAdToWidth(a.data.width):window.Tarnhelm.log('Cannot scale ad, action "scale-ad-to-width" did not provide a valid width. Action:',a)}),b.on("enable-navigation-components",function(a){d.state.navigationComponentsDisabled&&(d.state.navigationComponentsDisabled=!1,b.trigger({actionName:"ad-state-updated"}))}),b.on("disable-navigation-components",function(a){d.state.navigationComponentsDisabled||(d.state.navigationComponentsDisabled=!0,b.trigger({actionName:"ad-state-updated"}))}),b.on("trigger-action-collection",function(a){if(a.collectionName){var c=d.state.actions.collections[a.collectionName];c&&c.length?b.triggerMany(c):window.Tarnhelm.log('Collection "'+a.collectionName+'" was not found in ad "'+d.state.name+'"')}else window.Tarnhelm.log("Unable to trigger a collection of actions, missing collectionName")})}a("riot");var e=a("../../modules/countdownTimer.js"),f=a("../../modules/objectUtils.js"),g=a("./retrievers/asset.js"),h=a("./retrievers/background.js"),i=a("./retrievers/component.js"),j=a("./retrievers/dateRange.js"),k=a("./retrievers/rect.js"),l=(a("./retrievers/scale.js"),a("./retrievers/wrap.js")),m=a("./delegators/router.js"),n=(a("./delegators/transition.js"),a("./delegators/wrap.js")),o=["route","rotator:show-index","rotator:show-named-child","rotator:increment-index","rotator:decrement-index","minimize-ad","maximize-ad","hide-component","show-component"],p=["actions","background","css","defaultLink","frameProperties","frequencyCappedInit","id","isScalable","name","trackingConfigs"],q=["rect","frameProperties","spriteSheetDimensions"],r=["background","alternateBackground"],s="_orig",t="video",u="rotator",v="graphic",w="countdown",x={countdown:w,"countdown-number-text":w,"countdown-number-custom":w,rotator:u,"slider-rotator":u,graphic:v,rotatorbutton:v,reely:t,alphalfa:t,"minimal-video":t};d.prototype={setInitialState:function(a){this.state=this.getStaticAdData(a),this.state.actions=this.state.actions||{},this.state.actions.collections=this.state.actions.collections||{},this.state.navigationComponentsDisabled=!1,this.state.scaleData={currentScale:1,currentWidth:this.state.frameProperties.width,pixelDensity:window.devicePixelRatio||1},this.state.countdownTimers={},this.state.componentLibrary={},this.state.componentNamesByType={},this.state.componentNamesByCategory={},this.state.activeSortedDateRanges=j.getActiveSortedDateRanges(window.Tarnhelm.getNowTime(),a.dateRanges),this.state.assetLibrary=this.buildAssetLibrary(),this.state.wrapLibrary=l.generateWrapLibrary(a.wraps,this.state.assetLibrary)},getStaticAdData:function(a){for(var b={},c=0;c<p.length;c++){var d=p[c];b[d]=a[d]}return f.clone(b)},buildAssetLibrary:function(){return g.generateAssetLibrary(this._adJson.assets,this.state.activeSortedDateRanges,this.state.scaleData.currentScale,this.state.scaleData.pixelDensity)},initComponentTree:function(a,b){var c,d,e=[];if(b&&b.length?d=b[b.length-1]:b=[],a.children&&a.children.length){b.push(a);for(var g=0;g<a.children.length;g++)e.push(a.children[g].name),this.initComponentTree(a.children[g],b);b.pop()}d?(c=f.clone(a)).parentName=d.name:c=this.state,delete c.children,c.childNames=e,this.initComponent(c,b),d&&this.addToComponentLibrary(c)},initComponent:function(a,b){a.isHidden=!!a.isHidden,this.storeOriginalValues(a,q),this.storeOriginalValues(a,r),a.arrowGraphics&&(this.inheritDefaultArrowValues(a.arrowGraphics),this.storeOriginalValues(a.arrowGraphics.previous,q),this.storeOriginalValues(a.arrowGraphics.next,q));var c=this.componentTypeInitters[a.type];"function"==typeof c&&c.call(this,a,b);var d=x[a.type],e=this.componentCategoryInitters[d];"function"==typeof e&&e.call(this,a,b),this.setComponentAssets(a)},storeOriginalValues:function(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=a[d];e&&(a[d+s]=k.cloneRect(e))}},componentTypeInitters:{"countdown-number-text":function(a,b){var c={};b&&b.length&&(c=b[b.length-1]),void 0===a.targetDate&&(a.targetDate=c.targetDate),void 0===a.padZeros&&(a.padZeros=c.padZeros)},"countdown-number-custom":function(a,b){var c={};b&&b.length&&(c=b[b.length-1]),void 0===a.targetDate&&(a.targetDate=c.targetDate),void 0===a.padZeros&&(a.padZeros=c.padZeros),void 0===a.spritesheet&&(a.spritesheet=c.spritesheet),void 0===a.showAfterEnd&&(a.showAfterEnd=c.showAfterEnd)},reely:function(a,b){if(a.controls){var c=k.cloneRectAsPercentageValues(a.controls,a.rect);f.shallowMerge(a.controls,c)}},"slider-rotator":function(a,b){this.componentTypeInitters._initArrowGraphics(a,b)},gallery:function(a,b){this.componentTypeInitters._initArrowGraphics(a,b)},_initArrowGraphics:function(a,b){a.arrowGraphics&&a.arrowGraphics.next&&a.arrowGraphics.previous||(window.Tarnhelm.log("Requirements not met! "+a.type+" requires arrowGraphics properties!"),a.arrowGraphics={},a.arrowGraphics.previous={css:{background:"red"},rect:{anchorX:"left",offsetX:5,offsetY:5,width:40,height:40}},a.arrowGraphics.next={css:{background:"red"},rect:{anchorX:"right",offsetX:5,offsetY:5,width:40,height:40}})}},componentCategoryInitters:{countdown:function(a,b){this.addCountdownTimer(a.targetDate,a.name)},rotator:function(a,b){a.activeIndex=parseInt(a.activeIndex,10)||0},video:function(a,b){i.hasAncestorOfType(a,"slider-rotator",b)&&(a.video.autoplay=!1)}},inheritDefaultArrowValues:function(a){if(a&&a.previous&&a.next){var b=a.previous,c=a.next;if(a.defaultArrow){var d=a.defaultArrow;
f.mergeDefaults(b.rect,d.rect),f.mergeDefaults(c.rect,d.rect),f.mergeDefaults(b,d),f.mergeDefaults(c,d),a.flippable&&(c.css=c.css||{},c.css.transform=c.css.transform||"",c.css.transform+=" scaleX(-1)")}}},addCountdownTimer:function(a,b){this.state.countdownTimers[a]||(this.state.countdownTimers[a]={countdownTimer:new e(a),listenerComponents:[]}),this.state.countdownTimers[a].listenerComponents.push(b)},initCountdownTimers:function(){for(var a=Object.keys(this.state.countdownTimers),b=0;b<a.length;b++){var c=this.state.countdownTimers[a[b]];this.initCountdownTimer(c)}},initCountdownTimer:function(a){var b=this,c=a.countdownTimer;c.on("tick",function(c){b.setComponentsTimerState(a.listenerComponents,c),b.actionHandler.trigger({actionName:"ad-state-updated"})});for(var d=0;d<a.listenerComponents.length;d++)this.state.componentLibrary[a.listenerComponents[d]].remaining=c.getRemainingValues(c.getMillisecondsRemaining())},setComponentsTimerState:function(a,b){for(var c=0;c<a.length;c++)this.state.componentLibrary[a[c]].remaining=b},setComponentAssets:function(a){switch(a.background&&a.background.asset&&f.shallowMerge(a.background,g.getGraphicAssetSources(a.background,this.state.assetLibrary)),a.alternateBackground&&a.alternateBackground.asset&&f.shallowMerge(a.alternateBackground,g.getGraphicAssetSources(a.alternateBackground,this.state.assetLibrary)),a.type){case"animaniac":case"graphic":case"rotatorbutton":f.shallowMerge(a,g.getGraphicAssetSources(a,this.state.assetLibrary));break;case"gallery":case"slider-rotator":a.arrowGraphics&&a.arrowGraphics.previous&&a.arrowGraphics.next&&(f.shallowMerge(a.arrowGraphics.previous,g.getGraphicAssetSources(a.arrowGraphics.previous,this.state.assetLibrary)),f.shallowMerge(a.arrowGraphics.next,g.getGraphicAssetSources(a.arrowGraphics.next,this.state.assetLibrary)));break;case"alphalfa":case"reely":case"minimal-video":f.shallowMerge(a.video,g.getVideoAssetSources(a.video,this.state.assetLibrary))}},addToComponentLibrary:function(a){var b=a.name;this.state.componentLibrary[b]&&(b+="__"+ ++this.componentNameIterator,window.Tarnhelm.log('More than one component exists with name"'+a.name+'", renaming to "'+b+'"')),a.name=b,this.state.componentLibrary[b]=a,this.addToNamesByType(a.type,a.name),this.addToNamesByCategory(a.type,a.name)},addToNamesByType:function(a,b){this._addToNames(this.state.componentNamesByType,a,b)},addToNamesByCategory:function(a,b){var c=x[a];c&&this._addToNames(this.state.componentNamesByCategory,c,b)},_addToNames:function(a,b,c){return a[b]||(a[b]=[]),a[b].push(c),a},handleRoutingAction:function(a){if(this.state.isTransitioning)window.Tarnhelm.log('Transition in progress, ignoring action "'+a.actionName+'"');else switch(a.actionName){case"route":m.route(a.data,this.state.componentLibrary,this.state);break;case"rotator:show-index":m.routeRotatorToIndex(a.componentName,a.data.index,this.state.componentLibrary,this.state);break;case"rotator:show-named-child":m.routeRotatorToNamedChild(a.componentName,a.data.childName,this.state.componentLibrary,this.state);break;case"rotator:increment-index":m.routeRotatorToIncrementedIndex(a.componentName,this.state.componentLibrary,this.state);break;case"rotator:decrement-index":m.routeRotatorToDecrementedIndex(a.componentName,this.state.componentLibrary,this.state);break;case"minimize-ad":m.routeRotatorToNamedChild("expander","minimized",this.state.componentLibrary,this.state);break;case"maximize-ad":m.routeRotatorToNamedChild("expander","maximized",this.state.componentLibrary,this.state);break;case"hide-component":m.route({hideComponents:[a.componentName]},this.state.componentLibrary,this.state);break;case"show-component":m.route({showComponents:[a.componentName]},this.state.componentLibrary,this.state)}},scaleAdToWidth:function(a){if(this.state.isScalable&&a)if(a!==this.state.frameProperties.width){this.updateScaleData(a),this.state.assetLibrary=this.buildAssetLibrary(),f.shallowMerge(this.state.frameProperties,k.getScaledRect(this.state.frameProperties_orig,this.state.scaleData.currentScale));for(var b=Object.keys(this.state.componentLibrary),c=0;c<b.length;c++){var d=b[c],e=this.state.componentLibrary[d];this.scaleBasedOnOriginalValues(e,q,k.getScaledRect),this.scaleBasedOnOriginalValues(e,r,h.getScaledBackground),e.arrowGraphics&&(this.scaleBasedOnOriginalValues(e.arrowGraphics.previous,q,k.getScaledRect),this.scaleBasedOnOriginalValues(e.arrowGraphics.next,q,k.getScaledRect)),this.setComponentAssets(e)}this.actionHandler.trigger({actionName:"resize-ad-container",data:{rect:this.state.frameProperties}}),this.actionHandler.trigger({actionName:"ad-state-updated"})}else window.Tarnhelm.log('Ad "'+this.state.name+'" is already '+a+"px wide, not rescaling")},scaleBasedOnOriginalValues:function(a,b,c){for(var d=0;d<b.length;d++){var e=b[d];if(a[e]){var g=e+s;f.shallowMerge(a[e],c(a[g],this.state.scaleData.currentScale))}}},updateScaleData:function(a){this.state.scaleData.currentScale=a/this.state.frameProperties_orig.width,this.state.scaleData.currentWidth=a},getState:function(){return this.state},getComponentState:function(a){return this.state.componentLibrary[a]},getComponentLibrary:function(){return this.state.componentLibrary},getComponentNamesByType:function(a){var b=this.state.componentNamesByType[a];return b||window.Tarnhelm.log("Requested names for a component type with nothing indexed: ",a),b||[]},getComponentNamesByCategory:function(a){var b=this.state.componentNamesByCategory[a];return b||window.Tarnhelm.log("Requested names for a component category with nothing indexed: ",a),b||[]},getAdId:function(){return this.state.id},getAdName:function(){return this.state.name},requiresAutoplay:function(){return this.state.frequencyCappedInit&&this.state.frequencyCappedInit.actions&&this.state.frequencyCappedInit.actions.length},getFrequencyCappedInitActions:function(){return this.state.frequencyCappedInit&&this.state.frequencyCappedInit.actions?this.state.frequencyCappedInit.actions:[]},getPrimaryAssetUrls:function(){return g.getPreloadAssetUrls("primary",this.state.assetLibrary)},getSecondaryAssetUrls:function(){return g.getPreloadAssetUrls("secondary",this.state.assetLibrary)},getNavigationComponentsDisabledFlag:function(){return this.state.navigationComponentsDisabled}},b.exports=d},{"../../modules/countdownTimer.js":7,"../../modules/objectUtils.js":21,"./delegators/router.js":68,"./delegators/transition.js":69,"./delegators/wrap.js":70,"./retrievers/asset.js":71,"./retrievers/background.js":72,"./retrievers/component.js":73,"./retrievers/dateRange.js":74,"./retrievers/rect.js":75,"./retrievers/scale.js":77,"./retrievers/wrap.js":79,riot:112}],68:[function(a,b,c){var d=a("../retrievers/component.js"),e=a("./transition.js"),f=a("../retrievers/rect.js"),g=a("../retrievers/rotator.js"),h=a("../../../modules/objectUtils.js"),i={route:function(a,b,c){for(var i=a.rotatorConfigs||[],j=a.hideComponents||[],k=a.showComponents||[],l=window.Tarnhelm.getAd(c.id).getActionHandler(),m=[],n=!1,o=[],p=0;p<i.length;p++){var q=i[p],r=b[q.name];r&&q.childName&&null!=q.index&&(q.index=g.findNamedChildIndex(q.name,q.childName,b)),r&&r.activeIndex!==q.index&&(o.push(q),"expander"===r.name&&(n=!0),r.isHidden||m.push(g.getActiveChildName(r)))}var s=d.getHiddenComponentNames(k,b),t=d.getUnhiddenComponentNames(j,b);if(m=m.concat(t),o.length||t.length||s.length){var u=[];for(p=0;p<m.length;p++)u=u.concat(d.buildTransitionsOutComponentList(m[p],b));if(u.length){var v=this;c.isTransitioning=!0,e.triggerTransitionsOut(u,b,l,function(){var a=g.mapRotatorConfigsToComponentName(o);if(h.shallowMergeMany(b,a),n){var d=c.componentLibrary.expander,e=g.getActiveChildComponent(d,c.componentLibrary),i=f.getDimensions(e.rect);h.shallowMerge(c.frameProperties,i),h.shallowMerge(d.rect,i)}v.setComponentHiddenStates(t,b,!0),v.setComponentHiddenStates(s,b,!1),c.isTransitioning=!1,l.trigger({actionName:"ad-state-updated"})})}else{var w=g.mapRotatorConfigsToComponentName(o);if(h.shallowMergeMany(b,w),n){var x=c.componentLibrary.expander,y=g.getActiveChildComponent(x,c.componentLibrary),z=f.getDimensions(y.rect);h.shallowMerge(c.frameProperties,z),h.shallowMerge(x.rect,z)}this.setComponentHiddenStates(t,b,!0),this.setComponentHiddenStates(s,b,!1),l.trigger({actionName:"ad-state-updated"})}}},routeRotatorToIndex:function(a,b,c,d){var e=[{name:a,index:b}];this.route({rotatorConfigs:e},c,d)},routeRotatorToIncrementedIndex:function(a,b,c){var d=g.getIncrementedIndex(b[a]);this.routeRotatorToIndex(a,d,b,c)},routeRotatorToDecrementedIndex:function(a,b,c){var d=g.getDecrementedIndex(b[a]);this.routeRotatorToIndex(a,d,b,c)},routeRotatorToNamedChild:function(a,b,c,d){var e=g.findNamedChildIndex(a,b,c);this.routeRotatorToIndex(a,e,c,d)},setComponentHiddenStates:function(a,b,c){for(var d=0;d<a.length;d++)b[a[d]].isHidden=!!c}};b.exports=i},{"../../../modules/objectUtils.js":21,"../retrievers/component.js":73,"../retrievers/rect.js":75,"../retrievers/rotator.js":76,"./transition.js":69}],69:[function(a,b,c){a("../../../modules/transitionStyleGenerator.js");var d=a("../retrievers/transition.js"),e={triggerTransitionsOut:function(a,b,c,e){for(var f=d.getMaxTransitionOutTime(a,b),g=0;g<a.length;g++){var h="transition-component-out:"+a[g];c.trigger({actionName:h})}window.setTimeout(function(){"function"==typeof e&&e();for(var b=0;b<a.length;b++){var d="transition-component-out:"+a[b]+":complete";c.trigger({actionName:d})}},f)}};b.exports=e},{"../../../modules/transitionStyleGenerator.js":26,"../retrievers/transition.js":78}],70:[function(a,b,c){var d=a("../retrievers/wrap.js"),e=(a("../retrievers/rotator.js"),{triggerRotatorWrapSwap:function(a,b){var c=d.getWrapNameFromRotator(a,b.componentLibrary);if(c){var e=d.getWrapData(c,b.wrapLibrary);e?this.triggerWrapSwap(e):window.Tarnhelm.log('Cannot trigger a wrap swap for rotator "'+a.name+'" and wrapName "'+c+'", could not find a matching wrap config')}else window.Tarnhelm.log('Cannot trigger a wrap swap for rotator "'+a.name+'", could not get the wrap name')},triggerWrapSwap:function(a){var b=d.generateWrapAction(a);window.Tarnhelm.triggerTopAction(b)}});b.exports=e},{"../retrievers/rotator.js":76,"../retrievers/wrap.js":79}],71:[function(a,b,c){var d={image:!0,video:!0},e={image:"url",video:"url"},f={video:"source",image:"source"},g={graphic:[{src:"asset",dest:"source"},{src:"activeAsset",dest:"activeSource"},{src:"hoverAsset",dest:"hoverSource"},{src:"fullAdHoverAsset",dest:"fullAdHoverSource"},{src:"disabledAsset",dest:"disabledSource"}],video:[{src:"asset",dest:"url"}]},h={video:!0},i={primary:!0,secondary:!0},j={generateAsset:function(a,b,c){var d=this.getCurrentDatedAsset(a,b),e=this.generateScaledAsset(d,a.type,c);return e?e.preload=a.preload:window.Tarnhelm.log('Asset "'+a.name+'" is not configured correctly'),e},generateAssetLibrary:function(a,b,c,d){for(var e={},f=Object.keys(a),g=this.getAssetScale(c,d),h=0;h<f.length;h++){var i=f[h],j=a[i],k=this.updateDeprecatedAssetSyntax(j),l=this.generateAsset(k,b,g);l?e[i]=l:window.Tarnhelm.log('There was a problem with asset "'+i+'", Tarnhelm was unable to initialize it')}return e},generateScaledAsset:function(a,b,c){for(var d={},g=this.getValidatedAssetType(b),h=e[g],i=c;i>0;i--){var j=this.getScaledAssetUrlKey(h,i);if(a[j])return d[f[g]]=a[j],d.type=g,d}},getCurrentDatedAsset:function(a,b){if(!b||!b.length||!a.dateOverrides)return a;for(var c=b.length-1;c>-1;c--){var d=b[c].name;if(a.dateOverrides[d])return a.dateOverrides[d]}return a},getValidatedAssetType:function(a){return d[a]?a:"image"},getScaledAssetUrlKey:function(a,b){return"number"==typeof b&&b>1?a+parseInt(b,10)+"x":a},getAssetScale:function(a,b){return Math.ceil(Math.abs(a*b))},getAssetSource:function(a,b){var c=b[a];if(c){var d=this.getAssetSourceKey(c.type),e=c[d];if(e)return e;window.Tarnhelm.log('Error, asset "'+c+'" is missing its source, prop "'+d+'"')}else window.Tarnhelm.log('Error, asset named "'+c+'" does not exist')},getAssetSourceKey:function(a){var b=this.getValidatedAssetType(a);return f[b]},getMappedAssetSources:function(a,b,c){var d={};if(!a)return window.Tarnhelm.log("Cannot get assets, component was not provided"),d;if(!b)return window.Tarnhelm.log("Cannot get assets, assetLibrary was not provided"),d;if(!c||!g[c])return window.Tarnhelm.log('Cannot get assets, componentType "'+c+'" is not supported'),d;for(var e=g[c],f=0;f<e.length;f++){var h=e[f];if(a[h.src]){var i=this.getAssetSource(a[h.src],b);i&&(d[h.dest]=i)}}return d},getGraphicAssetSources:function(a,b){return this.getMappedAssetSources(a,b,"graphic")},getVideoAssetSources:function(a,b){return this.getMappedAssetSources(a,b,"video")},getPreloadAssetUrls:function(a,b){var c=[];if("string"!=typeof a||!i[a])return window.Tarnhelm.log('Problem preloading assets, "'+a+'" should be "primary" or "secondary"'),c;for(var d=Object.keys(b),e=0;e<d.length;e++){var f=d[e],g=b[f];g.preload!==a||h[g.type]||this.getAssetSource(f,b)&&c.push(g.source)}return c},updateDeprecatedAssetSyntax:function(a){var b,c,d={};for(b in a)if("fileName"===b)d.url=a[b]+".mp4";else if("dateOverrides"===b){var e=a[b];for(c in e)e[c]=this.updateDeprecatedAssetSyntax(e[c]);d.dateOverrides=e}else d[b]=a[b];return d}};b.exports=j},{}],72:[function(a,b,c){var d=a("./scale.js"),e=["position","size"],f=/\s+/,g={getScaledBackground:function(a,b){if("object"==typeof a){for(var c={},g=0;g<e.length;g++){var h=e[g],i=a[h];if(i){for(var j=i.split(f),k=0;k<j.length;k++){var l=j[k];"number"==typeof d.getRawDimension(l)&&(j[k]=d.getDimensionWithUnit(d.getScaledDimension(d.getRawDimension(l),b)))}c[h]=j.join(" ")}}return c}window.Tarnhelm.log('Cannot scale, "background" is not an object:',a)},cloneBackground:function(a){for(var b={},c=0;c<e.length;c++){var d=e[c];a[d]&&(b[d]=a[d])}return b}};b.exports=g},{"./scale.js":77}],73:[function(a,b,c){var d=a("./rotator.js"),e={buildTransitionsOutComponentList:function(a,b){var c=[],e=b[a];if(!e||e.isHidden)return c;if(e.transitionsOut&&e.transitionsOut.length&&c.push(e.name),e.childNames&&e.childNames.length)if("rotator"===e.type){var f=d.getActiveChildComponent(e,b);c=c.concat(this.buildTransitionsOutComponentList(f.name,b))}else for(var g=0;g<e.childNames.length;g++){var h=b[e.childNames[g]];h.isHidden||(c=c.concat(this.buildTransitionsOutComponentList(h.name,b)))}return c},filterComponentsByPropertyValue:function(a,b,c,d){for(var e=[],f=0;f<a.length;f++){var g=a[f],h=b[g];h&&h[c]===d&&e.push(g)}return e},filterComponentsByParentNode:function(a,b){for(var c={},d=0;d<a.length;d++)c[a[d]]=1;var e=[];for(d=0;d<a.length;d++){var f=!1,g=b[a[d]];if(g){for(;g.parentName&&!f;)c[(g=b[g.parentName]).name]&&(f=!0);f||e.push(a[d])}}return e},isDescendantOfType:function(a,b,c){for(var d=c[a];d&&d.parentName;)if((d=c[d.parentName])&&d.type===b)return!0;return!1},hasAncestorOfType:function(a,b,c){if(!c||!c.length)return!1;for(var d=c.length-1;d>=0;d--)if(c[d].type===b)return!0;return!1},hasAncestorOfName:function(a,b,c){var d=c[a].parentName;return this._hasAncestorOfNameRecursive(b,d,c)},_hasAncestorOfNameRecursive:function(a,b,c){var d=c[b];return!!d&&(d.name===a||this._hasAncestorOfNameRecursive(a,d.parentName,c))},getHiddenComponentNames:function(a,b){return this.filterComponentsByPropertyValue(a,b,"isHidden",!0)},getUnhiddenComponentNames:function(a,b){return this.filterComponentsByPropertyValue(a,b,"isHidden",!1)}};b.exports=e},{"./rotator.js":76}],74:[function(a,b,c){b.exports={compareDateRanges:function(a,b){var c=new Date(a.start),d=new Date(b.start),e=c.getTime(),f=d.getTime();return f>e?-1:e>f?1:0},getActiveSortedDateRanges:function(a,b){var c=[];if(!b||!b.length)return c;for(var d=0;d<b.length;d++)a>=new Date(b[d].start).getTime()&&c.push(b[d]);return c.sort(this.compareDateRanges)}}},{}],75:[function(a,b,c){var d=a("./scale.js"),e=["offsetX","offsetY","width","height"],f={offsetX:"width",offsetY:"height",width:"width",height:"height"},g={getDimensions:function(a){return{height:a.height,width:a.width}},getScaledRect:function(a,b){if("object"==typeof a){for(var c={},f=0;f<e.length;f++){var g=e[f],h=a[g];h&&"number"==typeof d.getRawDimension(h)&&(c[g]=d.getScaledDimension(d.getRawDimension(h),b))}return c}window.Tarnhelm.log('Cannot scale, "rect" is not an object:',a)},cloneRect:function(a){for(var b={},c=0;c<e.length;c++){var d=e[c];a[d]&&(b[d]=a[d])}return b},cloneRectAsPercentageValues:function(a,b){b.width,b.height;for(var c={},e=Object.keys(f),g=0;g<e.length;g++){var h=e[g],i=f[h],j=d.getRawDimension(a[h]);if(j){var k=d.getRawDimension(b[i]);k||window.Tarnhelm.log('Could not scale rect value for "'+h+'", parent rect value for "'+i+'" is missing'),"number"==typeof j&&("number"==typeof k?j=Math.round(j/k*100)+"%":window.Tarnhelm.log('Could not scale rect value for "'+h+'", parent rect value for "'+i+'" is not a pixel value')),c[h]=j}}return c}};b.exports=g},{"./scale.js":77}],76:[function(a,b,c){var d={isValidRotator:function(a){return a&&(c=a).childNames&&0<c.childNames.length&&0<=(b=a).activeIndex&&b.activeIndex<b.childNames.length;var b,c},getActiveChildName:function(a){var b;return this.isValidRotator(a)&&(b=a.childNames[a.activeIndex]),b||window.Tarnhelm.log('Unable to find active child name for rotator "'+a.name+'"'),b},getActiveChildComponent:function(a,b){var c,d=this.getActiveChildName(a);return d&&(c=b[d]),c},mapRotatorConfigsToComponentName:function(a){for(var b={},c=0;c<a.length;c++){var d=a[c];b[d.name]={activeIndex:d.index}}return b},findNamedChildIndex:function(a,b,c){var d=c[a];if(d){if(d&&d.childNames&&d.childNames.length)for(var e=0;e<d.childNames.length;e++)if(d.childNames[e]===b)return e;return window.Tarnhelm.log("Requested rotator:show-named-child for a non existent childName. rotatorName:",a," childName: ",b),d.activeIndex}window.Tarnhelm.log("Requested rotator:show-named-child for a non existent rotator . rotator:",a)},getIncrementedIndex:function(a){if(this.isValidRotator(a)){var b=a.activeIndex;if(b+1<=a.childNames.length-1)return b+1}return 0},getDecrementedIndex:function(a){if(this.isValidRotator(a)){var b=a.activeIndex,c=a.childNames.length-1;return b-1>=0?b-1:c}return 0}};b.exports=d},{}],77:[function(a,b,c){var d=new RegExp(/^\-?\d*(\.\d*)?(px)?$/),e={getScaledDimension:function(a,b){return"number"==typeof a&&"number"==typeof b?Math.ceil(a*b):void window.Tarnhelm.log("getScaledDimension() failed, both args were not numbers:",a,b)},getRawDimension:function(a){if("string"!=typeof a&&"number"!=typeof a)return window.Tarnhelm.log("Cannot get raw dimension from invalid value: ",a),a;var b=a.toString();return d.test(b)?parseFloat(b):b},getDimensionWithUnit:function(a){var b=this.getRawDimension(a);return 0===b?"0":"number"==typeof b?b+"px":b}};b.exports=e},{}],78:[function(a,b,c){var d=a("../../../modules/transitionStyleGenerator.js"),e={getMaxTransitionOutTime:function(a,b){for(var c=[],e=0;e<a.length;e++){var f=b[a[e]];c.push(d.getMaxTransitionTime(f.transitionsOut))}return Math.max.apply(null,c)}};b.exports=e},{"../../../modules/transitionStyleGenerator.js":26}],79:[function(a,b,c){var d=a("./asset.js"),e=a("./rotator.js"),f=a("../../../modules/objectUtils.js"),g={generateWrapLibrary:function(a,b){a=a||{};for(var c={},e=Object.keys(a),g=0;g<e.length;g++){var h=e[g],i=(a[h].asset,f.clone(a[h])),j=d.getGraphicAssetSources(i,b);f.shallowMerge(i,j),c[h]=i}return c},getWrapNameFromRotator:function(a,b){var c=e.getActiveChildComponent(a,b);return c&&c.wrap?c.wrap:a&&a.wrapConfig&&a.wrapConfig["default"]?a.wrapConfig["default"]:void window.Tarnhelm.log('Cannot find wrap for rotator "'+a.name+'"')},getWrapData:function(a,b){return b[a]},generateWrapAction:function(a){return{actionName:"set-wrap-background",data:f.clone(a)}}};b.exports=g},{"../../../modules/objectUtils.js":21,"./asset.js":71,"./rotator.js":76}],80:[function(a,b,c){function d(a){var b=j.clone(a);return delete b.adName,delete b.isGlobal,b}var e=a("./modules/adInstance.js"),f=a("./modules/wrapSwapper.js"),g=a("./modules/actionHandler.js"),h=a("./modules/eventEmitter.js"),i=a("./modules/requirementsTester.js"),j=a("./modules/objectUtils.js"),k=a("./modules/url.js"),l=a("./renderer/renderer.js"),m=a("./modules/deviceInfo.js"),n=a("./modules/events/metricEventSink.js"),o=a("./modules/mobileLog.js"),p=a("./modules/events/tarnhelmEvent.js"),q=a("./legacyTracking.js");a("IMDbAdvertisingJsModules");var r,s,t,u,v={},w=!1,x=!1,y=0,z=new m(window.location.href,window.navigator.userAgent),A=new i(z.getInfo()),B="wrapper",C={getAd:function(a){return v[a]},getAdByName:function(a){for(var b,c=Object.keys(v),d=0;d<c.length;d++)if(v[c[d]].getName()===a){b=v[c[d]];break}return b},initAdInstance:function(a,b,c,d){this.getAd(c.id)&&this.log('Ad with id "'+c.id+'" already exists. OVERWRITING!'),c.name&&this.getAdByName(c.name)&&this.log('Ad with name "'+c.name+'" already exists. OVERWRITING!'),l.injectStyles(a);var f=new e({domNode:a,containerFrame:b,eventSinks:[s],adData:c,trackingConsumer:d||q(c)});return v[c.id]=f,l.mountAd(f),f},triggerTopAction:function(a){r.trigger(a)},triggerGlobalAction:function(a){for(var b=Object.keys(v),c=d(a),e=0;e<b.length;e++)this.getAd(b[e]).getActionHandler().trigger(c)},triggerTandemAction:function(a){if(a.adName){var b=this.getAdByName(a.adName);if(b){var c=d(a);b.getActionHandler().trigger(c)}else this.log('Tarnhelm.triggerTandemAction failed, adInstance for "'+a.adName+'" was not found')}else this.log("Tarnhelm.triggerTandemAction failed, adName was not provided")},getNowTime:function(){return Date.now()+y},getIsDebug:function(){return w},setIsDebug:function(a){w=!!a},getIsMobileDebug:function(){return x},setIsMobileDebug:function(a){x=!!a},log:function(){if(w&&window.console&&window.console.log){var a=Array.prototype.slice.call(arguments);console.log.apply(console,a),x&&this.getDeviceInfo().isMobileDevice&&window.top.document.body&&(window.top.document.body.style.position="relative",window.top.mobileLog=window.top.mobileLog||new o(window.top.document.body),window.top.mobileLog.log(a))}},getVersion:function(){return"1.0.1"},getDeviceInfo:function(){return z.getInfo()},getRequirementsTester:function(){return A}};b.exports=window.Tarnhelm=C,r=new g(new h,A),function(){var a=k.getQueryParam("tarnhelmDebug",window.location.href);"1"!==a&&"true"!==a||(w=!0,window.Tarnhelm.log("Tarnhelm is in DEBUG mode."));var b=k.getQueryParam("tarnhelmMobileDebug",window.location.href);"1"!==b&&"true"!==b||(w=x=!0,window.Tarnhelm.log("Tarnhelm is in MOBILE DEBUG mode."))}(),t=k.getQueryParam("simulatedDate",window.location.href),u=new Date(t),t&&"Invalid Date"!==u.toString()&&(y=u.getTime()-Date.now()),new f(B,r),s=new n(r),r.trigger({actionName:p.READY})},{"./legacyTracking.js":2,"./modules/actionHandler.js":3,"./modules/adInstance.js":4,"./modules/deviceInfo.js":8,"./modules/eventEmitter.js":9,"./modules/events/metricEventSink.js":11,"./modules/events/tarnhelmEvent.js":12,"./modules/mobileLog.js":19,"./modules/objectUtils.js":21,"./modules/requirementsTester.js":23,"./modules/url.js":27,"./modules/wrapSwapper.js":29,"./renderer/renderer.js":66,IMDbAdvertisingJsModules:93}],81:[function(a,b,c){var d={makeBufferCanvas:function(){var a=document.createElement("canvas");return a.width=this.output.width,a.height=2*this.output.height,a},isIE:function(){return/msie|trident/.test(navigator.userAgent.toLowerCase())},clear2DCanvas:function(a,b,c){a.clearRect(0,0,b,c)}};b.exports=d},{}],82:[function(a,b,c){var d=a("./renderers/alphalfa-renderer-webgl.js"),e=a("./renderers/alphalfa-renderer-horizontal-gl.js"),f=a("./renderers/alphalfa-renderer-canvas.js"),g=a("./renderers/alphalfa-renderer-mask.js"),h=a("./renderers/alphalfa-renderer-color-correct.js"),i=a("./alphalfa-utils.js");a("../polyfills/request-animation-frame.js");var j=function(a){this.doDebug=!1,this.video=a.video,this.output=a.output,this.buffer=a.buffer||void 0,this.dismissalTimeout=a.dismissalTimeout,this.originalOutputDisplay=this.output.style.display||"inline-block",this.outputHeight=this.output.height,this.outputWidth=this.output.width,a.loop&&(this.loop=a.loop,this.setLoopConfig(a)),null!=a.stillFrameMS&&(this.stillFrameInS=a.stillFrameMS/1e3),this.isSupported=!0,this.renderMode=this.determineRenderMode({colorCorrect:a.colorCorrect,maskUrl:a.maskUrl,forceCanvas:a.forceCanvas,horizontalStack:a.horizontalStack}),this.renderMode!==this.RENDER_MODES.CANVAS&&this.renderMode!==this.RENDER_MODES.GL||this.runTaintedContentCheck(this.video),this.setupRenderer()};j.prototype={listen:function(){this.isSupported&&(this.boundFrameHandler=this.boundFrameHandler||this.frameHandler.bind(this),this.video.addEventListener("play",this.boundFrameHandler,!1),this.boundEndHandler=this.boundEndHandler||this.videoEndedHandler.bind(this),this.video.addEventListener("ended",this.boundEndHandler,!1),this.video.loop=this.loop)},teardown:function(){this.video.removeEventListener("play",this.boundFrameHandler),this.video.removeEventListener("ended",this.boundEndHandler),this.video.removeEventListener("seeked",this.boundLoopCountOnSeeked),this.video.removeEventListener("seeked",this.boundFreezeFrameOnSeeked),this.video=void 0,this.renderer.teardown(),this.output.width=1,this.output.height=1,this.output.parentNode.removeChild(this.output),this.output=void 0},RENDER_MODES:{GL:"gl",CANVAS:"canvas",MASK:"mask",COLOR_CORRECT:"color-correct",HORIZONTAL_GL:"horizontal-gl"},determineRenderMode:function(a){var b;return a.colorCorrect?b=this.RENDER_MODES.COLOR_CORRECT:a.maskUrl?(this.maskUrl=a.maskUrl,b=this.RENDER_MODES.MASK):a.forceCanvas?b=this.RENDER_MODES.CANVAS:a.horizontalStack?(this.gl=this.output.getContext("webgl")||this.output.getContext("experimental-webgl"),b=this.RENDER_MODES.HORIZONTAL_GL):b=this._determineRenderMode(),this.doDebug&&console.log("Alphalfa determined renderMode :: ",b),b},_determineRenderMode:function(){var a=!0;this.gl=void 0;try{this.gl=this.output.getContext("webgl")||this.output.getContext("experimental-webgl")}catch(b){a=!1}return this.gl||(a=!1),a?this.RENDER_MODES.GL:this.RENDER_MODES.CANVAS},setupRenderer:function(){var a={doDebug:this.doDebug,video:this.video,buffer:this.buffer,output:this.output,dieBecauseUnsupported:this.dieBecauseUnsupported};switch(this.renderMode){case this.RENDER_MODES.CANVAS:case this.RENDER_MODES.MASK:case this.RENDER_MODES.COLOR_CORRECT:try{a.outputCtx=this.output.getContext("2d")}catch(a){return this.doDebug&&console.log("Error executing `getContext`, canvas not supported."),void this.dieBecauseUnsupported()}a.outputHeight=this.outputHeight,a.outputWidth=this.outputWidth}switch(this.renderMode){case this.RENDER_MODES.GL:a.gl=this.gl,this.renderer=new d(a);break;case this.RENDER_MODES.CANVAS:this.renderer=new f(a);break;case this.RENDER_MODES.MASK:a.maskUrl=this.maskUrl,this.renderer=new g(a);break;case this.RENDER_MODES.COLOR_CORRECT:this.renderer=new h(a);break;case this.RENDER_MODES.HORIZONTAL_GL:a.gl=this.gl,this.renderer=new e(a)}this.setupRendererContext()},setupRendererContext:function(){this.renderer.setupRendererContext(),this.doDebug||(this.video.style.display="none",this.buffer&&(this.buffer.style.display="none")),this.processFrame=this.determineProcessFrame()},determineProcessFrame:function(){return this.renderMode===this.RENDER_MODES.CANVAS&&i.isIE()&&!this.hasBindSupport()?(this.doDebug&&console.log("Error: IE <9 does not support Function.bind. Aborting."),void this.dieBecauseUnsupported()):this.renderer.getProcessFrameFunc()},hasBindSupport:function(){return"bind"in Function},runTaintedContentCheck:function(a){var b=document.createElement("canvas");b.width=b.height=1,this.boundTestTainted=this.testTainted.bind(this,a,b),a.addEventListener("canplay",this.boundTestTainted)},testTainted:function(a,b){var c=b.getContext("2d");c.drawImage(a,0,0,1,1);try{c.getImageData(0,0,1,1)}catch(a){this.dieBecauseTainted()}a.removeEventListener("canplay",this.boundTestTainted),b=c=null},frameHandler:function(){return!!this.video&&(this.video.paused||this.video.ended?(this.video.paused&&this.freezeOrClear(),!1):(this.processFrame(),void(this.requestAnimationFrameRequest=window.requestAnimationFrame(this.boundFrameHandler))))},videoEndedHandler:function(){this.freezeOrClear(),void 0!==this.dismissalTimeout&&(this.boundHideOutputCanvas=this.boundHideOutputCanvas||this.hideOutputCanvas.bind(this),setTimeout(this.boundHideOutputCanvas,this.dismissalTimeout))},setLoopConfig:function(a){this.loopedNum=0;var b=null!=a.maxLoops?a.maxLoops:5;0!==b&&this.setMaxLoops(b)},setMaxLoops:function(a){this.maxLoops=a,this.boundLoopCountOnSeeked=this.loopCountOnSeeked.bind(this),this.video.addEventListener("seeked",this.boundLoopCountOnSeeked)},loopCountOnSeeked:function(a){this.video.paused?this.loopedNum=0:(this.video.currentTime<.1&&this.loopedNum++,this.loopedNum>=this.maxLoops&&(this.video.pause(),this.loopedNum=0))},freezeOrClear:function(){this.stillFrameInS?this.freezeOnStill(this.stillFrameInS):this.clearOnEnd()},freezeOnStill:function(a){this.video.pause(),this.boundFreezeFrameOnSeeked=this._freezeFrameOnSeeked.bind(this),this.video.addEventListener("seeked",this.boundFreezeFrameOnSeeked);var b=this.video.duration-.05,c=a>b?b:a;this.video.currentTime=c},_freezeFrameOnSeeked:function(){this.video.removeEventListener("seeked",this.boundFreezeFrameOnSeeked),this.processFrame()},clearOnEnd:function(){this.video.pause(),this._clearCanvas()},showOutputCanvas:function(){this.output.style.display=this.originalOutputDisplay},hideOutputCanvas:function(){this.output.style.display="none"},dieBecauseTainted:function(){this.doDebug&&window.console&&window.console.log&&console.log("Tainted canvas content. Killing Alphalfa playback."),this.dieBecauseUnsupported(!0)},dieBecauseUnsupported:function(a){this.doDebug&&!a&&window.console&&window.console.log&&console.log("Alphalfa has seen things. Attack ships on fire off the shoulder of Orion... Time. to die."),window.cancelAnimationFrame(this.requestAnimationFrameRequest),this.isSupported=!1,this.boundFrameHandler&&this.boundEndHandler&&(this.video.removeEventListener("play",this.boundFrameHandler,!1),this.video.removeEventListener("ended",this.boundEndHandler,!1)),this.video.pause(),this.video.style.display="none",this.output.style.display="none",this.buffer&&(this.buffer.style.display="none")},_clearCanvas:function(){this.renderer.clearCanvas()}},b.exports=j},{"../polyfills/request-animation-frame.js":94,"./alphalfa-utils.js":81,"./renderers/alphalfa-renderer-canvas.js":83,"./renderers/alphalfa-renderer-color-correct.js":84,"./renderers/alphalfa-renderer-horizontal-gl.js":85,"./renderers/alphalfa-renderer-mask.js":86,"./renderers/alphalfa-renderer-webgl.js":87}],83:[function(a,b,c){var d=a("../alphalfa-utils.js"),e=function(a){this.doDebug=a.doDebug,this.output=a.output,this.outputCtx=a.outputCtx,this.outputHeight=a.outputHeight,this.outputWidth=a.outputWidth,this.buffer=a.buffer,this.video=a.video,this.dieBecauseUnsupported=a.dieBecauseUnsupported};e.prototype={PIXEL_DATA_SIZE:4,setupRendererContext:function(){this._setupCanvasContext()},getProcessFrameFunc:function(){return this.processCanvasFrame.bind(this,this.buffer,this.bufferCtx,this.output,this.outputCtx,this.outputWidth,this.outputHeight)},clearCanvas:function(){d.clear2DCanvas(this.outputCtx,this.outputWidth,this.outputHeight)},teardown:function(){this.outputCtx=void 0,this.bufferCtx=void 0,this.buffer.width=1,this.buffer.height=1,this.buffer.parentNode.removeChild(this.buffer),this.buffer=void 0},processCanvasFrame:function(a,b,c,d,e,f){b.drawImage(this.video,0,0);for(var g=this.bufferCtx.getImageData(0,f,e,f),h=g.data,i=3,j=h.length;j>i;i+=this.PIXEL_DATA_SIZE)h[i]=h[i-2];d.putImageData(g,0,0,0,0,e,f),d.drawImage(a,0,0,e,2*f)},_setupCanvasContext:function(){this.buffer=this.buffer||d.makeBufferCanvas(),this.bufferCtx=this.buffer.getContext("2d"),this.outputCtx.globalCompositeOperation="source-in"}},b.exports=e},{"../alphalfa-utils.js":81}],84:[function(a,b,c){var d=a("../alphalfa-utils.js"),e=function(a){this.doDebug=a.doDebug,this.output=a.output,this.outputCtx=a.outputCtx,this.outputWidth=a.outputWidth,
this.outputHeight=a.outputHeight,this.video=a.video,this.dieBecauseUnsupported=a.dieBecauseUnsupported};e.prototype={setupRendererContext:function(){},getProcessFrameFunc:function(){return this.processColorCorrectFrame.bind(this,this.video,this.outputCtx,this.outputWidth,this.outputHeight)},clearCanvas:function(){d.clear2DCanvas(this.outputCtx,this.outputWidth,this.outputHeight)},teardown:function(){this.outputCtx=void 0},processColorCorrectFrame:function(a,b,c,d){b.drawImage(a,0,0,c,d)}},b.exports=e},{"../alphalfa-utils.js":81}],85:[function(a,b,c){var d=a("../alphalfa-utils.js"),e=function(a){this.doDebug=a.doDebug,this.gl=a.gl,this.output=a.output,this.buffer=a.buffer,this.video=a.video,this.dieBecauseUnsupported=a.dieBecauseUnsupported};e.prototype={setupRendererContext:function(){this._setupGlContext(this.gl)},getProcessFrameFunc:function(){return this.determineGlRenderFunc()},clearCanvas:function(){this.gl.clear(this.gl.COLOR_BUFFER_BIT)},teardown:function(){var a=this.gl;a.bindBuffer(a.ARRAY_BUFFER,this.vbuffer),a.bufferData(a.ARRAY_BUFFER,1,a.STATIC_DRAW),a.deleteBuffer(this.vbuffer),a.bindBuffer(a.ARRAY_BUFFER,this.texCoordBuffer),a.bufferData(a.ARRAY_BUFFER,1,a.STATIC_DRAW),a.deleteBuffer(this.texCoordBuffer),a.bindTexture(a.TEXTURE_2D,null),a.deleteTexture(this.stackTexture),this.gl=void 0,this.buffer&&(this.bufferCtx=void 0,this.buffer.width=1,this.buffer.height=1,this.buffer.parentNode.removeChild(this.buffer),this.buffer=void 0)},determineGlRenderFunc:function(){return d.isIE()?this.ieProcessGlFrame.bind(this,this.gl,this.output,this.output.width,this.output.height):this.processGlFrame.bind(this,this.gl,this.output)},processGlFrame:function(a,b){this._updateTextureFromVideo(a),a.drawArrays(a.TRIANGLE_STRIP,0,4)},_updateTextureFromVideo:function(a){a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.video)},ieProcessGlFrame:function(a,b,c,d){this._ieUpdateTextureFromVideo(a,c,d),a.drawArrays(a.TRIANGLE_STRIP,0,4)},_ieUpdateTextureFromVideo:function(a,b,c){this.bufferCtx.drawImage(this.video,0,0,b,2*c),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.buffer)},_setupGlContext:function(a){d.isIE()&&(this.doDebug&&console.log("Using alternate IE render mode."),this._ieGlSetup()),a.enableVertexAttribArray(0),a.viewport(0,0,this.output.width,this.output.height),this.doDebug?a.clearColor(0,0,0,.1):a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),this.program=this._compileProgram(a,this.SHADER_VERTEX,this.SHADER_FRAGMENT),a.useProgram(this.program),this._getGlDataLocations(a),this._createAndBindTexCoordData(a),this._createAndBindTexture(a),this._createAndBindVertexData(a)},_ieGlSetup:function(){this.buffer=this.buffer||d.makeBufferCanvas(),this.bufferCtx=this.buffer.getContext("2d")},_getGlDataLocations:function(a){this.aTexCoord_loc=a.getAttribLocation(this.program,"aTexCoord"),this.aPosition_loc=a.getAttribLocation(this.program,"aPosition"),this.uImage_loc=a.getUniformLocation(this.program,"uImage")},_createAndBindVertexData:function(a){this.vbuffer=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.vbuffer),a.bufferData(a.ARRAY_BUFFER,new Float32Array([-1,1,1,1,-1,-1,1,-1]),a.STATIC_DRAW),a.enableVertexAttribArray(this.aPosition_loc),a.vertexAttribPointer(this.aPosition_loc,2,a.FLOAT,!1,0,0)},_createAndBindTexCoordData:function(a){this.texCoordBuffer=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.texCoordBuffer),a.bufferData(a.ARRAY_BUFFER,new Float32Array([0,0,.5,0,0,1,.5,1]),a.STATIC_DRAW),a.enableVertexAttribArray(this.aTexCoord_loc),a.vertexAttribPointer(this.aTexCoord_loc,2,a.FLOAT,!1,0,0),a.uniform2f(a.getUniformLocation(this.program,"uHalfTexOffset"),.5,0)},_createAndBindTexture:function(a){this.stackTexture=a.createTexture(),a.bindTexture(a.TEXTURE_2D,this.stackTexture),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},_compileProgram:function(a,b,c){var d,e,f;return d=a.createShader(a.VERTEX_SHADER),a.shaderSource(d,b),a.compileShader(d),e=a.createShader(a.FRAGMENT_SHADER),a.shaderSource(e,c),a.compileShader(e),f=a.createProgram(),a.attachShader(f,d),a.attachShader(f,e),a.linkProgram(f),a.getShaderParameter(d,a.COMPILE_STATUS)||console.log("gl.getShaderInfoLog(vs) :: ",a.getShaderInfoLog(d)),a.getShaderParameter(e,a.COMPILE_STATUS)||console.log("gl.getShaderInfoLog(fs) :: ",a.getShaderInfoLog(e)),a.getProgramParameter(f,a.LINK_STATUS)||console.log("gl.getProgramInfoLog(program) :: ",a.getProgramInfoLog(f)),f},SHADER_VERTEX:["","  attribute vec2 aPosition;","  attribute vec2 aTexCoord;","  varying vec2 vTexCoord;","  void main() {","    gl_Position = vec4(aPosition, 0.0, 1.0);","    vTexCoord = aTexCoord;","  }",""].join("\n"),SHADER_FRAGMENT:["","  precision highp float;","  uniform sampler2D uImage;","  uniform vec2 uHalfTexOffset;","  varying vec2 vTexCoord;","  void main() {","    vec4 color = texture2D( uImage, vTexCoord );","    vec4 alpha = texture2D( uImage, vTexCoord + uHalfTexOffset );","    color[3] = alpha[0]; // avg alpha","    gl_FragColor = color;","  }",""].join("\n")},b.exports=e},{"../alphalfa-utils.js":81}],86:[function(a,b,c){var d=a("../alphalfa-utils.js"),e=function(a){this.doDebug=a.doDebug,this.output=a.output,this.outputCtx=a.outputCtx,this.outputHeight=a.outputHeight,this.outputWidth=a.outputWidth,this.video=a.video,this.maskUrl=a.maskUrl,this.dieBecauseUnsupported=a.dieBecauseUnsupported};e.prototype={setupRendererContext:function(){this._setupMaskContext()},getProcessFrameFunc:function(){return this.processMaskFrame.bind(this,this.video,this.outputCtx,this.outputWidth,this.outputHeight)},clearCanvas:function(){d.clear2DCanvas(this.outputCtx,this.outputWidth,this.outputHeight)},teardown:function(){this.outputCtx=void 0},processMaskFrame:function(a,b,c,d){b.drawImage(a,0,0,c,d)},_setupMaskContext:function(){this.loadMask(this.maskUrl)},loadMask:function(a){var b=this,c=this.mask=new Image;c.addEventListener("load",function(a){b.putImageMask.call(b,c)}),c.src=a},putImageMask:function(a){this.outputCtx.globalCompositeOperation="source-over",this.outputCtx.drawImage(a,0,0,this.outputWidth,this.outputHeight),this.outputCtx.globalCompositeOperation="source-in"}},b.exports=e},{"../alphalfa-utils.js":81}],87:[function(a,b,c){var d=a("../alphalfa-utils.js"),e=function(a){this.doDebug=a.doDebug,this.gl=a.gl,this.output=a.output,this.buffer=a.buffer,this.video=a.video,this.dieBecauseUnsupported=a.dieBecauseUnsupported};e.prototype={setupRendererContext:function(){this._setupGlContext(this.gl)},getProcessFrameFunc:function(){return this.determineGlRenderFunc()},clearCanvas:function(){this.gl.clear(this.gl.COLOR_BUFFER_BIT)},teardown:function(){var a=this.gl;a.bindBuffer(a.ARRAY_BUFFER,this.vbuffer),a.bufferData(a.ARRAY_BUFFER,1,a.STATIC_DRAW),a.deleteBuffer(this.vbuffer),a.bindBuffer(a.ARRAY_BUFFER,this.texCoordBuffer),a.bufferData(a.ARRAY_BUFFER,1,a.STATIC_DRAW),a.deleteBuffer(this.texCoordBuffer),a.bindTexture(a.TEXTURE_2D,null),a.deleteTexture(this.stackTexture),this.gl=void 0,this.buffer&&(this.bufferCtx=void 0,this.buffer.width=1,this.buffer.height=1,this.buffer.parentNode.removeChild(this.buffer),this.buffer=void 0)},determineGlRenderFunc:function(){return d.isIE()?this.ieProcessGlFrame.bind(this,this.gl,this.output,this.output.width,this.output.height):this.processGlFrame.bind(this,this.gl,this.output)},processGlFrame:function(a,b){this._updateTextureFromVideo(a),a.drawArrays(a.TRIANGLE_STRIP,0,4)},_updateTextureFromVideo:function(a){a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.video)},ieProcessGlFrame:function(a,b,c,d){this._ieUpdateTextureFromVideo(a,c,d),a.drawArrays(a.TRIANGLE_STRIP,0,4)},_ieUpdateTextureFromVideo:function(a,b,c){this.bufferCtx.drawImage(this.video,0,0,b,2*c),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,this.buffer)},_setupGlContext:function(a){d.isIE()&&(this.doDebug&&console.log("Using alternate IE render mode."),this._ieGlSetup()),a.enableVertexAttribArray(0),a.viewport(0,0,this.output.width,this.output.height),this.doDebug?a.clearColor(0,0,0,.1):a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),this.program=this._compileProgram(a,this.SHADER_VERTEX,this.SHADER_FRAGMENT),a.useProgram(this.program),this._getGlDataLocations(a),this._createAndBindTexCoordData(a),this._createAndBindTexture(a),this._createAndBindVertexData(a)},_ieGlSetup:function(){this.buffer=this.buffer||d.makeBufferCanvas(),this.bufferCtx=this.buffer.getContext("2d")},_getGlDataLocations:function(a){this.aTexCoord_loc=a.getAttribLocation(this.program,"aTexCoord"),this.aPosition_loc=a.getAttribLocation(this.program,"aPosition"),this.uImage_loc=a.getUniformLocation(this.program,"uImage")},_createAndBindVertexData:function(a){this.vbuffer=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.vbuffer),a.bufferData(a.ARRAY_BUFFER,new Float32Array([-1,1,1,1,-1,-1,1,-1]),a.STATIC_DRAW),a.enableVertexAttribArray(this.aPosition_loc),a.vertexAttribPointer(this.aPosition_loc,2,a.FLOAT,!1,0,0)},_createAndBindTexCoordData:function(a){this.texCoordBuffer=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.texCoordBuffer),a.bufferData(a.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,.5,1,.5]),a.STATIC_DRAW),a.enableVertexAttribArray(this.aTexCoord_loc),a.vertexAttribPointer(this.aTexCoord_loc,2,a.FLOAT,!1,0,0),a.uniform2f(a.getUniformLocation(this.program,"uHalfTexOffset"),0,.5)},_createAndBindTexture:function(a){this.stackTexture=a.createTexture(),a.bindTexture(a.TEXTURE_2D,this.stackTexture),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST)},_compileProgram:function(a,b,c){var d,e,f;return d=a.createShader(a.VERTEX_SHADER),a.shaderSource(d,b),a.compileShader(d),e=a.createShader(a.FRAGMENT_SHADER),a.shaderSource(e,c),a.compileShader(e),f=a.createProgram(),a.attachShader(f,d),a.attachShader(f,e),a.linkProgram(f),a.getShaderParameter(d,a.COMPILE_STATUS)||console.log("gl.getShaderInfoLog(vs) :: ",a.getShaderInfoLog(d)),a.getShaderParameter(e,a.COMPILE_STATUS)||console.log("gl.getShaderInfoLog(fs) :: ",a.getShaderInfoLog(e)),a.getProgramParameter(f,a.LINK_STATUS)||console.log("gl.getProgramInfoLog(program) :: ",a.getProgramInfoLog(f)),f},SHADER_VERTEX:["","  attribute vec2 aPosition;","  attribute vec2 aTexCoord;","  varying vec2 vTexCoord;","  void main() {","    gl_Position = vec4(aPosition, 0.0, 1.0);","    vTexCoord = aTexCoord;","  }",""].join("\n"),SHADER_FRAGMENT:["","  precision highp float;","  uniform sampler2D uImage;","  uniform vec2 uHalfTexOffset;","  varying vec2 vTexCoord;","  void main() {","    vec4 color = texture2D( uImage, vTexCoord );","    vec4 alpha = texture2D( uImage, vTexCoord + uHalfTexOffset );","    color[3] = alpha[0]; // avg alpha","    gl_FragColor = color;","  }",""].join("\n")},b.exports=e},{"../alphalfa-utils.js":81}],88:[function(a,b,c){var d=function(a){this.name=a.name,this.frames=a.frames,this.frameSpeed=a.frameSpeed,this.loop=!!a.loop,this.maxLoops=null!=a.maxLoops?a.maxLoops:0,this.onComplete=a.onComplete,this.onCompleteCallback=a.onCompleteCallback,this.currentFrame=0,this.loopCount=0};d.prototype={getClone:function(){return new d({name:this.name,frames:this.frames,frameSpeed:this.frameSpeed,loop:this.loop,maxLoops:this.maxLoops,onComplete:this.onComplete,onCompleteCallback:this.onCompleteCallback})},incrementLoopCount:function(){this.loopCount++},overMaxLoops:function(){return 0!==this.maxLoops&&this.loopCount>=this.maxLoops}},b.exports=d},{}],89:[function(a,b,c){var d=a("./animaniac-animation.js");a("../polyfills/request-animation-frame.js");var e=function(a){this.injectEl=a.injectEl,this.animations={},this.animationConfigs=a.animations,this.autoplayAnimationName=a.autoplay,this.pauseFrame=a.pauseFrame||0,this.sprites={width:a.spriteWidth,height:a.spriteHeight},this.sheet={width:a.sheetWidth,height:a.sheetHeight},this.url=a.url,this.ready=!1,this.init()};e.prototype={doDebug:!1,log:function(){if(this.doDebug){var a=["Animaniac: "].concat(arguments);window.console.log.apply(window.console,a)}},init:function(){this.el=document.createElement("div"),this.el.className="animaniac",this.setInitialStyle(),this.prepareCoords()},setInitialStyle:function(){for(var a={display:"block",width:this.sprites.width+"px",height:this.sprites.height+"px",backgroundColor:"transparent",backgroundPosition:"0 0",backgroundRepeat:"no-repeat",backgroundSize:this.sheet.width+"px "+this.sheet.height+"px"},b=Object.keys(a),c=0;c<b.length;c++)this.el.style[b[c]]=a[b[c]]},prepareCoords:function(){this.cellCoords=this.determineCellCoords(),this.pauseCell=this.cellCoords[this.pauseFrame],this.animations=this.processAnimationConfigs(this.animationConfigs),this.applySpritesheet(),this.autoplayAnimationName?this.playAnimation(this.autoplayAnimationName):this.showCoords(this.pauseCell)},determineCellCoords:function(){var a=[];this.sheet.cols=Math.round(this.sheet.width/this.sprites.width),this.sheet.rows=Math.round(this.sheet.height/this.sprites.height);for(var b=1,c=1,d=(this.sprites.width,this.sprites.height,this.sheet.width,this.sheet.height,this.sheet.cols<=1?0:100/(this.sheet.cols-1)),e=this.sheet.rows<=1?0:100/(this.sheet.rows-1);b<=this.sheet.cols&&c<=this.sheet.rows;)if(a.push({x:((b-1)*d).toFixed(5),y:((c-1)*e).toFixed(5)}),b<this.sheet.cols)b++;else{if(!(c<this.sheet.rows))break;b=1,c++}return a},applySpritesheet:function(){this.el.style.backgroundImage="url("+this.url+")",this.injectEl.appendChild(this.el),this.ready=!0},play:function(){this.unpause(),this.playAnimation(this.currentAnimation.name)},pause:function(){this.paused=!0},unpause:function(){this.paused=!1},isPaused:function(){return this.paused},playAnimation:function(a){this.ready||this.log("Not ready! TODO, add Queuer."),this.currentAnimation=this.animations[a].getClone(),this.currentAnimation?(this.unpause(),this.startAnimation()):this.log("Non-existent animation name passed to Animaniac.play()")},startAnimation:function(){this.boundHandleRequestAnimationFrame=this.handleRequestAnimationFrame.bind(this),this.timeSince=0,this.lastTS=Date.now(),this.nextFrame(),window.requestAnimationFrame(this.boundHandleRequestAnimationFrame)},handleRequestAnimationFrame:function(){var a=Date.now();this.timeSince>this.currentAnimation.frameSpeed?(this.nextFrame(),this.timeSince=0):(this.timeSince+=a-this.lastTS,this.lastTS=a),this.isPaused()?this.showCoords(this.pauseCell):window.requestAnimationFrame(this.boundHandleRequestAnimationFrame)},nextFrame:function(){var a=this.currentAnimation,b=a.currentFrame,c=a.frames[b];if(this.showCoords(c),this.hasNextFrame(a,b))a.currentFrame++;else{if(!a.loop||a.overMaxLoops()){var d=a.onCompleteCallback;if(this.isValidCallback(d)){var e=d.args?d.args:[];d.callback.apply(d.thisArg,e)}return void("string"==typeof a.onComplete?this.playAnimation(a.onComplete):this.pause())}a.incrementLoopCount(),a.currentFrame=0}},isValidCallback:function(a){return!!a&&a.callback&&a.thisArg},hasNextFrame:function(a,b){return!!a.frames[b+1]},showCoords:function(a){var b=a;void 0!==a&&null!=a.x&&null!=a.y||(this.log('Bad coords object passed to "showCoords".'),b=this.pauseCell),this.el.style.backgroundPosition=b.x+"% "+b.y+"%"},setAnimationCoords:function(a){for(var b=0;b<this.animations.length;b++)for(var c=this.animations[b],d=0;d<c.frames.length;d++)c.frames[d]=a[c.frames[d]]},processAnimationConfigs:function(a){null==a&&this.log("Must configure animations!");for(var b={},c=0;c<a.length;c++){for(var e=a[c],f=e.name,g=this.processFrameSeq(e.frames),h=[],i=0;i<g.length;i++){var j=g[i];h.push(this.cellCoords[j])}b[f]=new d({name:f,frames:h,frameSpeed:this.getFrameSpeed(e.fps||24),loop:!!e.loop,maxLoops:e.maxLoops,onComplete:e.onComplete,onCompleteCallback:e.onCompleteCallback})}return b},processFrameSeq:function(a){return Array.isArray(a)?this.processFrameSeqArray(a):"string"==typeof a?this.processFrameSeqString(a):(this.log("Warning, unsupported frame sequence format."),[0])},processFrameSeqArray:function(a){for(var b=a,c=(b.length,0);c<b.length;)if("string"==typeof b[c]){var d=this.processFrameSeqString(b[c]),e=[c,1].concat(d);b.splice.apply(b,e),c+=d.length}else c++;return b},processFrameSeqString:function(a){var b=[],c=a.split("-");if(2!==c.length)return[parseInt(c[0],10)];for(var d=0;d<c.length-1;d++){var e=c[d],f=c[d+1];b=b.concat(this.framesBetween(e,f))}return b},framesBetween:function(a,b){var c=parseInt(a,10),d=parseInt(b,10);return d>c?this._framesBetweenIncremental(c,d):this._framesBetweenDecremental(c,d)},_framesBetweenIncremental:function(a,b){var c=[],d=a;for(c.push(d);++d<=b;)c.push(d);return c},_framesBetweenDecremental:function(a,b){var c=[],d=a;for(c.push(d);--d>=b;)c.push(d);return c},getFrameSpeed:function(a){return 1e3/a}},b.exports=e},{"../polyfills/request-animation-frame.js":94,"./animaniac-animation.js":88}],90:[function(a,b,c){var d=a("./zoolander.js"),e=function(a){a.targetDate||console.warn("Countdowner :: Required argument not provided."),this.el=a.el||document.createElement("div"),this.id="countdowner-"+Date.now()+Math.floor(1e4*Math.random()),this.init(a)};e.prototype={defaults:{splitChar:"",doPad:!1,hideAfterRelease:!1,periods:["days","hours","minutes","seconds"],periodContainerCss:{display:"inline-block"},periodCountCss:{display:"inline-block"},labels:["Days","Hrs","Mins","Secs"],printLabels:!1,labelsBelow:!0,labelsCss:{display:"inline-block"}},classPrefix:"cd-",init:function(a){this.targetDate=this.determineTargetDate(a.targetDate),this.setConfig(a),a.hideAfterRelease&&this.timeRemaining()<=0||(this.zoo=a.zoolander||new d,this.injectCss(),this.initializeHtml(),this.printLabels&&this.initializeLabels(),this._render(),this.renderBind=this._render.bind(this),clearInterval(this.renderInterval),this.renderInterval=setInterval(this.renderBind,1e3))},setConfig:function(a){var b=this.addDefaults(a);for(var c in delete b.targetDate,b)b.hasOwnProperty(c)&&(this[c]=b[c])},addDefaults:function(a){var b=a;for(var c in this.defaults)this.defaults.hasOwnProperty(c)&&(this.isDefined(a[c])||(b[c]=this.defaults[c]));return b},determineTargetDate:function(a){var b;if("object"==typeof a&&this.isDefined(a.month)){var c=a.date||a.day;b=new Date(a.year,a.month-1,c)}else"object"==typeof a&&a instanceof Date?b=a:"string"==typeof a?b=new Date(a):console.warn("No date or invalid date provided. Aborting Countdowner.");return b},makeEl:function(a,b){var c=this.isDefined(b)?b:"div",d=document.createElement(c);if("string"==typeof a)d.classList.add(this.classPrefix+a);else for(var e=0;e<a.length;e++)d.classList.add(this.classPrefix+a[e]);return d},initializeHtml:function(){this.container=this.makeEl("container"),this.container.id=this.id;var a=this.periods;this.periodEls=[];for(var b=a[a.length-1],c=0;c<a.length;c++){var d=this.makePeriodContainer(a[c]);this.container.appendChild(d),this.periodEls[a[c]]=d,this.splitChar&&""!==this.splitChar&&a[c]!==b&&this.container.appendChild(this.makeSplitContainer())}this.el.innerHTML="",this.el.appendChild(this.container)},appendCountChildren:function(a){var b=this.makeEl("count","div");a.appendChild(b)},makePeriodContainer:function(a){var b=this.makeEl([a,"period-container"]);return this.appendCountChildren(b),b},makeSplitContainer:function(){var a=this.makeEl("split-el","span");return a.innerHTML=" "+this.splitChar+" ",a},initializeLabels:function(){for(var a=0;a<this.labels.length;a++){var b=this.makeLabel(this.labels[a],this.periods[a]),c=this.periodEls[this.periods[a]];this.labelsBelow?c.appendChild(b):c.insertBefore(b,c.children[0])}},makeLabel:function(a,b){var c=this.makeEl(["label","label-"+b],"span");return c.innerHTML=a,c},msSec:1e3,msMin:6e4,msHour:36e5,msDay:864e5,timeRemaining:function(){var a=Date.now(),b=this.targetDate.valueOf()-a;return b>0?b:0},calcRemaining:function(){var a={days:0,hours:0,minutes:0,seconds:0},b=this.timeRemaining();if(0===b)return a;var c=b;if(a.days=Math.floor(c/this.msDay),c-=a.days*this.msDay,a.hours=Math.floor(c/this.msHour),c-=a.hours*this.msHour,a.minutes=Math.floor(c/this.msMin),c-=a.minutes*this.msMin,a.seconds=Math.floor(c/this.msSec),this.doPad)for(var d in a)a.hasOwnProperty(d)&&(a[d]=this.pad(a[d]));return a},pad:function(a){return a>=10?a:"0"+a},container:function(){return this.el.children[0]},el:function(a){return arguments.length?(this.el=a,this):this.el},_render:function(){var a=this.calcRemaining();this.periodEls.days.children[0].innerHTML=a.days,this.periodEls.hours.children[0].innerHTML=a.hours,this.periodEls.minutes.children[0].innerHTML=a.minutes,this.periodEls.seconds.children[0].innerHTML=a.seconds},injectCss:function(){var a="#"+this.id,b=a+" ."+this.classPrefix,c=[[a,{"box-sizing":"border-box"}],[a+" *",{"box-sizing":"inherit"}],[b+"period-container",this.periodContainerCss],[b+"count",this.periodCountCss],[b+"label",this.labelsCss]];this.zoo.insertRules(c)},isDefined:function(a){return void 0!==a}},b.exports=e},{"./zoolander.js":111}],91:[function(a,b,c){function d(a){function b(a){var b,c,d,f;if(!(a&&0<a.length))return null;for(b=[],c=a.length-1;-1!==c;c--)d=a[c],f=e(d),d.error||b.push(f);return b}function c(a){for(var b,c=null,d=z&&0<z.length?z.length:0,e=0;d>e&&null===c;e++)c=(b=z[e]).time>a?b:c;return c}function d(a){null!==s&&p(),void 0===(s=a)||"VIDEO"!==s.tagName&&"AUDIO"!==s.tagName||(o(),0<s.duration&&i())}function h(a,b){return a.time<b.time?-1:a.time>b.time?1:0}function i(){var a;if(z&&0!==z.length){for(a=z.length-1;-1!==a;a--)z[a].adjustToDuration(s.duration);z.sort(h),v=c(s.currentTime)}}function j(){v&&void 0!==typeof v.time&&null!==v.time&&s&&void 0!==typeof s.currentTime&&null!==s.currentTime&&v.time<=s.currentTime&&(w=v,u||(w.trigger(s),t.notify(g.onCuepoint,[w,s])),v=c(s.currentTime)),x&&window.requestAnimationFrame(j)}function k(){v=c(s.currentTime)}function l(){x=!0,j()}function m(){x=!1}function n(){x&&"hidden"===document.visibilityState&&s.addEventListener("timeupdate",j),"hidden"!==document.visibilityState&&s.removeEventListener("timeupdate",j)}function o(){y||(y=!0,s.addEventListener("durationchange",i),s.addEventListener("seeked",k),s.addEventListener("playing",l),s.addEventListener("pause",m),s.addEventListener("ended",m),s.addEventListener("abort",m),s.addEventListener("emptied",m),s.addEventListener("error",m),s.addEventListener("stalled",m),s.addEventListener("waiting",m),document.addEventListener("visibilitychange",n))}function p(){y&&(y=!1,s.removeEventListener("durationchange",i),s.removeEventListener("seeked",k),s.removeEventListener("playing",l),s.removeEventListener("pause",m),s.removeEventListener("ended",m),s.removeEventListener("abort",m),s.removeEventListener("emptied",m),s.removeEventListener("error",m),s.removeEventListener("stalled",m),s.removeEventListener("waiting",m),s.removeEventListener("timeupdate",j),document.removeEventListener("visibilitychange",n))}function q(a){!function(a,b){for(var c,d=!1,e=Object.keys(b),f=e.length,g=0;f>g&&!d;g++)c=e[g],d=a.hasOwnProperty(c);return d}(a,g)?console.warn("CuepointEngine.subscribe() :: observer must have valid notification keys!\n	Valid notification keys = '"+Object.keys(g).join("', '")+"'\n	Observer:",a):t.subscribe(a)}function r(a){var c=a.cuepoints&&0<a.cuepoints.length?a.cuepoints:[];z=b(c),d(a.media),a.observer&&q(a.observer)}var s,t=f(),u=!1,v=null,w=null,x=!1,y=!1,z=[];return r(a),{init:r,start:o,stop:p,destroy:function(){p(),t.clear(),x=!1,s=z=w=v=null},getCuepoints:function(){return z},setCuepoints:function(a){var c=0<a.length?a:[];z=b(c)},addCuepoint:function(a){e(a).error||(z.push(e(a)),i())},removeCuepoint:function(a){var b=z.indexOf(a);b>-1&&(z.splice(b,1),i())},getMedia:function(){return s},setMedia:d,getIgnoreCuepoints:function(){return u},setIgnoreCuepoints:function(a){u=a},subscribe:q,unsubscribe:t.unsubscribe,NOTIFICATIONS:g}}a("../polyfills/request-animation-frame.js");var e=a("./cuepoint.js"),f=a("../utils/notifier.js"),g={onCuepoint:"onCuepoint"};Object.defineProperty(d,"NOTIFICATIONS",{value:g,writable:!1,enumerable:!0,configurable:!1}),b.exports=d},{"../polyfills/request-animation-frame.js":94,"../utils/notifier.js":108,"./cuepoint.js":92}],92:[function(a,b,c){function d(a){var b=function(a){for(var b,c={},d=a.replace(/(\D{1,})([\d])/g,"$1,$2").split(","),e=0,f=d.length;f>e;e++)c[(b=d[e].split(/(\D{1,})/))[1]]=parseInt(b[0],10);return c}(a),c={m:6e4,s:1e3,ms:1};return Object.keys(b).reduce(function(a,d){return a+b[d]*c[d]},0)}b.exports=function(a){if(!a||!a.hasOwnProperty("time"))return{time:-1,error:"Cuepoint Error: cuepointData is invalid",data:a};var b,c={},e=[],f=a.time,g="string"==typeof f,h=g?f.match(/\-?\d+([%msh]+)/):[],i=h&&0<h.length?h[1]:"ms";switch(!0){case g&&"%"===i:b=parseInt(f,10);break;case!g:b=f;break;case g&&0===f.indexOf("-")||0>f:b=-d(f.substring(1)),i="ms";break;default:b=d(f),i="ms"}return c.timestamp=f,c.endOffset=0>b,c.durationDependent="%"===i||c.endOffset,c.time=function(a,b){var c;switch(!0){case"s"===b:c=a;break;case"%"===b:c=a/100;break;default:c=a/1e3}return c}(b,i),c.name=a.hasOwnProperty("name")?a.name:"Unnamed Cuepoint",c.type=a.hasOwnProperty("type")?a.type:"cuepoint",c.data=a.hasOwnProperty("data")?a.data:{},a.hasOwnProperty("callback")&&"function"==typeof a.callback&&(c.callback=a.callback),c.trigger=function(a){return c.callback&&c.callback(c,a),e.push(Date.now()),c},c.reset=function(){e=[]},c.getHistory=function(){return e},c.adjustToDuration=function(a){var d;return"%"===i&&(d=a*(b/100),c.time=d),c.endOffset&&(d=a+b/1e3,c.time=d),c},c}},{}],93:[function(a,b,c){var d={AlphalfaPlayer:a("./alphalfa/alphalfa.js"),Animaniac:a("./animaniac/animaniac.js"),Countdowner:a("./countdowner.js"),CuepointEngine:a("./cuepoints/cuepoint-engine.js"),Reely:a("./reely/reely.js"),Uatu:a("./uatu.js"),Zoolander:a("./zoolander.js")};window.ad_design=d,b.exports=d},{"./alphalfa/alphalfa.js":82,"./animaniac/animaniac.js":89,"./countdowner.js":90,"./cuepoints/cuepoint-engine.js":91,"./reely/reely.js":105,"./uatu.js":106,"./zoolander.js":111}],94:[function(a,b,c){!function(){for(var a=0,b=["webkit","moz"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),f=window.setTimeout(function(){b(d+e)},e);return a=d+e,f}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}()},{}],95:[function(a,b,c){b.exports={DEFAULT_SPRITESHEET:"https://m.media-amazon.com/images/I/21uHhW38EgL.svg",DEFAULT_OVERLAY_SPRITESHEET:"https://m.media-amazon.com/images/G/01/IMDb/design/modules/reely/sprites/reely-overlay._V503633712_.png"}},{}],96:[function(a,b,c){var d=a("./reely-scrubber.js"),e=a("./reely-css-classes.js"),f=a("./reely-el-maker.js"),g=a("./reely-events.js"),h=function(a,b){this.eventBus=a.eventBus,this.spriteDimensions=a.spriteDimensions,this.controlBarConfig=a.controlBarConfig,this.spritesheet=a.spritesheet,this.zoo=a.zoo,this.init(b)};h.prototype={FADE_DELAY_SECS:2,init:function(a){this.el=f.make("div",e.CONTROL_BAR_CONTAINER),this.el.style.display="none",this.reely=a,this.controlBar=f.make("div",[e.CONTROL_BAR,e.REPEAT_X_SPRITE+"-controlsBG"]),this.appendTableLayoutDivs(this.controlBar),this.injectControlsStyles(),this.populateControls(),this.el.appendChild(this.controlBar),this.controlBarConfig.autohide&&(this.fadeOutBind=this.fadeOut.bind(this),this.resetFadeOutDelay(),this.autohideListen()),this.broadcastInteraction(),this.listen()},populateControls:function(){this.createControlButtons(),this.scrubber=new d({eventBus:this.eventBus,spritesheet:this.spritesheet,spriteDimensions:this.spriteDimensions,zoo:this.zoo}),this.midCell.appendChild(this.scrubber.getEl())},clearFadeOutDelay:function(){clearTimeout(this.fadeOutDelay)},resetFadeOutDelay:function(){this.clearFadeOutDelay(),this.fadeOutDelay=setTimeout(this.fadeOutBind,1e3*this.FADE_DELAY_SECS)},fadeIn:function(){e.remove(this.el,e.TRANSPARENT),this.eventBus.trigger(g.FADE_IN_START)},fadeOut:function(){e.add(this.el,e.TRANSPARENT),this.eventBus.trigger(g.FADE_OUT_START)},broadcastInteraction:function(){this.el.addEventListener("mousemove",this.eventBus.triggers[g.MOUSE_MOVE])},listen:function(){this.eventBus.addEventListener(g.VID_LOADEDDATA,this.onLoadedData,this),this.eventBus.addEventListener(g.VID_PLAY,this.togglePlayPause,this,"play"),this.eventBus.addEventListener(g.VID_PAUSE,this.togglePlayPause,this,"pause"),this.eventBus.addEventListener(g.MUTED,this.toggleMuteUnmute,this,"unmuted"),this.eventBus.addEventListener(g.UNMUTED,this.toggleMuteUnmute,this,"muted"),this.eventBus.addEventListener(g.VID_EXITFULLSCREEN,this.toggleNormalFullscreen,this,"normal"),this.eventBus.addEventListener(g.VID_ENTERFULLSCREEN,this.toggleNormalFullscreen,this,"fullscreen")},autohideListen:function(){this.eventBus.addEventListener(g.MOUSE_IN,this.onMouseIn,this),this.eventBus.addEventListener(g.MOUSE_OUT,this.onMouseOut,this),this.eventBus.addEventListener(g.MOUSE_MOVE,this.onMouseMove,this)},teardown:function(){this.clearFadeOutDelay(),this.scrubber.teardown(),this.el.removeEventListener("mousemove",this.eventBus.triggers[g.MOUSE_MOVE]),this.eventBus.removeEventListener(g.VID_LOADEDDATA,this.onLoadedData,this),this.eventBus.removeEventListener(g.VID_PLAY,this.togglePlayPause,this,"play"),this.eventBus.removeEventListener(g.VID_PAUSE,this.togglePlayPause,this,"pause"),this.eventBus.removeEventListener(g.MUTED,this.toggleMuteUnmute,this,"unmuted"),this.eventBus.removeEventListener(g.UNMUTED,this.toggleMuteUnmute,this,"muted"),this.eventBus.removeEventListener(g.VID_EXITFULLSCREEN,this.toggleNormalFullscreen,this,"normal"),this.eventBus.removeEventListener(g.VID_ENTERFULLSCREEN,this.toggleNormalFullscreen,this,"fullscreen"),this.eventBus.removeEventListener(g.MOUSE_IN,this.onMouseIn,this),this.eventBus.removeEventListener(g.MOUSE_OUT,this.onMouseOut,this),this.eventBus.removeEventListener(g.MOUSE_MOVE,this.onMouseMove,this)},onLoadedData:function(a){this.el.style.display=""},togglePlayPause:function(a){var b=this.isToggled(this.playPause);(!b&&"play"===a||b&&"pause"===a)&&this.toggleTwoState(this.playPause)},toggleMuteUnmute:function(a){var b=this.isToggled(this.muteUnmute);(!b&&"muted"===a||b&&"unmuted"===a)&&this.toggleTwoState(this.muteUnmute)},toggleNormalFullscreen:function(a){var b=this.isToggled(this.fullscreenNormal);(!b&&"fullscreen"===a||b&&"normal"===a)&&this.toggleTwoState(this.fullscreenNormal)},isToggled:function(a){return e.contains(a,e.TOGGLED)},toggleTwoState:function(a){this.isToggled(a)?e.remove(a,e.TOGGLED):e.add(a,e.TOGGLED)},onMouseIn:function(a){this.fadeIn()},onMouseMove:function(a){this.fadeIn(),this.resetFadeOutDelay()},onMouseOut:function(a){this.resetFadeOutDelay()},appendTableLayoutDivs:function(a){this.midCell=f.make("div",e.CONTROL_BAR_MID),this.leftCell=f.make("div",e.CONTROL_BAR_LEFT),this.rightCell=f.make("div",e.CONTROL_BAR_RIGHT),a.appendChild(this.midCell),a.appendChild(this.leftCell),a.appendChild(this.rightCell)},createControlButtons:function(){this.playPause=f.createTwoStateButton("play-pause",[{defaultIconName:"play",hoverIconName:"play-hover"},{defaultIconName:"pause",hoverIconName:"pause-hover"}]),this.muteUnmute=f.createTwoStateButton("mute-unmute",[{defaultIconName:"sound-off",hoverIconName:"sound-off-hover"},{defaultIconName:"sound-on",hoverIconName:"sound-on-hover"}]);var a=this.eventBus.triggerBind(g.PLAY_PAUSE_TOGGLE),b=this;this.playPause.addEventListener("click",function(){return b.reely&&(b.reely.isPausedByUser=b.reely.isPlaying()),a()}),this.leftCell.appendChild(this.playPause),this.muteUnmute.addEventListener("click",this.eventBus.triggerBind(g.MUTE_UNMUTE_TOGGLE)),
this.rightCell.appendChild(this.muteUnmute)},addFullscreenButton:function(){e.add(this.midCell,e.CONTROL_BAR_MID+"-fullscreen"),e.add(this.rightCell,e.CONTROL_BAR_RIGHT+"-fullscreen"),this.fullscreenNormal=f.createTwoStateButton("fullscreen-normal",[{defaultIconName:"fullscreen",hoverIconName:"fullscreen-hover"},{defaultIconName:"normal",hoverIconName:"normal-hover"}]),this.fullscreenNormal.addEventListener("click",this.eventBus.triggerBind(g.FULLSCREEN_NORMAL_TOGGLE)),this.rightCell.appendChild(this.fullscreenNormal)},injectControlsStyles:function(){var a=[];a=(a=a.concat(this.getButtonStyles())).concat(this.getControlBarStyles()),this.zoo.insertRules(a)},determineButtonVisualWidth:function(){return this.spriteDimensions.spriteWidth+2*this.spriteDimensions.buttonPadding},determineContainerStyles:function(){var a=this.controlBarConfig,b={position:"absolute",display:"inline-block",height:a.height+"px",width:"100%",transition:"opacity 1s ease"};return"center"===a.anchorX&&(b.margin="0 auto",b.textAlign="center"),b[a.anchorY]=a.offsetY,b},determineBarElStyles:function(){var a=this.controlBarConfig,b={position:"relative",display:"block",height:"inherit",width:a.width,"background-color":"transparent","background-position":"0 0","background-repeat":"repeat-x"};return this.controlBarConfig.hideBG||(b["background-image"]='url("'+this.spritesheet.getSrc()+'")'),"center"===a.anchorX?b.margin="0 auto":b[a.anchorX]=a.offsetX,b},getButtonStyles:function(){return[["."+e.BUTTON_ICON,{height:this.spriteDimensions.spriteHeight+"px",width:this.spriteDimensions.spriteWidth+"px",padding:this.spriteDimensions.buttonPadding+"px"}]]},getControlBarStyles:function(){var a=this.determineButtonVisualWidth(),b=this.determineContainerStyles(),c=this.determineBarElStyles();return[["."+e.CONTROL_BAR_CONTAINER,b],["."+e.FULLSCREEN+" ."+e.CONTROL_BAR_CONTAINER,{bottom:0,top:"auto"}],["."+e.CONTROL_BAR,c],["."+e.FULLSCREEN+" ."+e.CONTROL_BAR,{left:0,right:"auto",width:"100%"}],[["."+e.CONTROL_BAR_LEFT,"."+e.CONTROL_BAR_RIGHT],{display:"inline-block",height:"100%",width:a+"px"}],[["."+e.CONTROL_BAR_RIGHT+"-fullscreen"],{width:2*a+"px"}],["."+e.CONTROL_BAR_LEFT,{"float":"left"}],["."+e.CONTROL_BAR_RIGHT,{"float":"right"}],["."+e.CONTROL_BAR_MID,{position:"absolute",left:"0",display:"block",height:"100%",width:"100%","box-sizing":"border-box","padding-left":a+"px","padding-right":a+"px"}],["."+e.CONTROL_BAR_MID+"-fullscreen",{"padding-right":2*a+"px"}],[".reely-two-state-fullscreen-normal",{"padding-left":a+"px"}]]}},b.exports=h},{"./reely-css-classes.js":97,"./reely-el-maker.js":98,"./reely-events.js":100,"./reely-scrubber.js":103}],97:[function(a,b,c){var d={CONTAINER:"reely-container",VIDEO:"reely-video",OVERLAY_CONTAINER:"reely-overlay-container",OVERLAY_SLATE:"reely-overlay-slate",CONTROL_BAR_CONTAINER:"reely-control-bar-container",CONTROL_BAR:"reely-control-bar",CONTROL_BAR_LEFT:"reely-control-bar-left",CONTROL_BAR_RIGHT:"reely-control-bar-right",CONTROL_BAR_MID:"reely-control-bar-mid",BUTTON:"reely-button",BUTTON_ICON:"reely-button-icon",BUTTON_ICON_LARGE:"reely-button-icon-large",TWO_STATE_BUTTON:"reely-two-state",TWO_STATE_DEFAULT:"reely-two-state-default",TWO_STATE_ALT:"reely-two-state-toggled",REPEAT_X_SPRITE:"reely-repeat-x-sprite",ICON_LARGE:"reely-icon-large",ICON:"reely-icon",ICON_DEFAULT:"reely-default-icon",ICON_HOVER:"reely-hover-icon",ICON_ACTIVE:"reely-toggle-active",ICON_DOWN:"reely-toggle-down",LOADING_SPINNER:"reely-loading-spinner",SCRUBBER_CONTAINER:"reely-scrubber-container",TOGGLED:"reely-toggled",UNSELECTABLE:"reely-unselectable",HIDDEN:"reely-hidden",INVISIBLE:"reely-invisible",TRANSPARENT:"reely-transparent",FULLSCREEN:"reely-fullscreen",add:function(a,b){switch(void 0===b&&console.warn("Attempted to add() an undefined class."),this.mode()){case"modern":return a.classList.add(b);case"oldIE":return a.className+=" "+b}},contains:function(a,b){switch(void 0===b&&console.warn("Attempted to check contains() an undefined class."),this.mode()){case"modern":return a.classList.contains(b);case"oldIE":return-1!==a.className.split(" ").indexOf(b)}},remove:function(a,b){void 0===b&&console.warn("Attempted to remove() an undefined class."),this._removeClass||(this._removeClass=this.removeModes[this.mode()]),this._removeClass(a,b)},removeModes:{modern:function(a,b){a.classList.remove(b)},oldIE:function(a,b){var c=a.className.split(" "),d=c.indexOf(b);-1!==d&&c.splice(d,1),a.className=c.join(" ")}},mode:function(){if(!this._mode){var a=document.createElement("div");this._mode="classList"in a?"modern":"oldIE",a=void 0}return this._mode}};b.exports=d},{}],98:[function(a,b,c){var d=a("./reely-css-classes.js"),e={make:function(a,b,c){var d=document.createElement(a);return d.setAttribute("class",this.arrayWrap(b).join(" ")),c&&(d.id=c),d},createIcon:function(a,b){return this._createIcon(d.ICON,a,b)},createLargeIcon:function(a,b){return this._createIcon(d.ICON_LARGE,a,b)},_createIcon:function(a,b,c){var d=this.concatClasses([a,a+"-"+b],c);return this.make("div",d)},createRepeatXSprite:function(a,b){var c=this.concatClasses([d.REPEAT_X_SPRITE,d.REPEAT_X_SPRITE+"-"+a],b);return this.make("div",c)},createSpriteEl:function(a,b){var c=a;return b&&(c=this.concatClasses(c,b)),this.make("div",c)},concatClasses:function(a,b){return b?"string"==typeof b?(a.push(b),a):a.concat(b):a},createTwoStateButton:function(a,b){var c=this.createIcon,e=d.BUTTON_ICON;return this._createTwoStateButton(a,b,e,c)},createLargeTwoStateButton:function(a,b){var c=this.createLargeIcon,e=d.BUTTON_ICON_LARGE;return this._createTwoStateButton(a,b,e,c)},_createTwoStateButton:function(a,b,c,e){var f=this.make("div",[d.TWO_STATE_BUTTON,d.TWO_STATE_BUTTON+"-"+a]),g=this.createButtonState(b[0],d.TWO_STATE_DEFAULT,c,e),h=this.createButtonState(b[1],d.TWO_STATE_ALT,c,e);return f.appendChild(g),f.appendChild(h),f},createButtonState:function(a,b,c,e){return e||(e=this.createIcon),c||(c=d.BUTTON_ICON),this._createButtonState(a,b,c,e)},_createButtonState:function(a,b,c,e){var f=[d.BUTTON,d.UNSELECTABLE];f.push(c),b&&(f=f.concat(this.arrayWrap(b)));var g=this.make("div",f),h=e.call(this,a.defaultIconName,d.ICON_DEFAULT),i=e.call(this,a.hoverIconName,d.ICON_HOVER);return g.appendChild(h),g.appendChild(i),g},arrayWrap:function(a){return void 0===a?[]:"[object Array]"!==Object.prototype.toString.call(a)?[a]:a}};b.exports=e},{"./reely-css-classes.js":97}],99:[function(a,b,c){var d=a("./reely-events.js"),e=function(){this.init()};e.prototype={reelyEvents:[],init:function(){this.triggers={},this.listeners={},this.reelyEvents=this.getReelyEventsArray();for(var a=0;a<this.reelyEvents.length;a++){var b=this.reelyEvents[a];this.triggers[b]=this.triggerBind(b),this.listeners[b]=[]}},getReelyEventsArray:function(){var a=[];for(var b in d)d.hasOwnProperty(b)&&a.push(d[b]);return a},addEventListener:function(a,b,c){this.listeners[a]||console.warn("Attempted to addEventListener with unsupported event :: ",a);var d=Array.prototype.slice.call(arguments);d.splice(0,3);var e={callback:b,context:c,args:d};this.listeners[a].push(e)},removeEventListener:function(a,b,c){this.listeners[a]||console.warn("Attempted to removeEventListener with unsupported event :: ",a);for(var d,e=this.listeners[a].slice(),f=0;f<e.length;f++)if((d=e[f]).callback===b&&d.context===c){e.splice(f,1);break}this.listeners[a]=e},triggerBind:function(a,b){return this.trigger.bind(this,a)},trigger:function(a){this.listeners[a]||console.warn("Attempted to trigger an unsupported event :: ",a);var b=Array.prototype.slice.call(arguments);b.splice(0,1);for(var c,d=this.listeners[a],e=[],f=0;f<d.length;f++)e=(c=d[f]).args.concat(b),c.callback.apply(c.context,e)}},b.exports=e},{"./reely-events.js":100}],100:[function(a,b,c){b.exports={STARTED:"started",PLAY_PAUSE_TOGGLE:"playPauseToggle",MUTE_UNMUTE_TOGGLE:"muteUnmuteToggle",FULLSCREEN_NORMAL_TOGGLE:"fullscreenNormalToggle",SCRUBBER_BAR_CLICK:"scrubberBarClick",MOUSE_IN:"mouseIn",MOUSE_OUT:"mouseOut",MOUSE_MOVE:"mouseMove",MUTED:"muted",UNMUTED:"unmuted",VID_ENTERFULLSCREEN:"video:enterfullscreen",VID_EXITFULLSCREEN:"video:exitfullscreen",VID_LOADSTART:"video:loadstart",VID_LOADEDMETADATA:"video:loadedmetadata",VID_LOADEDDATA:"video:loadeddata",VID_CANPLAY:"video:canplay",VID_CANPLAYTHROUGH:"video:canplaythrough",VID_WAITING:"video:waiting",VID_PROGRESS:"video:progress",VID_SUSPEND:"video:suspend",VID_PLAY:"video:play",VID_PLAYING:"video:playing",VID_PAUSE:"video:pause",VID_TIMEUPDATE:"video:timeupdate",VID_ENDED:"video:ended",FADE_OUT_START:"reely:fadeoutstart",FADE_IN_START:"reely:fadeinstart"}},{}],101:[function(a,b,c){var d=a("./reely-css-classes.js"),e=a("./reely-el-maker.js"),f=a("./reely-events.js"),g=function(a){this.eventBus=a.eventBus,this.zoo=a.zoo,this.init()};g.prototype={PROGRESS_TICKS_TO_SHOW:5,init:function(){this.el=e.make("div",d.LOADING_SPINNER+"-outer-container"),this.innerContainer=e.make("div",d.LOADING_SPINNER+"-inner-container"),this.spinner=e.make("div",d.LOADING_SPINNER),this.innerContainer.appendChild(this.spinner),this.el.appendChild(this.innerContainer),this.injectLoadingSpinnerCSS(),this.progressTicks=0,this.listen()},listen:function(){this.eventBus.addEventListener(f.VID_LOADEDMETADATA,this.onLoadedMetadata,this),this.eventBus.addEventListener(f.VID_CANPLAY,this.onCanPlay,this),this.eventBus.addEventListener(f.VID_PROGRESS,this.onProgress,this),this.eventBus.addEventListener(f.VID_SUSPEND,this.onSuspend,this),this.eventBus.addEventListener(f.VID_TIMEUPDATE,this.onTimeUpdate,this),this.eventBus.addEventListener(f.VID_PLAY,this.onPlay,this),this.eventBus.addEventListener(f.VID_PAUSE,this.onPause,this)},teardown:function(){this.eventBus.removeEventListener(f.VID_LOADEDMETADATA,this.onLoadedMetadata,this),this.eventBus.removeEventListener(f.VID_CANPLAY,this.onCanPlay,this),this.eventBus.removeEventListener(f.VID_PROGRESS,this.onProgress,this),this.eventBus.removeEventListener(f.VID_SUSPEND,this.onSuspend,this),this.eventBus.removeEventListener(f.VID_TIMEUPDATE,this.onTimeUpdate,this),this.eventBus.removeEventListener(f.VID_PLAY,this.onPlay,this),this.eventBus.removeEventListener(f.VID_PAUSE,this.onPause,this)},onPlay:function(){this.isPlaying=!0,this.progressTicks=0},onPause:function(){this.isPlaying=!1,this.progressTicks=0},onLoadedMetadata:function(){this.show()},onCanPlay:function(){this.hide()},onSuspend:function(){this.progressTicks=0},onProgress:function(){this.isPlaying&&(this.progressTicks++,this.progressTicks>=this.PROGRESS_TICKS_TO_SHOW&&this.show())},onTimeUpdate:function(){this.progressTicks=0,this.hide()},hide:function(){this.isHidden||(this.isHidden=!0,d.add(this.el,d.HIDDEN),d.remove(this.spinner,d.TRANSPARENT))},show:function(){this.isHidden&&(this.isHidden=!1,d.remove(this.el,d.HIDDEN),d.remove(this.spinner,d.TRANSPARENT))},injectLoadingSpinnerCSS:function(){var a="loading-spinner-spin";this.zoo.insertKeyframes(a,this.getSpinnerKeyframes());var b=[];b=b.concat(this.getSpinnerStyles()),this.zoo.insertRules(b),this.zoo.insertAnimation("."+d.LOADING_SPINNER,"animation",a+" 1.6s linear infinite")},getSpinnerKeyframes:function(){return{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(359deg)"}}},getSpinnerStyles:function(){return[["."+d.LOADING_SPINNER+"-outer-container",{position:"absolute",top:"50%",left:"50%",height:0,width:0}],["."+d.LOADING_SPINNER+"-inner-container",{display:"block",height:"64px",width:"64px",transform:"translate(-50%, -50%)"}],["."+d.LOADING_SPINNER,{display:"block","box-sizing":"border-box",height:"64px",width:"64px",background:"transparent","border-radius":"50%","border-top":"7px solid rgba(255, 255, 255, 1)","border-right":"7px solid rgba(255, 255, 255, 0.5)","border-bottom":"7px solid rgba(255, 255, 255, 0.5)","border-left":"7px solid rgba(255, 255, 255, 0.5)",transition:"opacity 1s ease-out"}]]}},b.exports=g},{"./reely-css-classes.js":97,"./reely-el-maker.js":98,"./reely-events.js":100}],102:[function(a,b,c){var d=a("./reely-css-classes.js"),e=a("./reely-el-maker.js"),f=a("./reely-events.js"),g=a("./reely-loading-spinner.js"),h=function(a,b){this.eventBus=a.eventBus,this.spritesheet=a.spritesheet,this.spriteDimensions=a.spriteDimensions,this.slate=a.slate,this.zoo=a.zoo,this.loadingSpinner=new g(a),this.init(b)};h.prototype={init:function(a){this.el=e.make("div",d.OVERLAY_CONTAINER),this.reely=a,this.isPlaying(!1),this.isEnded(!1),this.showSlate(),this.playReplay=e.createLargeTwoStateButton("overlay-play-pause",[{defaultIconName:"overlay-play",hoverIconName:"overlay-play-hover"},{defaultIconName:"overlay-replay",hoverIconName:"overlay-replay-hover"}]),this.el.appendChild(this.playReplay),this.el.appendChild(this.loadingSpinner.el),this.hide(),this.broadcastInteraction(),this.injectOverlayStyles(),this.listen()},hide:function(){d.add(this.playReplay,d.TRANSPARENT)},show:function(){d.remove(this.playReplay,d.TRANSPARENT)},hideSlate:function(){d.remove(this.el,d.OVERLAY_SLATE)},showSlate:function(){d.add(this.el,d.OVERLAY_SLATE)},listen:function(){this.eventBus.addEventListener(f.VID_CANPLAY,this.onCanPlay,this),this.eventBus.addEventListener(f.SCRUBBER_BAR_CLICK,this.onScrubberBarClick,this),this.eventBus.addEventListener(f.VID_PLAY,this.onPlay,this),this.eventBus.addEventListener(f.VID_PAUSE,this.onPause,this),this.eventBus.addEventListener(f.VID_ENDED,this.onVideoEnded,this)},teardown:function(){this.loadingSpinner.teardown(),this.el.removeEventListener("click",this.eventBus.triggers[f.PLAY_PAUSE_TOGGLE]),this.el.removeEventListener("mouseenter",this.eventBus.triggers[f.MOUSE_IN]),this.el.removeEventListener("mouseleave",this.eventBus.triggers[f.MOUSE_OUT]),this.el.removeEventListener("mousemove",this.eventBus.triggers[f.MOUSE_MOVE]),this.eventBus.removeEventListener(f.VID_CANPLAY,this.onLoadedMetadata,this),this.eventBus.removeEventListener(f.SCRUBBER_BAR_CLICK,this.onScrubberBarClick,this),this.eventBus.removeEventListener(f.VID_PLAY,this.onPlay,this),this.eventBus.removeEventListener(f.VID_PAUSE,this.onPause,this),this.eventBus.removeEventListener(f.VID_ENDED,this.onVideoEnded,this)},broadcastInteraction:function(){var a=this.eventBus.triggers[f.PLAY_PAUSE_TOGGLE],b=this;this.el.addEventListener("click",function(){return b.reely&&(b.reely.isPausedByUser=b.reely.isPlaying()),a()}),this.el.addEventListener("mouseenter",this.eventBus.triggers[f.MOUSE_IN]),this.el.addEventListener("mouseleave",this.eventBus.triggers[f.MOUSE_OUT]),this.el.addEventListener("mousemove",this.eventBus.triggers[f.MOUSE_MOVE])},onCanPlay:function(){this.isPlaying()||this.show()},onScrubberBarClick:function(){this.setToPlayIcon(),this.hideSlate()},onPlay:function(){this.setToPlayIcon(),this.isEnded(!1),this.isPlaying(!0),this.hide(),this.hideSlate()},onPause:function(){this.isPlaying(!1),this.show()},onVideoEnded:function(){this.setToReplayIcon(),this.isEnded(!0),this.show(),this.showSlate()},setToPlayIcon:function(){d.remove(this.playReplay,d.TOGGLED)},setToReplayIcon:function(){d.add(this.playReplay,d.TOGGLED)},isPlaying:function(a){return null!=a&&(this._isPlaying=a),this._isPlaying},isEnded:function(a){return null!=a&&(this._isEnded=a),this._isEnded},injectOverlayStyles:function(){var a=[];a=(a=(a=(a=a.concat(this.getContainerStyles())).concat(this.getSlateStyles())).concat(this.getButtonStyles())).concat(this.getHoverOverrideStyles()),this.zoo.insertRules(a)},getContainerStyles:function(){return[["."+d.OVERLAY_CONTAINER,{position:"absolute",top:0,left:0,display:"block",height:"100%",width:"100%",cursor:"pointer","text-align":"center"}],["."+d.OVERLAY_CONTAINER+" *",{visibility:"inherit"}]]},getSlateStyles:function(){return this.slate?[["."+d.OVERLAY_SLATE,{background:"url("+this.slate+") no-repeat center center transparent","background-size":"contain"}]]:[]},getButtonStyles:function(){return[["."+d.OVERLAY_CONTAINER+" ."+d.TWO_STATE_BUTTON,{top:"50%",left:"50%"}],["."+d.OVERLAY_CONTAINER+" ."+d.BUTTON_ICON_LARGE,{transform:"translate(-50%, -50%)"}],["."+d.BUTTON_ICON_LARGE,{height:this.spriteDimensions.overlaySpriteHeight+"px",width:this.spriteDimensions.overlaySpriteWidth+"px",padding:this.spriteDimensions.buttonPadding+"px"}]]},getHoverOverrideStyles:function(){var a=d;return[[["."+a.OVERLAY_CONTAINER+" ."+a.TWO_STATE_BUTTON+" ."+a.TWO_STATE_DEFAULT,"."+a.OVERLAY_CONTAINER+" ."+a.TWO_STATE_BUTTON+" ."+a.TWO_STATE_DEFAULT],{visibility:"inherit"}],[["."+a.OVERLAY_CONTAINER+" ."+a.BUTTON+" ."+a.ICON_DEFAULT,"."+a.OVERLAY_CONTAINER+":hover ."+a.BUTTON+" ."+a.ICON_HOVER],{opacity:1}],[["."+a.OVERLAY_CONTAINER+":hover ."+a.BUTTON+" ."+a.ICON_DEFAULT,"."+a.OVERLAY_CONTAINER+" ."+a.BUTTON+" ."+a.ICON_HOVER],{opacity:0}],[["."+a.OVERLAY_CONTAINER+":hover ."+a.BUTTON+" ."+a.ICON_DEFAULT,"."+a.OVERLAY_CONTAINER+" ."+a.BUTTON+" ."+a.ICON_HOVER],{transition:"opacity 0.2s linear"}],["."+a.OVERLAY_CONTAINER+":hover ."+a.BUTTON+" ."+a.ICON_DEFAULT,{transition:"opacity 0s linear 0.2s"}]]}},b.exports=h},{"./reely-css-classes.js":97,"./reely-el-maker.js":98,"./reely-events.js":100,"./reely-loading-spinner.js":101}],103:[function(a,b,c){var d=a("./reely-css-classes.js"),e=a("./reely-el-maker.js"),f=a("./reely-events.js"),g=function(a){this.eventBus=a.eventBus,this.spritesheet=a.spritesheet,this.spriteDimensions=a.spriteDimensions,this.zoo=a.zoo,this.init()};g.prototype={init:function(){this.el=e.make("div",d.SCRUBBER_CONTAINER),this.el.addEventListener("click",this.onScrubberClick.bind(this)),this.els=this.createScrubberBarEls(),this.appendEls(),this.injectScrubberStyles(),this.listen()},getEl:function(){return this.el},appendEls:function(){this.el.appendChild(this.els.bg),this.el.appendChild(this.els.buffered),this.el.appendChild(this.els.played),this.el.appendChild(this.els.thumb)},createScrubberBarEls:function(){var a={};return a.bg=e.createRepeatXSprite("scrubber-bg"),a.bg.style.width="100%",a.played=e.createRepeatXSprite("scrubber-played-bg"),a.played.style.width=0,a.buffered=e.createRepeatXSprite("scrubber-buffered-bg"),a.buffered.style.width=0,a.thumb=e.createButtonState({defaultIconName:"scrubber-tab",hoverIconName:"scrubber-tab-hover"},d.BUTTON+"-scrubber-tab"),a},listen:function(){this.eventBus.addEventListener(f.VID_TIMEUPDATE,this.onTimeUpdate,this),this.eventBus.addEventListener(f.VID_PLAY,this.onPlay,this)},teardown:function(){this.eventBus.removeEventListener(f.VID_TIMEUPDATE,this.onTimeUpdate,this),this.eventBus.removeEventListener(f.VID_PLAY,this.onPlay,this)},onPlay:function(a){this.lastUpdateMs=Date.now()},onTimeUpdate:function(a){var b,c=Date.now();this.lastUpdateMs&&(b=(c-this.lastUpdateMs)/1e3);var d=a.target,e=d.currentTime/d.duration;this.setScrubberBar(e,b);var f=this.determineBufferedFraction(d.buffered,d.duration);this.setBufferBar(f),this.lastUpdateMs=c},setScrubberTransition:function(a){a?(this.els.played.style.transition="width "+a+"s linear",this.els.thumb.style.transition="left "+a+"s linear"):(this.els.played.style.transition="",this.els.thumb.style.transition="")},onScrubberClick:function(a){if(!d.contains(a.target,"reely-icon")){var b=(void 0!==a.offsetX?a.offsetX:a.layerX)/this.el.clientWidth;this.eventBus.trigger(f.SCRUBBER_BAR_CLICK,{clickedFraction:b})}},setScrubberBar:function(a,b){this.playedFraction=a,this.transitionInS=b,this.setScrubberTransition(this.transitionInS||void 0);var c=100*this.playedFraction;this.els.played.style.width=c+"%",this.els.thumb.style.left=c+"%"},setBufferBar:function(a){var b=100*a;this.els.buffered.style.width=b+"%"},determineBufferedFraction:function(a,b){for(var c=0,d=0,e=0;e<a.length;e++)d+=a.end(0)-a.start(0);return d>0&&(c=d/b),c},injectScrubberStyles:function(){var a=[];a=(a=a.concat(this.getScrubberBarStyles())).concat(this.getScrubberThumbOverrideStyles()),this.zoo.insertRules(a)},getScrubberBarStyles:function(){return[["."+d.SCRUBBER_CONTAINER,{position:"relative",height:"100%",width:"100%","box-sizing":"border-box",overflow:"initial","padding-top":this.spriteDimensions.buttonPadding+"px","padding-bottom":this.spriteDimensions.buttonPadding+"px"}],["."+d.BUTTON+"-scrubber-tab",{position:"absolute",top:0,left:0,transform:"translateX(-"+this.spriteDimensions.spriteWidth/2+"px)","padding-left":0,"padding-right":0,"pointer-events":"none"}]]},getScrubberThumbOverrideStyles:function(){return[["."+d.SCRUBBER_CONTAINER+" ."+d.ICON_HOVER,{left:0}]]}},b.exports=g},{"./reely-css-classes.js":97,"./reely-el-maker.js":98,"./reely-events.js":100}],104:[function(a,b,c){var d=a("./reely-css-classes.js"),e=a("./reely-config.js"),f=function(a){this.spriteDimensions=a.spriteDimensions,this.controlBarConfig=a.controlBarConfig,this.zoo=a.zoo,this.spritesheetUrls=this.determineSpritesheetUrls(a.spritesheetUrls),this.overlaySpritesheetUrls=this.determineOverlaySpritesheetUrls(a.overlaySpritesheetUrls),this.init()};f.prototype={TEMP_FORCE_PNG_SPRITESHEET:!0,init:function(){this.doesSupportSVG=this.supportsSVG(),this.spritesheetSrc=this.determineSpritesheetMode(this.spritesheetUrls),this.overlaySpritesheetSrc=this.determineSpritesheetMode(this.overlaySpritesheetUrls),this.spritesData=this.initSpritesData();var a=new Image;a.addEventListener("load",function(b){document.body.appendChild(a);var c=(b.path||b.composedPath&&b.composedPath())[0];this.rows=c.height/c.width*2,this.injectSpritesheetCSS(),document.body.removeChild(a)}.bind(this)),a.style.visibility="hidden",a.style.position="fixed",a.style.left="-9999px",a.style.top="-9999px",a.style.zIndex="-9999",a.style.pointerEvents="none",a.src=this.spritesheetSrc},getSrc:function(){return this.spritesheetSrc},getOverlaySrc:function(){return this.overlaySpritesheetSrc},supportsSVG:function(){return"undefined"!=typeof SVGRect},determineSpritesheetMode:function(a){return!this.TEMP_FORCE_PNG_SPRITESHEET&&this.doesSupportSVG&&a.svg?a.svg:a.png},initSpritesData:function(){var a={},b=0;return b=this.addControlsBGData(a,b),b=this.addRepeatXData(a,b),b=this.addIconData(a,b),this.addLargeIconData(a),a},addControlsBGData:function(a,b){var c=this.controlBarConfig.height;return a.controlsBG={type:"repeat-x",h:c,x:0,y:b},b+c},addRepeatXData:function(a,b){for(var c=b,d=this.spriteDimensions.spriteHeight,e=["scrubber-bg","scrubber-played-bg","scrubber-buffered-bg"],f=0;f<e.length;f++)a[e[f]]={type:"repeat-x",h:d,x:0,y:c},c+=d;return c},addIconData:function(a,b){for(var c,d,e,f=this.spriteDimensions.spriteHeight,g=this.spriteDimensions.spriteWidth,h=["scrubber-tab","scrubber-tab-hover","scrubber-tabDown","","play","play-hover","pause","pause-hover","sound-off","sound-off-hover","sound-on","sound-on-hover","fullscreen","fullscreen-hover","normal","normal-hover"],i=b,j=0;j<h.length;j++)e=(d=j%2)?g:0,""!==(c=h[j])&&(a[c]={type:"icon",w:g,h:f,x:e,y:i}),i=d?i+f:i;return i},addLargeIconData:function(a,b){for(var c=this.spriteDimensions.overlaySpriteWidth,d=this.spriteDimensions.overlaySpriteHeight,e=["overlay-play","overlay-play-hover","overlay-replay","overlay-replay-hover"],f=0,g=0;g<e.length;g++)a[e[g]]={type:"icon-large",w:c,h:d,x:0,y:f},f+=d;return f},determineSpritesheetUrls:function(a){var b={png:e.DEFAULT_SPRITESHEET};return this._determineSpritesheetUrls(a,b)},determineOverlaySpritesheetUrls:function(a){var b={png:e.DEFAULT_OVERLAY_SPRITESHEET};return this._determineSpritesheetUrls(a,b)},_determineSpritesheetUrls:function(a,b){var c={};return a&&Object.keys(a).length&&a.png?c.png=a.png:c=b,c},injectSpritesheetCSS:function(){var a=[];a=(a=(a=a.concat(this.getSpriteStyles())).concat(this.getOverlaySpriteStyles())).concat(this.getIndividualSpriteStyles()),this.zoo.insertRules(a)},getSpriteStyles:function(){return[[["."+d.ICON,"."+d.REPEAT_X_SPRITE],{height:this.spriteDimensions.spriteHeight+"px",display:"inline-block","background-image":"url("+this.getSrc()+")","background-color":"transparent"}]]},getOverlaySpriteStyles:function(){return[["."+d.ICON_LARGE,{display:"inline-block",height:this.spriteDimensions.overlaySpriteHeight+"px",width:this.spriteDimensions.overlaySpriteWidth+"px","background-image":"url("+this.getOverlaySrc()+")","background-color":"transparent"}]]},getIndividualSpriteStyles:function(){var a,b,c=[],d={icon:this.getIconCSS,"repeat-x":this.getRepeatXSpriteCSS,"icon-large":this.getIconLargeCSS};for(var e in this.spritesData)this.spritesData.hasOwnProperty(e)&&(b=d[(a=this.spritesData[e]).type].call(this,e,a),c.push(b));return c},getIconCSS:function(a,b){var c=this.spriteDimensions;return["."+d.ICON+"-"+a,{width:this.spriteDimensions.spriteWidth+"px","background-position":"-"+b.x+"px -"+b.y+"px","background-repeat":"no-repeat","background-size":2*c.spriteWidth+"px "+c.spriteHeight*this.rows+"px"}]},getRepeatXSpriteCSS:function(a,b){var c=this.spriteDimensions;return["."+d.REPEAT_X_SPRITE+"-"+a,{position:a.includes("controls")?"relative":"absolute","max-width":"100%","background-position":"0 -"+b.y+"px","background-repeat":"repeat-x","background-size":2*c.spriteWidth+"px "+c.spriteHeight*this.rows+"px"}]},getIconLargeCSS:function(a,b){return["."+d.ICON_LARGE+"-"+a,{"background-position":"0 -"+b.y+"px","background-repeat":"no-repeat"}]}},b.exports=f},{"./reely-config.js":95,"./reely-css-classes.js":97}],105:[function(a,b,c){var d=a("./reely-event-bus.js"),e=a("./reely-controls.js"),f=a("./reely-overlay.js"),g=a("./reely-spritesheet.js"),h=a("../zoolander.js"),i=a("./reely-css-classes.js"),j=a("./reely-el-maker.js"),k=a("./reely-events.js"),l=a("../utils/weblab"),m=a("../utils/bridge").getBridge,n="granted",o="pending",p=function(a){this.injectEl=a.injectEl,this.src=a.src,this.slate=a.slate||"",this.fullscreen=a.fullscreen||!1,this.autoplay=a.autoplay||!1,this.autosound=a.autosound||!1,this.playsInline=a.playsInline||!0,this.spritesheetUrls=a.spritesheets||{},this.overlaySpritesheetUrls=a.overlaySpritesheets||{},this.iframeId=a.iframeId,this.spriteDimensions=this.determineSpriteDimensionsConfig(a.spritesheets),this.setMediaKey=null,this.lastPermission="",this.hasSubscribed=!1,this.shouldObeyMediaInteroperability=!1,this.isPausedByUser=!1;var b=a.controlBar||{};this.controlBarConfig=this.determineControlBarConfig(b),this.onScreenChange=this.onScreenChange.bind(this),this.onVolumeChange=this.onVolumeChange.bind(this),a.zoolander&&(this.zoo=a.zoolander),this.init()};p.prototype={doDebug:!1,log:function(a){},init:function(){this.el=j.make("div",i.CONTAINER),this.shouldObeyMediaInteroperability=l.shouldObeyMediaInteroperability(),this.shouldObeyMediaInteroperability&&this.subscribeToMediaNotifications(),this.initZoolander(),this.injectPlayerStyles(),this.hide(),this.initChildren(),this.videoStarted=!1,this.videoEl=this.createVideoEl(),this.broadcast(),this.listen(),this.el.appendChild(this.videoEl),this.el.appendChild(this.overlay.el),this.el.appendChild(this.controls.el),this.injectEl.appendChild(this.el)},initZoolander:function(){if(!this.zoo){var a=this.injectEl.id;if(!a){var b=Date.now()+1e3*Math.floor(Math.random());this.injectEl.id=a="reely-container-parent-"+b}this.zoo=new h({id:a,prefixId:a})}},initChildren:function(){this.eventBus=new d,this.spritesheet=new g({spritesheetUrls:this.spritesheetUrls,overlaySpritesheetUrls:this.overlaySpritesheetUrls,spriteDimensions:this.spriteDimensions,controlBarConfig:this.controlBarConfig,zoo:this.zoo});var a={eventBus:this.eventBus,spritesheet:this.spritesheet,slate:this.slate,spriteDimensions:this.spriteDimensions,controlBarConfig:this.controlBarConfig,zoo:this.zoo};this.overlay=new f(a,this),this.controls=new e(a,this)},play:function(){this.shouldObeyMediaInteroperability?this.requestPlayback({userInitiated:!0}):this.isPlaying()||this.eventBus.trigger(k.PLAY_PAUSE_TOGGLE)},pause:function(a){this.isPlaying()?(this.eventBus.trigger(k.PLAY_PAUSE_TOGGLE),this.shouldObeyMediaInteroperability&&(a&&a.ended?this.setMediaEnded():this.setMediaPaused())):this.shouldObeyMediaInteroperability&&a&&a.ended&&this.setMediaEnded()},isPlaying:function(){return!!this.videoEl&&!this.videoEl.paused},reset:function(){this.videoEl.currentTime=0,this.pause()},unmute:function(){this.isMuted()&&(this.videoEl.muted=!1)},mute:function(){this.isMuted()||(this.videoEl.muted=!0)},isMuted:function(){return this.videoEl.muted||0===this.videoEl.volume},onVolumeChange:function(){var a=this.controls.isToggled(this.controls.muteUnmute);a&&this.isMuted()?this.eventBus.trigger(k.MUTED):a||this.isMuted()||this.eventBus.trigger(k.UNMUTED)},normalScreenMode:function(){this.isFullscreen()&&(document.exitFullscreen?(document.exitFullscreen(),this.setNormalPlayerBar()):document.webkitExitFullscreen?(document.webkitExitFullscreen(),this.setNormalPlayerBar()):document.mozCancelFullScreen?(document.mozCancelFullScreen(),this.setNormalPlayerBar()):document.msExitFullscreen?(document.msExitFullscreen(),this.setNormalPlayerBar()):this.videoEl.webkitExitFullscreen&&(this.videoEl.webkitExitFullscreen(),this.setNormalPlayerBar()))},fullscreenMode:function(){this.isFullscreen()||(this.el.requestFullscreen?this.el.requestFullscreen():this.el.webkitRequestFullscreen?this.el.webkitRequestFullscreen():this.el.msRequestFullscreen?this.el.msRequestFullscreen():this.el.mozRequestFullScreen?this.el.mozRequestFullScreen():this.videoEl.webkitEnterFullscreen&&this.videoEl.webkitEnterFullscreen())},isFullscreen:function(){return this.el.fullscreen},supportsFullscreen:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled||document.mozFullScreenEnabled||this.videoEl&&this.videoEl.webkitSupportsFullscreen},hide:function(){i.add(this.el,i.HIDDEN)},show:function(){i.remove(this.el,i.HIDDEN)},requestPlayback:function(a){var b=this,c=a||{};return this.hasSubscribed?this.lastPermission===n&&this.videoEl?(this.videoEl.play(),this.setMediaPlay()):void m().requestPlayback({name:this.iframeId||"reely",userInitiated:!!c.userInitiated,videoFrame:this.getVideoFrame()}).then(function(a){b.log("requestPlayback success"),b.onMediaPermissionsChanged(a)},function(a){b.log("requestPlayback error: "+JSON.stringify(a))}):this.subscribeToMediaNotifications({shouldRequestPlayback:!0})},setMediaPlay:function(){m().isMediaOrchestratorBridge?this.setStatus("setMediaPlay",{isReely:!0}):this.setStatus("setMediaPlay")},setMediaPaused:function(){this.setStatus("setMediaPaused")},setMediaEnded:function(){this.setStatus("setMediaEnded")},setStatus:function(a,b){if(this.shouldObeyMediaInteroperability){this.log(a);var c=this,d=m()[a],e={key:this.setMediaKey,permission:this.lastPermission};(b?d(e,b):d(e)).then(function(b){c.log(a+" success")},function(b){c.log(a+" error: "+JSON.stringify(b))})}},subscribeToMediaNotifications:function(a){var b=!!(a||{}).shouldRequestPlayback;if(!this.hasSubscribed){var c=m(),d={onMediaPermissionsChanged:this.onMediaPermissionsChanged.bind(this)};c.isMediaOrchestratorBridge&&(d.name=this.iframeId||"reely"),this.hasSubscribed=c.subscribe(d),this.log("subscribeToMediaNotifications: "+this.hasSubscribed),b&&this.requestPlayback({userInitiated:!1})}},onMediaPermissionsChanged:function(a){if(a&&a.permission){var b=a.permission.toLowerCase();switch(this.setMediaKey=a.key,this.lastPermission=a.permission,b){case n:this.log("onMediaPermissionsChanged: "+n),this.videoEl&&!this.isPausedByUser&&(this.videoEl.play(),this.setMediaPlay());break;case"denied":this.log("onMediaPermissionsChanged: denied"),this.pause();break;case o:this.log("onMediaPermissionsChanged: "+o);break;default:this.log("onMediaPermissionsChanged unexpected permission: "+b)}}},getVideoFrame:function(){var a=this.videoEl?this.videoEl.getBoundingClientRect():{},b=window.top.Tarnhelm&&window.top.Tarnhelm.getDeviceInfo(),c=0;this.videoEl&&this.videoEl.ownerDocument&&this.videoEl.ownerDocument.defaultView&&(c=this.videoEl.ownerDocument.defaultView.innerWidth);var d=(c-window.top.innerWidth)/2,e={x:d>0&&"inline20"===this.iframeId?a.x-d:a.x,y:a.y,width:a.width,height:a.height};return b&&!b.isIMDbApp&&this.isFullscreen()&&(e.isFullscreen=!0),e},getEventBus:function(){return this.eventBus},broadcast:function(){this.passVideoEvents()},passVideoEvents:function(){this.doDebug&&this.passDebugEventLog(),this.videoEl.addEventListener("loadstart",this.eventBus.triggers[k.VID_LOADSTART]),
this.videoEl.addEventListener("loadedmetadata",this.eventBus.triggers[k.VID_LOADEDMETADATA]),this.videoEl.addEventListener("loadeddata",this.eventBus.triggers[k.VID_LOADEDDATA]),this.videoEl.addEventListener("canplay",this.eventBus.triggers[k.VID_CANPLAY]),this.videoEl.addEventListener("canplaythrough",this.eventBus.triggers[k.VID_CANPLAYTHROUGH]),this.videoEl.addEventListener("waiting",this.eventBus.triggers[k.VID_WAITING]),this.videoEl.addEventListener("progress",this.eventBus.triggers[k.VID_PROGRESS]),this.videoEl.addEventListener("suspend",this.eventBus.triggers[k.VID_SUSPEND]),this.videoEl.addEventListener("play",this.eventBus.triggers[k.VID_PLAY]),this.videoEl.addEventListener("pause",this.eventBus.triggers[k.VID_PAUSE]),this.videoEl.addEventListener("timeupdate",this.eventBus.triggers[k.VID_TIMEUPDATE]),this.videoEl.addEventListener("ended",this.eventBus.triggers[k.VID_ENDED]),this.videoEl.addEventListener("volumechange",this.onVolumeChange),this.el.addEventListener("fullscreenchange",this.onScreenChange),this.el.addEventListener("mozfullscreenchange",this.onScreenChange),this.el.addEventListener("MSFullscreenChange",this.onScreenChange),this.el.addEventListener("webkitfullscreenchange",this.onScreenChange)},passDebugEventLog:function(){for(var a=[],b=0;b<a.length;b++)this.videoEl.addEventListener(a[b],this.debugLog)},debugLog:function(a){window&&window.console&&window.console.log&&window.console.log("Media Event :: type :: ",a.type)},listen:function(){this.eventBus.addEventListener(k.VID_LOADEDMETADATA,this.onLoadedMetadata,this),this.eventBus.addEventListener(k.VID_LOADEDDATA,this.onLoadedData,this),this.eventBus.addEventListener(k.VID_PLAY,this.onPlay,this),this.eventBus.addEventListener(k.VID_ENDED,this.onVideoEnded,this),this.eventBus.addEventListener(k.PLAY_PAUSE_TOGGLE,this.onPlayPauseClick,this),this.eventBus.addEventListener(k.MUTE_UNMUTE_TOGGLE,this.onMuteUnmuteClick,this),this.eventBus.addEventListener(k.FULLSCREEN_NORMAL_TOGGLE,this.onFullscreenNormalClick,this),this.eventBus.addEventListener(k.SCRUBBER_BAR_CLICK,this.onScrubberBarClick,this)},teardown:function(){this.pause({ended:!0}),this.mute(),this.videoEl.removeEventListener("loadstart",this.eventBus.triggers[k.VID_LOADSTART]),this.videoEl.removeEventListener("loadedmetadata",this.eventBus.triggers[k.VID_LOADEDMETADATA]),this.videoEl.removeEventListener("loadeddata",this.eventBus.triggers[k.VID_LOADEDDATA]),this.videoEl.removeEventListener("canplay",this.eventBus.triggers[k.VID_CANPLAY]),this.videoEl.removeEventListener("canplaythrough",this.eventBus.triggers[k.VID_CANPLAYTHROUGH]),this.videoEl.removeEventListener("waiting",this.eventBus.triggers[k.VID_WAITING]),this.videoEl.removeEventListener("progress",this.eventBus.triggers[k.VID_PROGRESS]),this.videoEl.removeEventListener("suspend",this.eventBus.triggers[k.VID_SUSPEND]),this.videoEl.removeEventListener("play",this.eventBus.triggers[k.VID_PLAY]),this.videoEl.removeEventListener("pause",this.eventBus.triggers[k.VID_PAUSE]),this.videoEl.removeEventListener("timeupdate",this.eventBus.triggers[k.VID_TIMEUPDATE]),this.videoEl.removeEventListener("ended",this.eventBus.triggers[k.VID_ENDED]),this.videoEl.removeEventListener("volumechange",this.onVolumeChange),this.videoEl.removeEventListener("click",this.eventBus.triggers[k.PLAY_PAUSE_TOGGLE]),this.el.removeEventListener("fullscreenchange",this.onScreenChange),this.el.removeEventListener("mozfullscreenchange",this.onScreenChange),this.el.removeEventListener("MSFullscreenChange",this.onScreenChange),this.el.removeEventListener("webkitfullscreenchange",this.onScreenChange),this.eventBus.removeEventListener(k.STARTED,this.onPlay,this),this.eventBus.removeEventListener(k.VID_LOADEDMETADATA,this.onLoadedMetadata,this),this.eventBus.removeEventListener(k.VID_LOADEDDATA,this.onLoadedData,this),this.eventBus.removeEventListener(k.PLAY_PAUSE_TOGGLE,this.onPlayPauseClick,this),this.eventBus.removeEventListener(k.MUTE_UNMUTE_TOGGLE,this.onMuteUnmuteClick,this),this.eventBus.removeEventListener(k.SCRUBBER_BAR_CLICK,this.onScrubberBarClick,this),this.zoo.teardown(),this.overlay.teardown(),this.controls.teardown(),this.removeNodes()},removeNodes:function(){this.injectEl.removeChild(this.el),this.videoEl=null,this.overlay.el=null,this.controls.el=null,this.el=null},onPlay:function(){this.videoStarted||(this.videoStarted=!0,this.eventBus.triggers[k.STARTED](),this.eventBus.removeEventListener(k.STARTED,this.onPlay,this))},onVideoEnded:function(){this.pause({ended:!0})},onPlayPauseClick:function(){this.videoEl.paused?this.shouldObeyMediaInteroperability?this.requestPlayback({userInitiated:!0}):this.videoEl.play():(this.videoEl.pause(),this.shouldObeyMediaInteroperability&&this.setMediaPaused())},onMuteUnmuteClick:function(a){this.isMuted()?(this.videoEl.volume=1,this.unmute()):this.mute()},setNormalPlayerBar:function(){i.remove(this.el,i.FULLSCREEN),this.el.fullscreen=!1,this.eventBus.trigger(k.VID_EXITFULLSCREEN)},onScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||this.videoEl&&this.videoEl.webkitDisplayingFullscreen?(i.add(this.el,i.FULLSCREEN),this.el.fullscreen=!0,this.eventBus.trigger(k.VID_ENTERFULLSCREEN)):this.setNormalPlayerBar()},onFullscreenNormalClick:function(a){this.isFullscreen()?this.normalScreenMode():this.fullscreenMode()},onScrubberBarClick:function(a){var b=a.clickedFraction;this.videoEl.currentTime=this.videoEl.duration*b},onLoadedMetadata:function(a){this.fullscreen&&(this.supportsFullscreen()?this.controls.addFullscreenButton():this.log("Fullscreen not supported. Disabling.")),this.needsAspectInjection()&&this.injectAspectStyles()},onLoadedData:function(a){this.show(),this.autoplay&&(this.shouldObeyMediaInteroperability?this.requestPlayback({userInitiated:!1}):this.videoEl.play())},createVideoEl:function(){var a=j.make("video",i.VIDEO);a.volume=1,a.preload=!0,a.poster=this.slate,this.playsInline&&(a.setAttribute("webkit-playsinline",""),a.setAttribute("playsinline",""));var b=this.autosound;return a.muted=!b,b&&this.eventBus.trigger(k.UNMUTED),this.addSources(a),a},addSources:function(a){var b=/\.([a-z0-9]{2,4})$/.exec(this.src);if(b){var c=this.createSource(this.src,b[1]);a.appendChild(c)}else{var d=this.createSource(this.src,"mp4"),e=this.createSource(this.src,"webm");a.appendChild(d),a.appendChild(e)}var f=document.createElement("p");f.innerHTML="Sorry, your browser does not support HTML5 video.",a.appendChild(f)},createSource:function(a,b){var c=document.createElement("source");return c.src=new RegExp("\\."+b+"$").test(a)?a:a+"."+b,c.type="video/"+b,c},determineControlBarConfig:function(a){var b=this.controlBarDefaults(),c=a;if(!c)return b;var d=b;null==c.autohide&&null!=c.autoHide&&(c.autohide=c.autoHide,delete c.autoHide);for(var e,f=["width","autohide","anchorX","offsetX","anchorY","offsetY","hideBG"],g=0;g<f.length;g++)null!=c[e=f[g]]&&(d[e]=this.addPxIfNumber(c[e]));return d},controlBarDefaults:function(){return{height:1.5*this.spriteDimensions.spriteHeight,autohide:!0,anchorX:"center",offsetX:0,anchorY:"bottom",offsetY:0,width:"100%",hideBG:!1}},addPxIfNumber:function(a){return"number"==typeof a?a+"px":a},determineSpriteDimensionsConfig:function(a){var b=this.spriteDimensionsDefaults();if(!a||!a.buttonSize)return b;var c=a.buttonSize;return{buttonPadding:.25*c,spriteHeight:c,spriteWidth:c,overlaySpriteHeight:100,overlaySpriteWidth:100}},spriteDimensionsDefaults:function(){return{buttonPadding:5,spriteHeight:20,spriteWidth:20,overlaySpriteHeight:100,overlaySpriteWidth:100}},injectPlayerStyles:function(){var a=[];a=(a=(a=(a=(a=a.concat(this.getUtilityStyles())).concat(this.getPlayerStyles())).concat(this.getIconStyles())).concat(this.getButtonStyles())).concat(this.getTwoStateStyles()),this.zoo.insertRules(a)},getUtilityStyles:function(){return[["."+i.UNSELECTABLE,{"user-select":"none"}],["."+i.HIDDEN,{display:"none"}],["."+i.INVISIBLE,{visibility:"hidden"}],["."+i.TRANSPARENT,{opacity:0}]]},getPlayerStyles:function(){return[["."+i.CONTAINER,{position:"relative","z-index":1,display:"block",width:"100%",height:"100%",margin:"0 auto","background-color":"black",overflow:"visible"}],["."+i.VIDEO,{position:"absolute","z-index":-1,top:0,left:0,height:"100%",width:"100%",cursor:"pointer"}]]},getIconStyles:function(){return[[["."+i.ICON,"."+i.ICON_HOVER],{position:"absolute"}],["."+i.ICON_HOVER,{top:this.spriteDimensions.buttonPadding+"px",left:this.spriteDimensions.buttonPadding+"px"}]]},getButtonStyles:function(){return[["."+i.BUTTON,{cursor:"pointer"}],[["."+i.BUTTON+" ."+i.ICON_DEFAULT,"."+i.BUTTON+":hover ."+i.ICON_HOVER],{opacity:1}],[["."+i.BUTTON+":hover ."+i.ICON_DEFAULT,"."+i.BUTTON+" ."+i.ICON_HOVER],{opacity:0}],[["."+i.BUTTON+":hover ."+i.ICON_DEFAULT,"."+i.BUTTON+" ."+i.ICON_HOVER],{transition:"opacity 0.2s linear"}],["."+i.BUTTON+":hover ."+i.ICON_DEFAULT,{transition:"opacity 0s linear 0.2s"}]]},getTwoStateStyles:function(){return[[["."+i.TWO_STATE_BUTTON,"."+i.TWO_STATE_BUTTON+" ."+i.TWO_STATE_DEFAULT,"."+i.TWO_STATE_BUTTON+" ."+i.TWO_STATE_ALT],{position:"absolute"}],["."+i.TWO_STATE_BUTTON,{display:"inline-block"}],[["."+i.TWO_STATE_BUTTON+" ."+i.TWO_STATE_DEFAULT,"."+i.TWO_STATE_BUTTON+"."+i.TOGGLED+" ."+i.TWO_STATE_ALT],{opacity:1,visibility:"visible"}],[["."+i.TWO_STATE_BUTTON+"."+i.TOGGLED+" ."+i.TWO_STATE_DEFAULT,"."+i.TWO_STATE_BUTTON+" ."+i.TWO_STATE_ALT],{opacity:0,visibility:"hidden"}]]},needsAspectInjection:function(){return 0===this.el.parentNode.clientHeight},injectAspectStyles:function(){var a=this.determineLoadedVideoDimensions(),b=(a.height/a.width*100).toFixed(4);this.aspectRule=this.zoo.insertRule("."+i.CONTAINER,{"padding-top":b+"%"})},determineLoadedVideoDimensions:function(){return{width:this.videoEl.videoWidth,height:this.videoEl.videoHeight}}},b.exports=p},{"../utils/bridge":107,"../utils/weblab":109,"../zoolander.js":111,"./reely-controls.js":96,"./reely-css-classes.js":97,"./reely-el-maker.js":98,"./reely-event-bus.js":99,"./reely-events.js":100,"./reely-overlay.js":102,"./reely-spritesheet.js":104}],106:[function(a,b,c){var d={adCustomAction1001:!0,adCustomAction1002:!0,adCustomAction1003:!0,adCustomAction1004:!0,adCustomAction1005:!0,adCustomAction1006:!0,adCustomAction1007:!0,adCustomAction1008:!0,adCustomAction1009:!0,adCustomAction1031:!0,adCustomAction1032:!0,adCustomAction1033:!0,adCustomAction1034:!0,adCustomAction1035:!0,adCustomAction1036:!0,adCustomAction1037:!0,adCustomAction1038:!0,adCustomAction1039:!0,adCustomAction1040:!0,adCustomAction1041:!0,adCustomAction1042:!0,adCustomAction1043:!0,adCustomAction1044:!0,adCustomAction1045:!0,adCustomAction1046:!0,adCustomAction1047:!0,adCustomAction1048:!0,adCustomAction1049:!0,adCustomAction1050:!0,adCustomAction1101:!0,adCustomAction1102:!0,adCustomAction1103:!0,adCustomAction1104:!0,adCustomAction1105:!0,adCustomAction1106:!0,adCustomAction1107:!0,adCustomAction1108:!0,adCustomAction1109:!0,adCustomAction1110:!0,adCustomAction1111:!0,adCustomAction1112:!0,adCustomAction1113:!0,adCustomAction1114:!0,adCustomAction1115:!0,adCustomAction1116:!0,adCustomAction1117:!0,adCustomAction1118:!0,adCustomAction1119:!0,adCustomAction1120:!0,adCustomAction1201:!0,adCustomAction1202:!0,adCustomAction1203:!0,adCustomAction1204:!0,adCustomAction1205:!0,adCustomAction1206:!0,adCustomAction1207:!0,adCustomAction1208:!0,adCustomAction1209:!0,adCustomAction1210:!0,adCustomAction1211:!0,adCustomAction1212:!0,adCustomAction1213:!0,adCustomAction1214:!0,adCustomAction1215:!0,adCustomAction1216:!0,adCustomAction1217:!0,adCustomAction1218:!0,adCustomAction1219:!0,adCustomAction1220:!0,adCustomAction1301:!0,adCustomAction1302:!0,adCustomAction1303:!0,adCustomAction1304:!0,adCustomAction1305:!0,adCustomAction1306:!0,adCustomAction1307:!0,adCustomAction1308:!0,adCustomAction1309:!0,adCustomAction1310:!0,adCustomAction1311:!0,adCustomAction1312:!0,adCustomAction1313:!0,adCustomAction1314:!0,adCustomAction1315:!0,adCustomAction1316:!0,adCustomAction1317:!0,adCustomAction1318:!0,adCustomAction1319:!0,adCustomAction1320:!0,adCustomAction1321:!0,adCustomAction1322:!0,adCustomAction1323:!0,adCustomAction1324:!0,adCustomAction1325:!0,adCustomAction1326:!0,adCustomAction1327:!0,adCustomAction1328:!0,adCustomAction1329:!0,adCustomAction1330:!0,adCustomAction1331:!0,adCustomAction1332:!0,adCustomAction1333:!0,adCustomAction1334:!0,adCustomAction1335:!0,adCustomAction1336:!0,adCustomAction1337:!0,adCustomAction1338:!0,adCustomAction1339:!0,adCustomAction1340:!0,adCustomAction1341:!0,adCustomAction1342:!0,adCustomAction1343:!0,adCustomAction1344:!0,adCustomAction1345:!0};b.exports=function(){function a(a){return isNaN(a)?m.length?m.shift():(console&&console.warn&&console.warn("WARNING: out of tracking actions!"),""):"adCustomAction"+(1!==a?a:"")}function b(b){var c;return isNaN(b)?i>=k?(c="tabClick"+(1!==k?k:""),k++,c):a():c="tabClick"+(1!==b?b:"")}function c(b){var c;return isNaN(b)?Array.isArray(b)&&5===b.length?{"media/start":isNaN(b[0])?b[0]:a(b[0]),"media/firstQuartile":isNaN(b[1])?b[1]:a(b[1]),"media/midpoint":isNaN(b[2])?b[2]:a(b[2]),"media/thirdQuartile":isNaN(b[3])?b[3]:a(b[3]),"media/complete":isNaN(b[4])?b[4]:a(b[4])}:h>=j?(c=1!==j?j:"",j++,{"media/start":"videoStart"+c,"media/firstQuartile":"videoFirstQuartile"+c,"media/midpoint":"videoMidpoint"+c,"media/thirdQuartile":"videoThirdQuartile"+c,"media/complete":"videoComplete"+c}):{"media/start":a(),"media/firstQuartile":a(),"media/midpoint":a(),"media/thirdQuartile":a(),"media/complete":a()}:{"media/start":"videoStart"+(c=1!==b?b:""),"media/firstQuartile":"videoFirstQuartile"+c,"media/midpoint":"videoMidpoint"+c,"media/thirdQuartile":"videoThirdQuartile"+c,"media/complete":"videoComplete"+c}}function e(a,b){var d,f,g,h,i=a.type,j={},k=!0,l=!0,m=o[i];if(a.video&&a.video.loop&&(l=!1),l){if(a.actions)for(g in p)void 0!==a.actions[g]&&a.actions[g].length&&(j[p[g].string]=p[g].tracker(),k=!1);if(m)for(g in m)if("function"==typeof m[g])j[g]=m[g](),k=!1;else if("isMedia"===g&&!0===m[g]){var n=c();for(h in n)j[h]=n[h];k=!1}!1===k&&(a.description&&(j.label=a.description),b[a.name]=j)}if(a.children)for(d=0,f=a.children.length;f>d;d++)e(a.children[d],b)}function f(a,b,c){var d;if(a[b])for(d in c)a[b][d]?a[b][d]=[].concat(a[b][d],c[d]):a[b][d]=c[d];else a[b]=c}for(var g={},h=5,i=10,j=2,k=1,l=1e3,m=[];1499>=l;l++){var n="adCustomAction"+l;d[n]||m.push(n)}var o,p,q=[],r=!1;return o={alphalfa:{isMedia:!0},animaniac:{},gallery:{"click/clickPrev":b,"click/clickNext":b,"intent/swipeLeft":a,"intent/swipeRight":a},graphic:{},"minimal-video":{isMedia:!0},panel:{},reely:{isMedia:!0},rotator:{"intent/navigateRotator":a},rotatorbutton:{"click/click":b},"slider-rotator":{"click/clickPrev":b,"click/clickNext":b,"intent/swipeLeft":a,"intent/swipeRight":a}},p={click:{tracker:b,string:"click/click"},hoverIn:{tracker:a,string:"intent/hoverIn"},hoverOut:{tracker:a,string:"intent/hoverOut"}},{trackingConsumer:function(a){var b,c,d,e,f=a.eventType+"/"+(a.data&&a.data.eventSubType?a.data.eventSubType:""),h=g[a.unitName],i=[];if(h&&h[a.componentName])if(h[a.componentName][f]&&(i=i.concat(h[a.componentName][f])),0<i.length){for(d=0;d<i.length;d++){for(c=0,e=q.length;e>c;c++)q[c](i[d],a,!1);r&&console.log("tracking "+i[d]+". "+a.componentName+" in "+a.unitName+" emitted "+f,a)}if(h&&h.global&&h.global[f]&&(b=h.global[f])){for(c=0,e=q.length;e>c;c++)q[c](b,a,!0);r&&console.log("tracking "+b+" as a global event. "+a.componentName+" in "+a.unitName+" emitted "+f,a)}}else r&&console.warn("tracking attempted, but couldn't find the event in the map. ",a);else r&&console.warn("attempt to track event on unmapped component: "+a.componentName+":"+a.eventType+"/"+a.data.eventSubType,a)},addToTrackingMap:function(d){var h,i,j,k,l={};if(d.trackingConfigs)for(h=0,i=d.trackingConfigs.length;i>h;h++)if((j=d.trackingConfigs[h]).componentName&&j.data&&j.data.trackingNumber&&j.trackingType)switch(j.trackingType){case"tab":f(l,j.componentName,{"click/click":b(j.data.trackingNumber)});break;case"video":f(l,j.componentName,c(j.data.trackingNumber));break;case"custom":f(l,j.componentName,{"click/click":a(j.data.trackingNumber)});break;default:f(l,j.componentName,{"click/click":j.trackingType})}else j.componentName&&j.trackingType&&f(l,j.componentName,{"click/click":j.trackingType});else for(l.global=c(1),h=0,i=(k=d.children).length;i>h;h++)e(k[h],l);g[d.name]=l},getReadableTrackingMap:function(){var a,b,c,d="";for(a in g)for(b in g[a])for(c in g[a][b])"label"!==c&&(d+=a+": "+(g[a][b].label?'"'+g[a][b].label+'"':b)+" "+c+" = "+g[a][b][c]+"\n");return d},getTrackingMap:function(){return g},addConsumerCallback:function(a){"function"==typeof a&&q.push(a)},setDebug:function(a){r=!!a}}}},{}],107:[function(a,b,c){b.exports={getBridge:function(){return window.NativeWebBridge?window.NativeWebBridge:window.top.ad_utils&&window.top.ad_utils.mediaOrchestratorBridge?window.top.ad_utils.mediaOrchestratorBridge:void 0}}},{}],108:[function(a,b,c){function d(a,b){return a.hasOwnProperty(b)&&"function"==typeof a[b]&&"function"==typeof a[b].apply}function e(a){var b;switch(!0){case"object"==typeof a&&a.hasOwnProperty("length"):b=a;break;case"object"==typeof a&&null===a:b=[a];break;default:b=[]}return b}b.exports=function(){var a=[];return{notifyObserver:function(b,c,f){var g=a.indexOf(b),h=e(f);g>-1&&d(a[g],c)&&a[g][c].apply(a[g],h)},notify:function(b,c){for(var f=a.length,g=0,h=e(c);f>g;g++)d(a[g],b)&&a[g][b].apply(a[g],h)},subscribe:function(b){a.push(b)},unsubscribe:function(b){var c=a.indexOf(b);c>-1&&a.splice(c,1)},clear:function(){a=[]}}}},{}],109:[function(a,b,c){var d=a("./bridge").getBridge;b.exports={shouldObeyMediaInteroperability:function(){var a,b=window.top.Tarnhelm&&window.top.Tarnhelm.getDeviceInfo();return void 0!==d()&&b&&(b.isIOSDevice&&b.isIMDbApp||b.isAndroidDevice&&b.isIMDbApp||!b.isIMDbApp&&window.top.ad_utils&&window.top.ad_utils.isResponsive()&&(a="IMDB_ADS_WEB_MEDIA_INTEROP_395798",null!==document.getElementById(a)))}}},{"./bridge":107}],110:[function(a,b,c){var d=function(){var a="-webkit",b="-moz",c="-ms",d={"box-shadow":[a],transform:[a,c,b,"-o"],perspective:[a,c],"box-sizing":[a,c,b],"background-size":[a],"user-select":[a,b,c],animation:[a,b,"-o"],transition:[a,b,"-o"],filter:[a,b,c,"-o"]},e=[];for(var f in d)d.hasOwnProperty(f)&&e.push(f);return{needsFixer:function(a){return-1!==e.indexOf(a)},prefixedProps:function(a){var b=[a];if(!this.needsFixer(a))return b;for(var c,e=d[a],f=0;f<e.length;f++)c=e[f]+"-"+a,b.push(c);return b}}}();b.exports=d},{}],111:[function(a,b,c){var d=a("./zoofixer.js"),e=function(a,b,c){this.index=a,this.selector=b,this.styleText=c},f=function(a){this.doc=this._determineDocument(a),this.styleElId=this._determineStyleElId(a),this.styleEl=this._createStyleEl(this.styleElId),this.prefixId=this._determinePrefixId(a),this.doc.head.appendChild(this.styleEl),this.ss=this.styleEl.sheet,this.isFrozen=!1,this._useInsertRule="insertRule"in this.ss,this._rulesKey=this._determineRulesKey(),this._animPrefix=this._determineAnimationPrefix(),this.NULLSELECTOR=".NULLRULE"+this.styleElId};(f.prototype={rules:function(){return this.ss[this._rulesKey]},teardown:function(){this.doc=null,this.ss=null,this.styleEl=null},freeze:function(){this.isFrozen=!0},unfreeze:function(){this.isFrozen=!1},insertRule:function(a,b){if(!this.isFrozen){if(a&&b){var c=this._determineSelectors(a),d=this._determineStylesText(b);return this._insertRule(c,d)}console.warn("Bad selectors and/or stylesObj provided to Zoolander.")}},insertRules:function(a){if(!this.isFrozen){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=d[0],f=d[1],g=this.insertRule(e,f);b.push(g)}return b}},deleteRule:function(a){void 0===a||this.isFrozen||(this.ss.deleteRule(a.index),this._attemptInsert(this.NULLSELECTOR,"",a.index))},insertKeyframes:function(a,b){var c="@"+this._animPrefix+"keyframes "+a,d=this._determineKeyframesStyleText(b);return this._insertRule(c,d,!0)},insertAnimation:function(a,b,c){var d=this._determineSelectors(a),e=this._animPrefix+b+": "+c;return this._insertRule(d,e)},_insertRule:function(a,b,c){var d=this.rules().length;try{this._attemptInsert(a,b,d,c)}catch(c){return void console.warn("Zoolander failed to insertRule :: "+c,a,"{",b,"}")}return new e(d,a,b)},_attemptInsert:function(a,b,c,d){this._useInsertRule?this.ss.insertRule(a+" {"+b+"}",c):this.ss.addRule(a,b,c)},_createStyleEl:function(a){var b="imdb_ad_design_injected_"+a,c=this.doc.getElementById(b);return c||((c=this.doc.createElement("style")).type="text/css",c.id=b,c.appendChild(this.doc.createTextNode("")),c)},_determineStyleElId:function(a){return a&&a.id?a.id:Date.now()+Math.floor(10*Math.random())},_determineDocument:function(a){return a&&a.document?a.document:document},_determinePrefixId:function(a){var b=a&&a.prefixId?a.prefixId:"";if(b){var c="#"===b.charAt(0)?b:"#"+b;return c=" "===c.charAt(c.length-1)?c:c+" "}return""},_isArr:function(a){return"[object Array]"===Object.prototype.toString.call(a)},_determineSelectors:function(a){var b,c,d=this.prefixId;return"string"==typeof a&&-1!==a.indexOf(",")?b=a.split(","):this._isArr(a)?b=a:c=a,b?this._concatSelectors(b,d):d+" "+c},_concatSelectors:function(a,b){for(var c="",d=0;d<a.length;d++){var e=d===a.length-1;c+=b+" "+a[d],e||(c+=", ")}return c},_determineAnimationPrefix:function(){for(var a=["webkit","Moz","ms"],b=this.doc.createElement("div"),c="",d=0;d<a.length;d++)if(void 0!==b.style[a[d]+"AnimationName"]){c="-"+a[d].toLowerCase()+"-";break}return c},_determineStylesText:function(a){var b="";for(var c in a)a.hasOwnProperty(c)&&(b+=this._buildStyleDeclaration(c,a[c]));return b},_buildStyleDeclaration:function(a,b){if(d.needsFixer(a)){for(var c="",e=d.prefixedProps(a),f=0;f<e.length;f++)c+=e[f]+": "+b+"; ";return c}return a+": "+b+"; "},_determineKeyframesStyleText:function(a){var b="";for(var c in a)if(a.hasOwnProperty(c)){var d=this._determineStylesText(a[c]);b+=this._buildKeyframeStylesText(c,d)}return b},_buildKeyframeStylesText:function(a,b){return a+" { "+b+" } "},_determineRulesKey:function(){return"cssRules"in this.ss?"cssRules":"rules"}}).constructor=f,b.exports=f},{"./zoofixer.js":110}],112:[function(a,b,c){!function(a,d){"use strict";function e(a,b,c){var d={};return d[a.key]=b,a.pos&&(d[a.pos]=c),d}function f(a,b,c){m(a,"each");var d,f,g,h,j=p(a),k=a.outerHTML,l=!!X[j],o=X[j]||{tmpl:k},q=a.parentNode,r=document.createComment("riot placeholder"),t=[],u=n(a);q.insertBefore(r,a),f=c,g=T(0),h=f.trim().slice(g.length).match(/^\s*(\S+?)\s*(?:,\s*(\S+))?\s+in\s+(.+)$/),c=h?{key:h[1],pos:h[2],val:g+h[3]}:{val:f},b.one("premount",function(){q.stub&&(q=b.root),a.parentNode.removeChild(a)}).on("update",function(){var f=U(c.val,b);K(f)||(d=f?JSON.stringify(f):"",f=f?Object.keys(f).map(function(a){return e(c,a,f[a])}):[]);for(var g=document.createDocumentFragment(),h=t.length,k=f.length;h>k;)t[--h].unmount(),t.splice(h,1);for(h=0;k>h;++h){var m=!d&&c.key?e(c,f[h],h):f[h];t[h]?t[h].update(m):((t[h]=new i(o,{parent:b,isLoop:!0,hasImpl:l,root:H.test(j)?q:a.cloneNode(),item:m},a.innerHTML)).mount(),g.appendChild(t[h].root)),t[h]._item=m}q.insertBefore(g,r),u&&(b.tags[j]=t)}).one("updated",function(){var a=Object.keys(b);s(q,function(c){1!=c.nodeType||c.isLoop||c._looped||(c._visited=!1,c._looped=!0,w(c,b,a))})})}function g(a,b,c){s(a,function(a){if(1==a.nodeType){a.isLoop=a.isLoop||a.parentNode&&a.parentNode.isLoop||a.getAttribute("each")?1:0;var d=n(a);d&&!a.isLoop&&c.push(function(a,b,c){var d,e=new i(a,{root:b,parent:c},b.innerHTML),f=p(b),g=o(c);return e.parent=g,(d=g.tags[f])?(K(d)||(g.tags[f]=[d]),~g.tags[f].indexOf(e)||g.tags[f].push(e)):g.tags[f]=e,b.innerHTML="",e}(d,a,b)),a.isLoop||w(a,b,[])}})}function h(a,b,c){function d(a,b,d){if(0<=b.indexOf(T(0))){var e={dom:a,expr:b};c.push(q(e,d))}}s(a,function(a){var c=a.nodeType;if(3==c&&"STYLE"!=a.parentNode.tagName&&d(a,a.nodeValue),1==c){var e=a.getAttribute("each");return e?(f(a,b,e),!1):(k(a.attributes,function(b){var c=b.name,e=c.split("__")[1];return d(a,b.value,{attr:e||c,bool:e}),e?(m(a,c),!1):void 0}),!n(a)&&void 0)}})}function i(b,c,e){function f(){var a=G&&y?u:x||u;k(M.attributes,function(b){v[b.name]=U(b.value,a)}),k(Object.keys(P),function(b){v[b]=U(P[b],a)})}function i(a){if(k(L,function(b){b[a?"mount":"unmount"]()}),x){var b=a?"on":"off";y?x[b]("unmount",u.unmount):x[b]("update",u.update)[b]("unmount",u.unmount)}}var n,p,u=z.observable(this),v=function(a){function b(){}return b.prototype=a,new b}(c.opts)||{},w=V(b.tmpl),x=c.parent,y=c.isLoop,G=c.hasImpl,H=r(c.item),J=[],L=[],M=c.root,N=b.fn,O=M.tagName.toLowerCase(),P={},Q=[];N&&M._tag&&M._tag.unmount(!0),this.isMounted=!1,M.isLoop=y,(M._tag=this)._id=A++,q(this,{parent:x,root:M,opts:v,tags:{}},H),k(M.attributes,function(a){var b=a.value;T(/{.*}/).test(b)&&(P[a.name]=b)}),w.innerHTML&&!/^(select|optgroup|table|tbody|tr|col(?:group)?)$/.test(O)&&(w.innerHTML=(n=w.innerHTML,p=e,n.replace(/<(yield)\/?>(<\/\1>)?/gi,p||""))),this.update=function(b){var c;b=r(b),u.parent&&y&&k(Object.keys(u.parent),function(a){var b=!~I.indexOf(a)&&~Q.indexOf(a);(typeof u[a]===F||b)&&(b||Q.push(a),u[a]=u.parent[a])}),b&&typeof H===E&&(!function(a){for(var b in H)typeof u[b]!==F&&(u[b]=a[b])}(b),H=b),q(u,b),f(),u.trigger("update",b),c=u,k(J,function(b,d){var e,f,g,h,i=b.dom,k=b.attr,n=U(b.expr,c),p=b.dom.parentNode;if(b.bool?n=!!n&&k:null==n&&(n=""),p&&"TEXTAREA"==p.tagName&&(n=(""+n).replace(/riot-/g,"")),b.value!==n)if(b.value=n,k)if(m(i,k),l(n))f=n,h=c,(g=i)[k]=function(b){var c=h._item,d=h.parent;if(!c)for(;d&&!c;)c=d._item,d=d.parent;b=b||a.event;try{b.currentTarget=g,b.target||(b.target=b.srcElement),b.which||(b.which=b.charCode||b.keyCode)}catch(b){}b.item=c,!0===f.call(h,b)||/radio|check/.test(g.type)||(b.preventDefault&&b.preventDefault(),b.returnValue=!1),b.preventUpdate||(c?o(d):h).update()};else if("if"==k){var q=b.stub,r=function(){j(i.parentNode,i,q)};n?q&&(j(q.parentNode,q,i),i.inStub=!1,t(i)||s(i,function(a){a._tag&&!a._tag.isMounted&&(a._tag.isMounted=!!a._tag.trigger("mount"))})):(q=b.stub=q||document.createTextNode(""),i.parentNode?r():(c.parent||c).one("updated",r),i.inStub=!0)}else if(/^(show|hide)$/.test(k))"hide"==k&&(n=!n),i.style.display=n?"":"none";else if("value"==k)i.value=n;else if(e=B,k.slice(0,e.length)===e&&k!=C)n&&i.setAttribute(k.slice(B.length),n);else{if(b.bool&&!(i[k]=n))return;typeof n!==E&&i.setAttribute(k,n)}else i.nodeValue=""+n}),u.trigger("updated")},this.mixin=function(){k(arguments,function(a){a=typeof a===D?z.mixin(a):a,k(Object.keys(a),function(b){"init"!=b&&(u[b]=l(a[b])?a[b].bind(u):a[b])}),a.init&&a.init.bind(u)()})},this.mount=function(){if(f(),N&&N.call(u,v),h(w,u,J),i(!0),(b.attrs||G)&&(!function(a,b){for(var c,d=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;c=d.exec(a);)b(c[1].toLowerCase(),c[2]||c[3]||c[4])}(b.attrs,function(a,b){M.setAttribute(a,b)}),h(u.root,u,J)),u.parent&&!y||u.update(H),u.trigger("premount"),y&&!G)u.root=M=w.firstChild;else{for(;w.firstChild;)M.appendChild(w.firstChild);M.stub&&(u.root=M=x.root)}!u.parent||u.parent.isMounted?(u.isMounted=!0,u.trigger("mount")):u.parent.one("mount",function(){t(u.root)||(u.parent.isMounted=u.isMounted=!0,u.trigger("mount"))})},this.unmount=function(a){var b,c=M,e=c.parentNode;if(e){if(x)b=o(x),K(b.tags[O])?k(b.tags[O],function(a,c){a._id==u._id&&b.tags[O].splice(c,1)}):b.tags[O]=d;else for(;c.firstChild;)c.removeChild(c.firstChild);a?e.removeAttribute("riot-tag"):e.removeChild(c)}u.trigger("unmount"),i(),u.off("*"),M._tag=null},g(w,this,L)}function j(a,b,c){a&&(a.insertBefore(c,b),a.removeChild(b))}function k(a,b){for(var c,d=0,e=(a||[]).length;e>d;d++)null!=(c=a[d])&&!1===b(c,d)&&d--;return a}function l(a){return typeof a===G||!1}function m(a,b){a.removeAttribute(b)}function n(a){return a.tagName&&X[a.getAttribute(C)||a.tagName.toLowerCase()]}function o(a){for(var b=a;!n(b.root)&&b.parent;)b=b.parent;return b}function p(a){var b=n(a),c=a.getAttribute("name");return c&&c.indexOf(T(0))<0?c:b?b.name:a.tagName.toLowerCase()}function q(a){for(var b,c=arguments,d=1;d<c.length;++d)if(b=c[d])for(var e in b)a[e]=b[e];return a}function r(a){if(!(a instanceof i||a&&typeof a.trigger==G))return a;var b={};for(var c in a)~I.indexOf(c)||(b[c]=a[c]);return b}function s(a,b){if(a){if(!1===b(a))return;for(a=a.firstChild;a;)s(a,b),a=a.nextSibling}}function t(a){for(;a;){if(a.inStub)return!0;a=a.parentNode}return!1}function u(a){return document.createElement(a)}function v(a,b){return(b||document).querySelectorAll(a)}function w(a,b,c){if(!a._visited){var d,e=a.getAttribute("id")||a.getAttribute("name");e&&(c.indexOf(e)<0&&((d=b[e])?K(d)?d.push(a):b[e]=[d,a]:b[e]=a),a._visited=!0)}}function x(a){if(!z.render){S||(S=u("style")).setAttribute("type","text/css");var b,c,d=document.head||document.getElementsByTagName("head")[0];if(S.styleSheet?S.styleSheet.cssText+=a:S.innerHTML+=a,!S._rendered)if(S.styleSheet)document.body.appendChild(S);else{var e=(b="style[type=riot]",(c||document).querySelector(b));e?(e.parentNode.insertBefore(S,e),e.parentNode.removeChild(e)):d.appendChild(S)}S._rendered=!0}}var y,z={version:"v2.2.4",settings:{}},A=0,B="riot-",C=B+"tag",D="string",E="object",F="undefined",G="function",H=/^(?:opt(ion|group)|tbody|col|t[rhd])$/,I=["_item","_id","update","root","mount","unmount","mixin","isMounted","isLoop","tags","parent","opts","trigger","on","off","one"],J=0|(a&&a.document||{}).documentMode,K=Array.isArray;z.observable=function(a){var b={},c=0;return(a=a||{}).on=function(d,e){return l(e)&&(typeof e.id===F&&(e._id=c++),d.replace(/\S+/g,function(a,c){(b[a]=b[a]||[]).push(e),e.typed=c>0})),a},a.off=function(c,d){return"*"==c?b={}:c.replace(/\S+/g,function(a){if(d)for(var c,e=b[a],f=0;c=e&&e[f];++f)c._id==d._id&&e.splice(f--,1);else b[a]=[]}),a},a.one=function(b,c){return a.on(b,function d(){a.off(b,d),c.apply(a,arguments)})},a.trigger=function(c){for(var d,e=[].slice.call(arguments,1),f=b[c]||[],g=0;d=f[g];++g)d.busy||(d.busy=1,d.apply(a,d.typed?[c].concat(e):e),f[g]!==d&&g--,d.busy=0);return b.all&&"all"!=c&&a.trigger.apply(a,["all",c].concat(e)),a},a},z.mixin=(y={},function(a,b){return b?void(y[a]=b):y[a]}),function(a,b,c){function d(){return h.href.split("#")[1]||""}function e(a){return a.split("/")}function f(a){a.type&&(a=d()),a!=g&&(i.trigger.apply(null,["H"].concat(e(a))),g=a)}if(c){var g,h=c.location,i=a.observable(),j=!1,k=a.route=function(a){a[0]?f(h.hash=a):i.on("H",a)};k.exec=function(a){a.apply(null,e(d()))},k.parser=function(a){e=a},k.stop=function(){j&&(c.removeEventListener?c.removeEventListener(b,f,!1):c.detachEvent("on"+b,f),i.off("*"),j=!1)},k.start=function(){j||(c.addEventListener?c.addEventListener(b,f,!1):c.attachEvent("on"+b,f),j=!0)},k.start()}}(z,"hashchange",a);var L,M,N,O,P,Q,R,S,T=(O=/[{}]/g,function(a){var b=z.settings.brackets||"{ }";return L!==b&&(N=(L=b).split(" "),M=N.map(function(a){return a.replace(/(?=.)/g,"\\")})),a instanceof RegExp?"{ }"===b?a:new RegExp(a.source.replace(O,function(a){return M[~~("}"===a)]}),a.global?"g":""):N[a]}),U=function(){function b(a,b){return a=a.replace(/\n|\r\n?/g," ").replace(T(/^[{ ]+|[ }]+$|\/\*.+?\*\//g),""),/^\s*[\w- "']+ *:/.test(a)?"["+d(a,/["' ]*[\w- ]+["' ]*:/,/,(?=["' ]*[\w- ]+["' ]*:)|}|$/).map(function(a){return a.replace(/^[ "']*(.+?)[ "']*: *(.+?),? *$/,function(a,b,d){return d.replace(/[^&|=!><]+/g,c)+'?"'+b+'":"",'})}).join("")+'].join(" ").trim()':c(a,b)}function c(a,b){return(a=a.trim())?"(function(v){try{v="+a.replace(g,function(a,b,c){return c?'(("'+c+f+c+")":a})+"}catch(e){}return "+(!0===b?'!v&&v!==0?"":v':"v")+"}).call(d)":""}function d(a,b,c){var d,e=0,f=[],g=new RegExp("("+b.source+")|("+c.source+")","g");return a.replace(g,function(b,c,g,h){!e&&c&&(d=h),(e+=c?1:-1)||null==g||f.push(a.slice(d,h+g.length))}),f}var e={},f='"in d?d:'+(a?"window).":"global)."),g=/(['"\/])(?:[^\\]*?|\\.|.)*?\1|\.\w*|\w*:|\b(?:(?:new|typeof|in|instanceof) |(?:this|true|false|null|undefined)\b|function\s*\()|([A-Za-z_$]\w*)/g;return function(a,c){return a&&(e[a]||(e[a]=function(a,c){return a.indexOf(T(0))<0?(a=a.replace(/\n|\r\n?/g,"\n"),
function(){return a}):(a=a.replace(T(/\\{/g),"").replace(T(/\\}/g),""),e=a,f=d(a,T(/{/),T(/}/)),g=[],f.map(function(a,b){b=e.indexOf(a),g.push(e.slice(0,b),a),e=e.slice(b+a.length)}),e&&g.push(e),c=g,a=2!==c.length||c[0]?"["+c.map(function(a,c){return c%2?b(a,!0):'"'+a.replace(/\n|\r\n?/g,"\\n").replace(/"/g,'\\"')+'"'}).join(",")+'].join("")':b(c[1]),new Function("d","return "+a.replace(/\uFFF0/g,T(0)).replace(/\uFFF1/g,T(1))+";"));var e,f,g}(a)))(c)}}(),V=(Q={tr:"tbody",th:"tr",td:"tr",tbody:"table",col:"colgroup"},R="div",P=(P=J)&&10>P,function(a){var b,c,d,e,f,g,h,i=a&&a.match(/^\s*<([-\w]+)/),j=i&&i[1].toLowerCase(),k=u(Q[j]||R);return k.stub=!0,P&&j&&(i=j.match(H))?(b=k,c=a,d=j,e=!!i[1],g=u(R),h=e?"select>":"table>",g.innerHTML="<"+h+c+"</"+h,(f=g.getElementsByTagName(d)[0])&&b.appendChild(f)):k.innerHTML=a,k}),W=[],X={};z.tag=function(a,b,c,d,e){return l(d)&&(e=d,/^[\w\-]+\s?=/.test(c)?(d=c,c=""):d=""),c&&(l(c)?e=c:x(c)),X[a]={name:a,tmpl:b,attrs:d,fn:e},a},z.mount=function(a,b,c){function d(a){var b="";return k(a,function(a){b+=", *["+C+'="'+a.trim()+'"]'}),b}function e(){var a=Object.keys(X);return a+d(a)}function f(a){var d;if(a.tagName){!b||(d=a.getAttribute(C))&&d==b||a.setAttribute(C,b);var e=function(a,b,c){var d=X[b],e=a._innerHTML=a._innerHTML||a.innerHTML;return a.innerHTML="",d&&a&&(d=new i(d,{root:a,opts:c},e)),d&&d.mount?(d.mount(),W.push(d),d.on("unmount",function(){W.splice(W.indexOf(d),1)})):void 0}(a,b||a.getAttribute(C)||a.tagName.toLowerCase(),c);e&&j.push(e)}else a.length&&k(a,f)}var g,h,j=[];if(typeof b===E&&(c=b,b=0),typeof a===D?("*"===a?a=h=e():a+=d(a.split(",")),g=v(a)):g=a,"*"===b){if(b=h||e(),g.tagName)g=v(b,g);else{var l=[];k(g,function(a){l.push(v(b,a))}),g=l}b=0}return g.tagName?f(g):k(g,f),j},z.update=function(){return k(W,function(a){a.update()})},z.mountTo=z.mount,z.util={brackets:T,tmpl:U},typeof c===E?b.exports=z:"function"==typeof define&&define.amd?define(function(){return a.riot=z}):a.riot=z}("undefined"!=typeof window?window:void 0)},{}],113:[function(a,b,c){a("./tarnhelm")},{"./tarnhelm":80}]},{},[113])},{}],51:[function(a,b,c){(function(a){(function(){function d(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}function e(a,b,c,d){for(var e=-1,f=null==a?0:a.length;++e<f;){var g=a[e];b(d,g,c(g),a)}return d}function f(a,b){for(var c=-1,d=null==a?0:a.length;++c<d&&b(a[c],c,a)!==!1;);return a}function g(a,b){for(var c=null==a?0:a.length;c--&&b(a[c],c,a)!==!1;);return a}function h(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}function i(a,b){for(var c=-1,d=null==a?0:a.length,e=0,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[e++]=g)}return f}function j(a,b){var c=null==a?0:a.length;return!!c&&u(a,b,0)>-1}function k(a,b,c){for(var d=-1,e=null==a?0:a.length;++d<e;)if(c(b,a[d]))return!0;return!1}function l(a,b){for(var c=-1,d=null==a?0:a.length,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}function m(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function n(a,b,c,d){var e=-1,f=null==a?0:a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function o(a,b,c,d){var e=null==a?0:a.length;for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c}function p(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function q(a){return a.split("")}function r(a){return a.match(Mb)||[]}function s(a,b,c){var d;return c(a,function(a,c,e){return b(a,c,e)?(d=c,!1):void 0}),d}function t(a,b,c,d){for(var e=a.length,f=c+(d?1:-1);d?f--:++f<e;)if(b(a[f],f,a))return f;return-1}function u(a,b,c){return b===b?V(a,b,c):t(a,w,c)}function v(a,b,c,d){for(var e=c-1,f=a.length;++e<f;)if(d(a[e],b))return e;return-1}function w(a){return a!==a}function x(a,b){var c=null==a?0:a.length;return c?C(a,b)/c:Ha}function y(a){return function(b){return null==b?aa:b[a]}}function z(a){return function(b){return null==a?aa:a[b]}}function A(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)}),c}function B(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].value;return a}function C(a,b){for(var c,d=-1,e=a.length;++d<e;){var f=b(a[d]);f!==aa&&(c=c===aa?f:c+f)}return c}function D(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}function E(a,b){return l(b,function(b){return[b,a[b]]})}function F(a){return function(b){return a(b)}}function G(a,b){return l(b,function(b){return a[b]})}function H(a,b){return a.has(b)}function I(a,b){for(var c=-1,d=a.length;++c<d&&u(b,a[c],0)>-1;);return c}function J(a,b){for(var c=a.length;c--&&u(b,a[c],0)>-1;);return c}function K(a,b){for(var c=a.length,d=0;c--;)a[c]===b&&++d;return d}function L(a){return"\\"+Yc[a]}function M(a,b){return null==a?aa:a[b]}function N(a){return Pc.test(a)}function O(a){return Qc.test(a)}function P(a){for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c}function Q(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c}function R(a,b){return function(c){return a(b(c))}}function S(a,b){for(var c=-1,d=a.length,e=0,f=[];++c<d;){var g=a[c];(g===b||g===ha)&&(a[c]=ha,f[e++]=c)}return f}function T(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c}function U(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=[a,a]}),c}function V(a,b,c){for(var d=c-1,e=a.length;++d<e;)if(a[d]===b)return d;return-1}function W(a,b,c){for(var d=c+1;d--;)if(a[d]===b)return d;return d}function X(a){return N(a)?Z(a):nd(a)}function Y(a){return N(a)?$(a):q(a)}function Z(a){for(var b=Nc.lastIndex=0;Nc.test(a);)++b;return b}function $(a){return a.match(Nc)||[]}function _(a){return a.match(Oc)||[]}var aa,ba="4.17.14",ca=200,da="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ea="Expected a function",fa="__lodash_hash_undefined__",ga=500,ha="__lodash_placeholder__",ia=1,ja=2,ka=4,la=1,ma=2,na=1,oa=2,pa=4,qa=8,ra=16,sa=32,ta=64,ua=128,va=256,wa=512,xa=30,ya="...",za=800,Aa=16,Ba=1,Ca=2,Da=3,Ea=1/0,Fa=9007199254740991,Ga=1.7976931348623157e308,Ha=NaN,Ia=4294967295,Ja=Ia-1,Ka=Ia>>>1,La=[["ary",ua],["bind",na],["bindKey",oa],["curry",qa],["curryRight",ra],["flip",wa],["partial",sa],["partialRight",ta],["rearg",va]],Ma="[object Arguments]",Na="[object Array]",Oa="[object AsyncFunction]",Pa="[object Boolean]",Qa="[object Date]",Ra="[object DOMException]",Sa="[object Error]",Ta="[object Function]",Ua="[object GeneratorFunction]",Va="[object Map]",Wa="[object Number]",Xa="[object Null]",Ya="[object Object]",Za="[object Promise]",$a="[object Proxy]",_a="[object RegExp]",ab="[object Set]",bb="[object String]",cb="[object Symbol]",db="[object Undefined]",eb="[object WeakMap]",fb="[object WeakSet]",gb="[object ArrayBuffer]",hb="[object DataView]",ib="[object Float32Array]",jb="[object Float64Array]",kb="[object Int8Array]",lb="[object Int16Array]",mb="[object Int32Array]",nb="[object Uint8Array]",ob="[object Uint8ClampedArray]",pb="[object Uint16Array]",qb="[object Uint32Array]",rb=/\b__p \+= '';/g,sb=/\b(__p \+=) '' \+/g,tb=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ub=/&(?:amp|lt|gt|quot|#39);/g,vb=/[&<>"']/g,wb=RegExp(ub.source),xb=RegExp(vb.source),yb=/<%-([\s\S]+?)%>/g,zb=/<%([\s\S]+?)%>/g,Ab=/<%=([\s\S]+?)%>/g,Bb=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Cb=/^\w*$/,Db=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Eb=/[\\^$.*+?()[\]{}|]/g,Fb=RegExp(Eb.source),Gb=/^\s+|\s+$/g,Hb=/^\s+/,Ib=/\s+$/,Jb=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Kb=/\{\n\/\* \[wrapped with (.+)\] \*/,Lb=/,? & /,Mb=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Nb=/\\(\\)?/g,Ob=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Pb=/\w*$/,Qb=/^[-+]0x[0-9a-f]+$/i,Rb=/^0b[01]+$/i,Sb=/^\[object .+?Constructor\]$/,Tb=/^0o[0-7]+$/i,Ub=/^(?:0|[1-9]\d*)$/,Vb=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Wb=/($^)/,Xb=/['\n\r\u2028\u2029\\]/g,Yb="\\ud800-\\udfff",Zb="\\u0300-\\u036f",$b="\\ufe20-\\ufe2f",_b="\\u20d0-\\u20ff",ac=Zb+$b+_b,bc="\\u2700-\\u27bf",cc="a-z\\xdf-\\xf6\\xf8-\\xff",dc="\\xac\\xb1\\xd7\\xf7",ec="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",fc="\\u2000-\\u206f",gc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",hc="A-Z\\xc0-\\xd6\\xd8-\\xde",ic="\\ufe0e\\ufe0f",jc=dc+ec+fc+gc,kc="[']",lc="["+Yb+"]",mc="["+jc+"]",nc="["+ac+"]",oc="\\d+",pc="["+bc+"]",qc="["+cc+"]",rc="[^"+Yb+jc+oc+bc+cc+hc+"]",sc="\\ud83c[\\udffb-\\udfff]",tc="(?:"+nc+"|"+sc+")",uc="[^"+Yb+"]",vc="(?:\\ud83c[\\udde6-\\uddff]){2}",wc="[\\ud800-\\udbff][\\udc00-\\udfff]",xc="["+hc+"]",yc="\\u200d",zc="(?:"+qc+"|"+rc+")",Ac="(?:"+xc+"|"+rc+")",Bc="(?:"+kc+"(?:d|ll|m|re|s|t|ve))?",Cc="(?:"+kc+"(?:D|LL|M|RE|S|T|VE))?",Dc=tc+"?",Ec="["+ic+"]?",Fc="(?:"+yc+"(?:"+[uc,vc,wc].join("|")+")"+Ec+Dc+")*",Gc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Hc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ic=Ec+Dc+Fc,Jc="(?:"+[pc,vc,wc].join("|")+")"+Ic,Kc="(?:"+[uc+nc+"?",nc,vc,wc,lc].join("|")+")",Lc=RegExp(kc,"g"),Mc=RegExp(nc,"g"),Nc=RegExp(sc+"(?="+sc+")|"+Kc+Ic,"g"),Oc=RegExp([xc+"?"+qc+"+"+Bc+"(?="+[mc,xc,"$"].join("|")+")",Ac+"+"+Cc+"(?="+[mc,xc+zc,"$"].join("|")+")",xc+"?"+zc+"+"+Bc,xc+"+"+Cc,Hc,Gc,oc,Jc].join("|"),"g"),Pc=RegExp("["+yc+Yb+ac+ic+"]"),Qc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Rc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Sc=-1,Tc={};Tc[ib]=Tc[jb]=Tc[kb]=Tc[lb]=Tc[mb]=Tc[nb]=Tc[ob]=Tc[pb]=Tc[qb]=!0,Tc[Ma]=Tc[Na]=Tc[gb]=Tc[Pa]=Tc[hb]=Tc[Qa]=Tc[Sa]=Tc[Ta]=Tc[Va]=Tc[Wa]=Tc[Ya]=Tc[_a]=Tc[ab]=Tc[bb]=Tc[eb]=!1;var Uc={};Uc[Ma]=Uc[Na]=Uc[gb]=Uc[hb]=Uc[Pa]=Uc[Qa]=Uc[ib]=Uc[jb]=Uc[kb]=Uc[lb]=Uc[mb]=Uc[Va]=Uc[Wa]=Uc[Ya]=Uc[_a]=Uc[ab]=Uc[bb]=Uc[cb]=Uc[nb]=Uc[ob]=Uc[pb]=Uc[qb]=!0,Uc[Sa]=Uc[Ta]=Uc[eb]=!1;var Vc={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"},Wc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Xc={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Yc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Zc=parseFloat,$c=parseInt,_c="object"==typeof a&&a&&a.Object===Object&&a,ad="object"==typeof self&&self&&self.Object===Object&&self,bd=_c||ad||Function("return this")(),cd="object"==typeof c&&c&&!c.nodeType&&c,dd=cd&&"object"==typeof b&&b&&!b.nodeType&&b,ed=dd&&dd.exports===cd,fd=ed&&_c.process,gd=function(){try{var a=dd&&dd.require&&dd.require("util").types;return a?a:fd&&fd.binding&&fd.binding("util")}catch(b){}}(),hd=gd&&gd.isArrayBuffer,id=gd&&gd.isDate,jd=gd&&gd.isMap,kd=gd&&gd.isRegExp,ld=gd&&gd.isSet,md=gd&&gd.isTypedArray,nd=y("length"),od=z(Vc),pd=z(Wc),qd=z(Xc),rd=function td(a){function b(a){if(ei(a)&&!pm(a)&&!(a instanceof z)){if(a instanceof q)return a;if(pk.call(a,"__wrapped__"))return bg(a)}return new q(a)}function c(){}function q(a,b){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!b,this.__index__=0,this.__values__=aa}function z(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ia,this.__views__=[]}function V(){var a=new z(this.__wrapped__);return a.__actions__=Ie(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Ie(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Ie(this.__views__),a}function Z(){if(this.__filtered__){var a=new z(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function $(){var a=this.__wrapped__.value(),b=this.__dir__,c=pm(a),d=0>b,e=c?a.length:0,f=yf(0,e,this.__views__),g=f.start,h=f.end,i=h-g,j=d?h:g-1,k=this.__iteratees__,l=k.length,m=0,n=Tk(i,this.__takeCount__);if(!c||!d&&e==i&&n==i)return re(a,this.__actions__);var o=[];a:for(;i--&&n>m;){j+=b;for(var p=-1,q=a[j];++p<l;){var r=k[p],s=r.iteratee,t=r.type,u=s(q);if(t==Ca)q=u;else if(!u){if(t==Ba)continue a;break a}}o[m++]=q}return o}function Mb(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function Yb(){this.__data__=bl?bl(null):{},this.size=0}function Zb(a){var b=this.has(a)&&delete this.__data__[a];return this.size-=b?1:0,b}function $b(a){var b=this.__data__;if(bl){var c=b[a];return c===fa?aa:c}return pk.call(b,a)?b[a]:aa}function _b(a){var b=this.__data__;return bl?b[a]!==aa:pk.call(b,a)}function ac(a,b){var c=this.__data__;return this.size+=this.has(a)?0:1,c[a]=bl&&b===aa?fa:b,this}function bc(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function cc(){this.__data__=[],this.size=0}function dc(a){var b=this.__data__,c=Cc(b,a);if(0>c)return!1;var d=b.length-1;return c==d?b.pop():Dk.call(b,c,1),--this.size,!0}function ec(a){var b=this.__data__,c=Cc(b,a);return 0>c?aa:b[c][1]}function fc(a){return Cc(this.__data__,a)>-1}function gc(a,b){var c=this.__data__,d=Cc(c,a);return 0>d?(++this.size,c.push([a,b])):c[d][1]=b,this}function hc(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function ic(){this.size=0,this.__data__={hash:new Mb,map:new(Zk||bc),string:new Mb}}function jc(a){var b=uf(this,a)["delete"](a);return this.size-=b?1:0,b}function kc(a){return uf(this,a).get(a)}function lc(a){return uf(this,a).has(a)}function mc(a,b){var c=uf(this,a),d=c.size;return c.set(a,b),this.size+=c.size==d?0:1,this}function nc(a){var b=-1,c=null==a?0:a.length;for(this.__data__=new hc;++b<c;)this.add(a[b])}function oc(a){return this.__data__.set(a,fa),this}function pc(a){return this.__data__.has(a)}function qc(a){var b=this.__data__=new bc(a);this.size=b.size}function rc(){this.__data__=new bc,this.size=0}function sc(a){var b=this.__data__,c=b["delete"](a);return this.size=b.size,c}function tc(a){return this.__data__.get(a)}function uc(a){return this.__data__.has(a)}function vc(a,b){var c=this.__data__;if(c instanceof bc){var d=c.__data__;if(!Zk||d.length<ca-1)return d.push([a,b]),this.size=++c.size,this;c=this.__data__=new hc(d)}return c.set(a,b),this.size=c.size,this}function wc(a,b){var c=pm(a),d=!c&&om(a),e=!c&&!d&&rm(a),f=!c&&!d&&!e&&wm(a),g=c||d||e||f,h=g?D(a.length,ik):[],i=h.length;for(var j in a)!b&&!pk.call(a,j)||g&&("length"==j||e&&("offset"==j||"parent"==j)||f&&("buffer"==j||"byteLength"==j||"byteOffset"==j)||Gf(j,i))||h.push(j);return h}function xc(a){var b=a.length;return b?a[$d(0,b-1)]:aa}function yc(a,b){return Zf(Ie(a),Ic(b,0,a.length))}function zc(a){return Zf(Ie(a))}function Ac(a,b,c){(c!==aa&&!Sh(a[b],c)||c===aa&&!(b in a))&&Gc(a,b,c)}function Bc(a,b,c){var d=a[b];pk.call(a,b)&&Sh(d,c)&&(c!==aa||b in a)||Gc(a,b,c)}function Cc(a,b){for(var c=a.length;c--;)if(Sh(a[c][0],b))return c;return-1}function Dc(a,b,c,d){return nl(a,function(a,e,f){b(d,a,c(a),f)}),d}function Ec(a,b){return a&&Je(b,Ni(b),a)}function Fc(a,b){return a&&Je(b,Oi(b),a)}function Gc(a,b,c){"__proto__"==b&&Hk?Hk(a,b,{configurable:!0,enumerable:!0,value:c,writable:!0}):a[b]=c}function Hc(a,b){for(var c=-1,d=b.length,e=bk(d),f=null==a;++c<d;)e[c]=f?aa:Ki(a,b[c]);return e}function Ic(a,b,c){return a===a&&(c!==aa&&(a=c>=a?a:c),b!==aa&&(a=a>=b?a:b)),a}function Jc(a,b,c,d,e,g){var h,i=b&ia,j=b&ja,k=b&ka;if(c&&(h=e?c(a,d,e,g):c(a)),h!==aa)return h;if(!di(a))return a;var l=pm(a);if(l){if(h=Bf(a),!i)return Ie(a,h)}else{var m=zl(a),n=m==Ta||m==Ua;if(rm(a))return ye(a,i);if(m==Ya||m==Ma||n&&!e){if(h=j||n?{}:Cf(a),!i)return j?Le(a,Fc(h,a)):Ke(a,Ec(h,a))}else{if(!Uc[m])return e?a:{};h=Df(a,m,i)}}g||(g=new qc);var o=g.get(a);if(o)return o;g.set(a,h),vm(a)?a.forEach(function(d){h.add(Jc(d,b,c,d,a,g))}):tm(a)&&a.forEach(function(d,e){h.set(e,Jc(d,b,c,e,a,g))});var p=k?j?qf:pf:j?Oi:Ni,q=l?aa:p(a);return f(q||a,function(d,e){q&&(e=d,d=a[e]),Bc(h,e,Jc(d,b,c,e,a,g))}),h}function Kc(a){var b=Ni(a);return function(c){return Nc(c,a,b)}}function Nc(a,b,c){var d=c.length;if(null==a)return!d;for(a=gk(a);d--;){var e=c[d],f=b[e],g=a[e];if(g===aa&&!(e in a)||!f(g))return!1}return!0}function Oc(a,b,c){if("function"!=typeof a)throw new jk(ea);return Cl(function(){a.apply(aa,c)},b)}function Pc(a,b,c,d){var e=-1,f=j,g=!0,h=a.length,i=[],m=b.length;if(!h)return i;c&&(b=l(b,F(c))),d?(f=k,g=!1):b.length>=ca&&(f=H,g=!1,b=new nc(b));a:for(;++e<h;){var n=a[e],o=null==c?n:c(n);if(n=d||0!==n?n:0,g&&o===o){for(var p=m;p--;)if(b[p]===o)continue a;i.push(n)}else f(b,o,d)||i.push(n)}return i}function Qc(a,b){var c=!0;return nl(a,function(a,d,e){return c=!!b(a,d,e)}),c}function Vc(a,b,c){for(var d=-1,e=a.length;++d<e;){var f=a[d],g=b(f);if(null!=g&&(h===aa?g===g&&!pi(g):c(g,h)))var h=g,i=f}return i}function Wc(a,b,c,d){var e=a.length;for(c=vi(c),0>c&&(c=-c>e?0:e+c),d=d===aa||d>e?e:vi(d),0>d&&(d+=e),d=c>d?0:wi(d);d>c;)a[c++]=b;return a}function Xc(a,b){var c=[];return nl(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}function Yc(a,b,c,d,e){var f=-1,g=a.length;for(c||(c=Ff),e||(e=[]);++f<g;){var h=a[f];b>0&&c(h)?b>1?Yc(h,b-1,c,d,e):m(e,h):d||(e[e.length]=h)}return e}function _c(a,b){return a&&pl(a,b,Ni)}function ad(a,b){return a&&ql(a,b,Ni)}function cd(a,b){return i(b,function(b){return ai(a[b])})}function dd(a,b){b=we(b,a);for(var c=0,d=b.length;null!=a&&d>c;)a=a[$f(b[c++])];return c&&c==d?a:aa}function fd(a,b,c){var d=b(a);return pm(a)?d:m(d,c(a))}function gd(a){return null==a?a===aa?db:Xa:Gk&&Gk in gk(a)?xf(a):Sf(a)}function nd(a,b){return a>b}function rd(a,b){return null!=a&&pk.call(a,b)}function ud(a,b){return null!=a&&b in gk(a)}function vd(a,b,c){return a>=Tk(b,c)&&a<Sk(b,c)}function wd(a,b,c){for(var d=c?k:j,e=a[0].length,f=a.length,g=f,h=bk(f),i=1/0,m=[];g--;){var n=a[g];g&&b&&(n=l(n,F(b))),i=Tk(n.length,i),h[g]=!c&&(b||e>=120&&n.length>=120)?new nc(g&&n):aa}n=a[0];var o=-1,p=h[0];a:for(;++o<e&&m.length<i;){var q=n[o],r=b?b(q):q;if(q=c||0!==q?q:0,!(p?H(p,r):d(m,r,c))){for(g=f;--g;){var s=h[g];if(!(s?H(s,r):d(a[g],r,c)))continue a}p&&p.push(r),m.push(q)}}return m}function xd(a,b,c,d){return _c(a,function(a,e,f){b(d,c(a),e,f)}),d}function yd(a,b,c){b=we(b,a),a=Uf(a,b);var e=null==a?a:a[$f(ug(b))];return null==e?aa:d(e,a,c)}function zd(a){return ei(a)&&gd(a)==Ma}function Ad(a){return ei(a)&&gd(a)==gb}function Bd(a){return ei(a)&&gd(a)==Qa}function Cd(a,b,c,d,e){return a===b?!0:null==a||null==b||!ei(a)&&!ei(b)?a!==a&&b!==b:Dd(a,b,c,d,Cd,e)}function Dd(a,b,c,d,e,f){var g=pm(a),h=pm(b),i=g?Na:zl(a),j=h?Na:zl(b);i=i==Ma?Ya:i,j=j==Ma?Ya:j;var k=i==Ya,l=j==Ya,m=i==j;if(m&&rm(a)){if(!rm(b))return!1;g=!0,k=!1}if(m&&!k)return f||(f=new qc),g||wm(a)?lf(a,b,c,d,e,f):mf(a,b,i,c,d,e,f);if(!(c&la)){var n=k&&pk.call(a,"__wrapped__"),o=l&&pk.call(b,"__wrapped__");if(n||o){var p=n?a.value():a,q=o?b.value():b;return f||(f=new qc),e(p,q,c,d,f)}}return m?(f||(f=new qc),nf(a,b,c,d,e,f)):!1}function Ed(a){return ei(a)&&zl(a)==Va}function Fd(a,b,c,d){var e=c.length,f=e,g=!d;if(null==a)return!f;for(a=gk(a);e--;){var h=c[e];if(g&&h[2]?h[1]!==a[h[0]]:!(h[0]in a))return!1}for(;++e<f;){h=c[e];var i=h[0],j=a[i],k=h[1];if(g&&h[2]){if(j===aa&&!(i in a))return!1}else{var l=new qc;if(d)var m=d(j,k,i,a,b,l);if(!(m===aa?Cd(k,j,la|ma,d,l):m))return!1}}return!0}function Gd(a){if(!di(a)||Lf(a))return!1;var b=ai(a)?vk:Sb;return b.test(_f(a))}function Hd(a){return ei(a)&&gd(a)==_a}function Id(a){return ei(a)&&zl(a)==ab}function Jd(a){return ei(a)&&ci(a.length)&&!!Tc[gd(a)]}function Kd(a){return"function"==typeof a?a:null==a?Dj:"object"==typeof a?pm(a)?Qd(a[0],a[1]):Pd(a):Lj(a)}function Ld(a){if(!Mf(a))return Rk(a);var b=[];for(var c in gk(a))pk.call(a,c)&&"constructor"!=c&&b.push(c);return b}function Md(a){if(!di(a))return Rf(a);var b=Mf(a),c=[];for(var d in a)("constructor"!=d||!b&&pk.call(a,d))&&c.push(d);return c}function Nd(a,b){return b>a}function Od(a,b){var c=-1,d=Th(a)?bk(a.length):[];return nl(a,function(a,e,f){d[++c]=b(a,e,f)}),d}function Pd(a){var b=vf(a);return 1==b.length&&b[0][2]?Of(b[0][0],b[0][1]):function(c){return c===a||Fd(c,a,b)}}function Qd(a,b){return If(a)&&Nf(b)?Of($f(a),b):function(c){var d=Ki(c,a);return d===aa&&d===b?Mi(c,a):Cd(b,d,la|ma)}}function Rd(a,b,c,d,e){a!==b&&pl(b,function(f,g){if(e||(e=new qc),di(f))Sd(a,b,g,c,Rd,d,e);else{var h=d?d(Wf(a,g),f,g+"",a,b,e):aa;h===aa&&(h=f),Ac(a,g,h)}},Oi)}function Sd(a,b,c,d,e,f,g){var h=Wf(a,c),i=Wf(b,c),j=g.get(i);if(j)return void Ac(a,c,j);var k=f?f(h,i,c+"",a,b,g):aa,l=k===aa;if(l){var m=pm(i),n=!m&&rm(i),o=!m&&!n&&wm(i);k=i,m||n||o?pm(h)?k=h:Uh(h)?k=Ie(h):n?(l=!1,k=ye(i,!0)):o?(l=!1,k=De(i,!0)):k=[]:mi(i)||om(i)?(k=h,om(h)?k=yi(h):(!di(h)||ai(h))&&(k=Cf(i))):l=!1}l&&(g.set(i,k),e(k,i,d,f,g),g["delete"](i)),Ac(a,c,k)}function Td(a,b){var c=a.length;if(c)return b+=0>b?c:0,Gf(b,c)?a[b]:aa}function Ud(a,b,c){var d=-1;b=l(b.length?b:[Dj],F(tf()));var e=Od(a,function(a,c,e){var f=l(b,function(b){return b(a)});return{criteria:f,index:++d,value:a}});return B(e,function(a,b){return Fe(a,b,c)})}function Vd(a,b){return Wd(a,b,function(b,c){return Mi(a,c)})}function Wd(a,b,c){for(var d=-1,e=b.length,f={};++d<e;){var g=b[d],h=dd(a,g);c(h,g)&&ee(f,we(g,a),h)}return f}function Xd(a){return function(b){return dd(b,a)}}function Yd(a,b,c,d){var e=d?v:u,f=-1,g=b.length,h=a;for(a===b&&(b=Ie(b)),c&&(h=l(a,F(c)));++f<g;)for(var i=0,j=b[f],k=c?c(j):j;(i=e(h,k,i,d))>-1;)h!==a&&Dk.call(h,i,1),Dk.call(a,i,1);return a}function Zd(a,b){for(var c=a?b.length:0,d=c-1;c--;){var e=b[c];if(c==d||e!==f){var f=e;Gf(e)?Dk.call(a,e,1):oe(a,e)}}return a}function $d(a,b){return a+Mk(Wk()*(b-a+1))}function _d(a,b,c,d){for(var e=-1,f=Sk(Lk((b-a)/(c||1)),0),g=bk(f);f--;)g[d?f:++e]=a,a+=c;return g}function ae(a,b){var c="";if(!a||1>b||b>Fa)return c;do b%2&&(c+=a),b=Mk(b/2),b&&(a+=a);while(b);return c}function be(a,b){return Dl(Tf(a,b,Dj),a+"")}function ce(a){return xc($i(a))}function de(a,b){var c=$i(a);return Zf(c,Ic(b,0,c.length))}function ee(a,b,c,d){if(!di(a))return a;b=we(b,a);for(var e=-1,f=b.length,g=f-1,h=a;null!=h&&++e<f;){var i=$f(b[e]),j=c;if(e!=g){var k=h[i];j=d?d(k,i,h):aa,j===aa&&(j=di(k)?k:Gf(b[e+1])?[]:{})}Bc(h,i,j),h=h[i]}return a}function fe(a){return Zf($i(a))}function ge(a,b,c){var d=-1,e=a.length;0>b&&(b=-b>e?0:e+b),c=c>e?e:c,0>c&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=bk(e);++d<e;)f[d]=a[d+b];return f}function he(a,b){var c;return nl(a,function(a,d,e){return c=b(a,d,e),!c}),!!c}function ie(a,b,c){var d=0,e=null==a?d:a.length;if("number"==typeof b&&b===b&&Ka>=e){for(;e>d;){var f=d+e>>>1,g=a[f];null!==g&&!pi(g)&&(c?b>=g:b>g)?d=f+1:e=f}return e}return je(a,b,Dj,c)}function je(a,b,c,d){b=c(b);for(var e=0,f=null==a?0:a.length,g=b!==b,h=null===b,i=pi(b),j=b===aa;f>e;){var k=Mk((e+f)/2),l=c(a[k]),m=l!==aa,n=null===l,o=l===l,p=pi(l);if(g)var q=d||o;else q=j?o&&(d||m):h?o&&m&&(d||!n):i?o&&m&&!n&&(d||!p):n||p?!1:d?b>=l:b>l;q?e=k+1:f=k}return Tk(f,Ja)}function ke(a,b){for(var c=-1,d=a.length,e=0,f=[];++c<d;){var g=a[c],h=b?b(g):g;if(!c||!Sh(h,i)){var i=h;f[e++]=0===g?0:g}}return f}function le(a){return"number"==typeof a?a:pi(a)?Ha:+a}function me(a){if("string"==typeof a)return a;if(pm(a))return l(a,me)+"";if(pi(a))return ll?ll.call(a):"";var b=a+"";return"0"==b&&1/a==-Ea?"-0":b}function ne(a,b,c){var d=-1,e=j,f=a.length,g=!0,h=[],i=h;if(c)g=!1,e=k;else if(f>=ca){var l=b?null:vl(a);if(l)return T(l);g=!1,e=H,i=new nc}else i=b?[]:h;a:for(;++d<f;){var m=a[d],n=b?b(m):m;if(m=c||0!==m?m:0,g&&n===n){for(var o=i.length;o--;)if(i[o]===n)continue a;b&&i.push(n),h.push(m)}else e(i,n,c)||(i!==h&&i.push(n),h.push(m))}return h}function oe(a,b){return b=we(b,a),a=Uf(a,b),null==a||delete a[$f(ug(b))]}function pe(a,b,c,d){return ee(a,b,c(dd(a,b)),d)}function qe(a,b,c,d){for(var e=a.length,f=d?e:-1;(d?f--:++f<e)&&b(a[f],f,a););return c?ge(a,d?0:f,d?f+1:e):ge(a,d?f+1:0,d?e:f)}function re(a,b){var c=a;return c instanceof z&&(c=c.value()),n(b,function(a,b){return b.func.apply(b.thisArg,m([a],b.args))},c)}function se(a,b,c){var d=a.length;if(2>d)return d?ne(a[0]):[];for(var e=-1,f=bk(d);++e<d;)for(var g=a[e],h=-1;++h<d;)h!=e&&(f[e]=Pc(f[e]||g,a[h],b,c));return ne(Yc(f,1),b,c)}function te(a,b,c){for(var d=-1,e=a.length,f=b.length,g={};++d<e;){var h=f>d?b[d]:aa;c(g,a[d],h)}return g}function ue(a){return Uh(a)?a:[]}function ve(a){return"function"==typeof a?a:Dj}function we(a,b){return pm(a)?a:If(a,b)?[a]:El(Ai(a))}function xe(a,b,c){var d=a.length;return c=c===aa?d:c,!b&&c>=d?a:ge(a,b,c)}function ye(a,b){if(b)return a.slice();var c=a.length,d=zk?zk(c):new a.constructor(c);return a.copy(d),d}function ze(a){var b=new a.constructor(a.byteLength);return new yk(b).set(new yk(a)),b}function Ae(a,b){var c=b?ze(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.byteLength)}function Be(a){var b=new a.constructor(a.source,Pb.exec(a));return b.lastIndex=a.lastIndex,b}function Ce(a){return kl?gk(kl.call(a)):{}}function De(a,b){var c=b?ze(a.buffer):a.buffer;return new a.constructor(c,a.byteOffset,a.length)}function Ee(a,b){if(a!==b){var c=a!==aa,d=null===a,e=a===a,f=pi(a),g=b!==aa,h=null===b,i=b===b,j=pi(b);if(!h&&!j&&!f&&a>b||f&&g&&i&&!h&&!j||d&&g&&i||!c&&i||!e)return 1;if(!d&&!f&&!j&&b>a||j&&c&&e&&!d&&!f||h&&c&&e||!g&&e||!i)return-1}return 0}function Fe(a,b,c){for(var d=-1,e=a.criteria,f=b.criteria,g=e.length,h=c.length;++d<g;){var i=Ee(e[d],f[d]);if(i){if(d>=h)return i;var j=c[d];return i*("desc"==j?-1:1)}}return a.index-b.index}function Ge(a,b,c,d){for(var e=-1,f=a.length,g=c.length,h=-1,i=b.length,j=Sk(f-g,0),k=bk(i+j),l=!d;++h<i;)k[h]=b[h];for(;++e<g;)(l||f>e)&&(k[c[e]]=a[e]);for(;j--;)k[h++]=a[e++];return k}function He(a,b,c,d){for(var e=-1,f=a.length,g=-1,h=c.length,i=-1,j=b.length,k=Sk(f-h,0),l=bk(k+j),m=!d;++e<k;)l[e]=a[e];for(var n=e;++i<j;)l[n+i]=b[i];for(;++g<h;)(m||f>e)&&(l[n+c[g]]=a[e++]);return l}function Ie(a,b){var c=-1,d=a.length;for(b||(b=bk(d));++c<d;)b[c]=a[c];return b}function Je(a,b,c,d){var e=!c;c||(c={});for(var f=-1,g=b.length;++f<g;){var h=b[f],i=d?d(c[h],a[h],h,c,a):aa;i===aa&&(i=a[h]),e?Gc(c,h,i):Bc(c,h,i)}return c}function Ke(a,b){return Je(a,xl(a),b)}function Le(a,b){return Je(a,yl(a),b)}function Me(a,b){return function(c,d){var f=pm(c)?e:Dc,g=b?b():{};return f(c,a,tf(d,2),g)}}function Ne(a){return be(function(b,c){var d=-1,e=c.length,f=e>1?c[e-1]:aa,g=e>2?c[2]:aa;for(f=a.length>3&&"function"==typeof f?(e--,f):aa,g&&Hf(c[0],c[1],g)&&(f=3>e?aa:f,e=1),b=gk(b);++d<e;){var h=c[d];h&&a(b,h,d,f)}return b})}function Oe(a,b){return function(c,d){if(null==c)return c;if(!Th(c))return a(c,d);for(var e=c.length,f=b?e:-1,g=gk(c);(b?f--:++f<e)&&d(g[f],f,g)!==!1;);return c}}function Pe(a){return function(b,c,d){for(var e=-1,f=gk(b),g=d(b),h=g.length;h--;){var i=g[a?h:++e];if(c(f[i],i,f)===!1)break}return b}}function Qe(a,b,c){function d(){var b=this&&this!==bd&&this instanceof d?f:a;return b.apply(e?c:this,arguments)}var e=b&na,f=Te(a);return d}function Re(a){return function(b){b=Ai(b);var c=N(b)?Y(b):aa,d=c?c[0]:b.charAt(0),e=c?xe(c,1).join(""):b.slice(1);return d[a]()+e}}function Se(a){return function(b){return n(yj(ej(b).replace(Lc,"")),a,"")}}function Te(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=ml(a.prototype),d=a.apply(c,b);return di(d)?d:c}}function Ue(a,b,c){function e(){for(var g=arguments.length,h=bk(g),i=g,j=sf(e);i--;)h[i]=arguments[i];var k=3>g&&h[0]!==j&&h[g-1]!==j?[]:S(h,j);if(g-=k.length,c>g)return df(a,b,Xe,e.placeholder,aa,h,k,aa,aa,c-g);var l=this&&this!==bd&&this instanceof e?f:a;return d(l,this,h)}var f=Te(a);return e}function Ve(a){return function(b,c,d){var e=gk(b);if(!Th(b)){var f=tf(c,3);b=Ni(b),c=function(a){return f(e[a],a,e)}}var g=a(b,c,d);return g>-1?e[f?b[g]:g]:aa}}function We(a){return of(function(b){var c=b.length,d=c,e=q.prototype.thru;for(a&&b.reverse();d--;){var f=b[d];if("function"!=typeof f)throw new jk(ea);if(e&&!g&&"wrapper"==rf(f))var g=new q([],!0)}for(d=g?d:c;++d<c;){f=b[d];var h=rf(f),i="wrapper"==h?wl(f):aa;g=i&&Kf(i[0])&&i[1]==(ua|qa|sa|va)&&!i[4].length&&1==i[9]?g[rf(i[0])].apply(g,i[3]):1==f.length&&Kf(f)?g[h]():g.thru(f)}return function(){var a=arguments,d=a[0];if(g&&1==a.length&&pm(d))return g.plant(d).value();for(var e=0,f=c?b[e].apply(this,a):d;++e<c;)f=b[e].call(this,f);return f}})}function Xe(a,b,c,d,e,f,g,h,i,j){function k(){for(var r=arguments.length,s=bk(r),t=r;t--;)s[t]=arguments[t];if(o)var u=sf(k),v=K(s,u);if(d&&(s=Ge(s,d,e,o)),f&&(s=He(s,f,g,o)),r-=v,o&&j>r){var w=S(s,u);return df(a,b,Xe,k.placeholder,c,s,w,h,i,j-r)}var x=m?c:this,y=n?x[a]:a;return r=s.length,h?s=Vf(s,h):p&&r>1&&s.reverse(),l&&r>i&&(s.length=i),this&&this!==bd&&this instanceof k&&(y=q||Te(y)),y.apply(x,s)}var l=b&ua,m=b&na,n=b&oa,o=b&(qa|ra),p=b&wa,q=n?aa:Te(a);return k}function Ye(a,b){return function(c,d){return xd(c,a,b(d),{})}}function Ze(a,b){return function(c,d){var e;if(c===aa&&d===aa)return b;if(c!==aa&&(e=c),d!==aa){if(e===aa)return d;"string"==typeof c||"string"==typeof d?(c=me(c),d=me(d)):(c=le(c),d=le(d)),e=a(c,d)}return e}}function $e(a){return of(function(b){return b=l(b,F(tf())),be(function(c){var e=this;return a(b,function(a){return d(a,e,c)})})})}function _e(a,b){b=b===aa?" ":me(b);var c=b.length;if(2>c)return c?ae(b,a):b;var d=ae(b,Lk(a/X(b)));return N(b)?xe(Y(d),0,a).join(""):d.slice(0,a)}function af(a,b,c,e){function f(){for(var b=-1,i=arguments.length,j=-1,k=e.length,l=bk(k+i),m=this&&this!==bd&&this instanceof f?h:a;++j<k;)l[j]=e[j];for(;i--;)l[j++]=arguments[++b];return d(m,g?c:this,l)}var g=b&na,h=Te(a);return f}function bf(a){return function(b,c,d){return d&&"number"!=typeof d&&Hf(b,c,d)&&(c=d=aa),b=ui(b),c===aa?(c=b,b=0):c=ui(c),d=d===aa?c>b?1:-1:ui(d),_d(b,c,d,a)}}function cf(a){return function(b,c){return("string"!=typeof b||"string"!=typeof c)&&(b=xi(b),c=xi(c)),a(b,c)}}function df(a,b,c,d,e,f,g,h,i,j){var k=b&qa,l=k?g:aa,m=k?aa:g,n=k?f:aa,o=k?aa:f;b|=k?sa:ta,b&=~(k?ta:sa),b&pa||(b&=~(na|oa));var p=[a,b,e,n,l,o,m,h,i,j],q=c.apply(aa,p);return Kf(a)&&Bl(q,p),q.placeholder=d,Xf(q,a,b)}function ef(a){var b=fk[a];return function(a,c){if(a=xi(a),c=null==c?0:Tk(vi(c),292),c&&Pk(a)){var d=(Ai(a)+"e").split("e"),e=b(d[0]+"e"+(+d[1]+c));return d=(Ai(e)+"e").split("e"),+(d[0]+"e"+(+d[1]-c))}return b(a)}}function ff(a){return function(b){var c=zl(b);return c==Va?Q(b):c==ab?U(b):E(b,a(b))}}function gf(a,b,c,d,e,f,g,h){var i=b&oa;if(!i&&"function"!=typeof a)throw new jk(ea);
var j=d?d.length:0;if(j||(b&=~(sa|ta),d=e=aa),g=g===aa?g:Sk(vi(g),0),h=h===aa?h:vi(h),j-=e?e.length:0,b&ta){var k=d,l=e;d=e=aa}var m=i?aa:wl(a),n=[a,b,c,d,e,k,l,f,g,h];if(m&&Qf(n,m),a=n[0],b=n[1],c=n[2],d=n[3],e=n[4],h=n[9]=n[9]===aa?i?0:a.length:Sk(n[9]-j,0),!h&&b&(qa|ra)&&(b&=~(qa|ra)),b&&b!=na)o=b==qa||b==ra?Ue(a,b,h):b!=sa&&b!=(na|sa)||e.length?Xe.apply(aa,n):af(a,b,c,d);else var o=Qe(a,b,c);var p=m?rl:Bl;return Xf(p(o,n),a,b)}function hf(a,b,c,d){return a===aa||Sh(a,mk[c])&&!pk.call(d,c)?b:a}function jf(a,b,c,d,e,f){return di(a)&&di(b)&&(f.set(b,a),Rd(a,b,aa,jf,f),f["delete"](b)),a}function kf(a){return mi(a)?aa:a}function lf(a,b,c,d,e,f){var g=c&la,h=a.length,i=b.length;if(h!=i&&!(g&&i>h))return!1;var j=f.get(a);if(j&&f.get(b))return j==b;var k=-1,l=!0,m=c&ma?new nc:aa;for(f.set(a,b),f.set(b,a);++k<h;){var n=a[k],o=b[k];if(d)var q=g?d(o,n,k,b,a,f):d(n,o,k,a,b,f);if(q!==aa){if(q)continue;l=!1;break}if(m){if(!p(b,function(a,b){return H(m,b)||n!==a&&!e(n,a,c,d,f)?void 0:m.push(b)})){l=!1;break}}else if(n!==o&&!e(n,o,c,d,f)){l=!1;break}}return f["delete"](a),f["delete"](b),l}function mf(a,b,c,d,e,f,g){switch(c){case hb:if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)return!1;a=a.buffer,b=b.buffer;case gb:return a.byteLength==b.byteLength&&f(new yk(a),new yk(b))?!0:!1;case Pa:case Qa:case Wa:return Sh(+a,+b);case Sa:return a.name==b.name&&a.message==b.message;case _a:case bb:return a==b+"";case Va:var h=Q;case ab:var i=d&la;if(h||(h=T),a.size!=b.size&&!i)return!1;var j=g.get(a);if(j)return j==b;d|=ma,g.set(a,b);var k=lf(h(a),h(b),d,e,f,g);return g["delete"](a),k;case cb:if(kl)return kl.call(a)==kl.call(b)}return!1}function nf(a,b,c,d,e,f){var g=c&la,h=pf(a),i=h.length,j=pf(b),k=j.length;if(i!=k&&!g)return!1;for(var l=i;l--;){var m=h[l];if(!(g?m in b:pk.call(b,m)))return!1}var n=f.get(a);if(n&&f.get(b))return n==b;var o=!0;f.set(a,b),f.set(b,a);for(var p=g;++l<i;){m=h[l];var q=a[m],r=b[m];if(d)var s=g?d(r,q,m,b,a,f):d(q,r,m,a,b,f);if(!(s===aa?q===r||e(q,r,c,d,f):s)){o=!1;break}p||(p="constructor"==m)}if(o&&!p){var t=a.constructor,u=b.constructor;t!=u&&"constructor"in a&&"constructor"in b&&!("function"==typeof t&&t instanceof t&&"function"==typeof u&&u instanceof u)&&(o=!1)}return f["delete"](a),f["delete"](b),o}function of(a){return Dl(Tf(a,aa,mg),a+"")}function pf(a){return fd(a,Ni,xl)}function qf(a){return fd(a,Oi,yl)}function rf(a){for(var b=a.name+"",c=dl[b],d=pk.call(dl,b)?c.length:0;d--;){var e=c[d],f=e.func;if(null==f||f==a)return e.name}return b}function sf(a){var c=pk.call(b,"placeholder")?b:a;return c.placeholder}function tf(){var a=b.iteratee||Ej;return a=a===Ej?Kd:a,arguments.length?a(arguments[0],arguments[1]):a}function uf(a,b){var c=a.__data__;return Jf(b)?c["string"==typeof b?"string":"hash"]:c.map}function vf(a){for(var b=Ni(a),c=b.length;c--;){var d=b[c],e=a[d];b[c]=[d,e,Nf(e)]}return b}function wf(a,b){var c=M(a,b);return Gd(c)?c:aa}function xf(a){var b=pk.call(a,Gk),c=a[Gk];try{a[Gk]=aa;var d=!0}catch(e){}var f=sk.call(a);return d&&(b?a[Gk]=c:delete a[Gk]),f}function yf(a,b,c){for(var d=-1,e=c.length;++d<e;){var f=c[d],g=f.size;switch(f.type){case"drop":a+=g;break;case"dropRight":b-=g;break;case"take":b=Tk(b,a+g);break;case"takeRight":a=Sk(a,b-g)}}return{start:a,end:b}}function zf(a){var b=a.match(Kb);return b?b[1].split(Lb):[]}function Af(a,b,c){b=we(b,a);for(var d=-1,e=b.length,f=!1;++d<e;){var g=$f(b[d]);if(!(f=null!=a&&c(a,g)))break;a=a[g]}return f||++d!=e?f:(e=null==a?0:a.length,!!e&&ci(e)&&Gf(g,e)&&(pm(a)||om(a)))}function Bf(a){var b=a.length,c=new a.constructor(b);return b&&"string"==typeof a[0]&&pk.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function Cf(a){return"function"!=typeof a.constructor||Mf(a)?{}:ml(Ak(a))}function Df(a,b,c){var d=a.constructor;switch(b){case gb:return ze(a);case Pa:case Qa:return new d(+a);case hb:return Ae(a,c);case ib:case jb:case kb:case lb:case mb:case nb:case ob:case pb:case qb:return De(a,c);case Va:return new d;case Wa:case bb:return new d(a);case _a:return Be(a);case ab:return new d;case cb:return Ce(a)}}function Ef(a,b){var c=b.length;if(!c)return a;var d=c-1;return b[d]=(c>1?"& ":"")+b[d],b=b.join(c>2?", ":" "),a.replace(Jb,"{\n/* [wrapped with "+b+"] */\n")}function Ff(a){return pm(a)||om(a)||!!(Ek&&a&&a[Ek])}function Gf(a,b){var c=typeof a;return b=null==b?Fa:b,!!b&&("number"==c||"symbol"!=c&&Ub.test(a))&&a>-1&&a%1==0&&b>a}function Hf(a,b,c){if(!di(c))return!1;var d=typeof b;return("number"==d?Th(c)&&Gf(b,c.length):"string"==d&&b in c)?Sh(c[b],a):!1}function If(a,b){if(pm(a))return!1;var c=typeof a;return"number"==c||"symbol"==c||"boolean"==c||null==a||pi(a)?!0:Cb.test(a)||!Bb.test(a)||null!=b&&a in gk(b)}function Jf(a){var b=typeof a;return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==a:null===a}function Kf(a){var c=rf(a),d=b[c];if("function"!=typeof d||!(c in z.prototype))return!1;if(a===d)return!0;var e=wl(d);return!!e&&a===e[0]}function Lf(a){return!!rk&&rk in a}function Mf(a){var b=a&&a.constructor,c="function"==typeof b&&b.prototype||mk;return a===c}function Nf(a){return a===a&&!di(a)}function Of(a,b){return function(c){return null==c?!1:c[a]===b&&(b!==aa||a in gk(c))}}function Pf(a){var b=Eh(a,function(a){return c.size===ga&&c.clear(),a}),c=b.cache;return b}function Qf(a,b){var c=a[1],d=b[1],e=c|d,f=(na|oa|ua)>e,g=d==ua&&c==qa||d==ua&&c==va&&a[7].length<=b[8]||d==(ua|va)&&b[7].length<=b[8]&&c==qa;if(!f&&!g)return a;d&na&&(a[2]=b[2],e|=c&na?0:pa);var h=b[3];if(h){var i=a[3];a[3]=i?Ge(i,h,b[4]):h,a[4]=i?S(a[3],ha):b[4]}return h=b[5],h&&(i=a[5],a[5]=i?He(i,h,b[6]):h,a[6]=i?S(a[5],ha):b[6]),h=b[7],h&&(a[7]=h),d&ua&&(a[8]=null==a[8]?b[8]:Tk(a[8],b[8])),null==a[9]&&(a[9]=b[9]),a[0]=b[0],a[1]=e,a}function Rf(a){var b=[];if(null!=a)for(var c in gk(a))b.push(c);return b}function Sf(a){return sk.call(a)}function Tf(a,b,c){return b=Sk(b===aa?a.length-1:b,0),function(){for(var e=arguments,f=-1,g=Sk(e.length-b,0),h=bk(g);++f<g;)h[f]=e[b+f];f=-1;for(var i=bk(b+1);++f<b;)i[f]=e[f];return i[b]=c(h),d(a,this,i)}}function Uf(a,b){return b.length<2?a:dd(a,ge(b,0,-1))}function Vf(a,b){for(var c=a.length,d=Tk(b.length,c),e=Ie(a);d--;){var f=b[d];a[d]=Gf(f,c)?e[f]:aa}return a}function Wf(a,b){return"constructor"===b&&"function"==typeof a[b]||"__proto__"==b?void 0:a[b]}function Xf(a,b,c){var d=b+"";return Dl(a,Ef(d,ag(zf(d),c)))}function Yf(a){var b=0,c=0;return function(){var d=Uk(),e=Aa-(d-c);if(c=d,e>0){if(++b>=za)return arguments[0]}else b=0;return a.apply(aa,arguments)}}function Zf(a,b){var c=-1,d=a.length,e=d-1;for(b=b===aa?d:b;++c<b;){var f=$d(c,e),g=a[f];a[f]=a[c],a[c]=g}return a.length=b,a}function $f(a){if("string"==typeof a||pi(a))return a;var b=a+"";return"0"==b&&1/a==-Ea?"-0":b}function _f(a){if(null!=a){try{return ok.call(a)}catch(b){}try{return a+""}catch(b){}}return""}function ag(a,b){return f(La,function(c){var d="_."+c[0];b&c[1]&&!j(a,d)&&a.push(d)}),a.sort()}function bg(a){if(a instanceof z)return a.clone();var b=new q(a.__wrapped__,a.__chain__);return b.__actions__=Ie(a.__actions__),b.__index__=a.__index__,b.__values__=a.__values__,b}function cg(a,b,c){b=(c?Hf(a,b,c):b===aa)?1:Sk(vi(b),0);var d=null==a?0:a.length;if(!d||1>b)return[];for(var e=0,f=0,g=bk(Lk(d/b));d>e;)g[f++]=ge(a,e,e+=b);return g}function dg(a){for(var b=-1,c=null==a?0:a.length,d=0,e=[];++b<c;){var f=a[b];f&&(e[d++]=f)}return e}function eg(){var a=arguments.length;if(!a)return[];for(var b=bk(a-1),c=arguments[0],d=a;d--;)b[d-1]=arguments[d];return m(pm(c)?Ie(c):[c],Yc(b,1))}function fg(a,b,c){var d=null==a?0:a.length;return d?(b=c||b===aa?1:vi(b),ge(a,0>b?0:b,d)):[]}function gg(a,b,c){var d=null==a?0:a.length;return d?(b=c||b===aa?1:vi(b),b=d-b,ge(a,0,0>b?0:b)):[]}function hg(a,b){return a&&a.length?qe(a,tf(b,3),!0,!0):[]}function ig(a,b){return a&&a.length?qe(a,tf(b,3),!0):[]}function jg(a,b,c,d){var e=null==a?0:a.length;return e?(c&&"number"!=typeof c&&Hf(a,b,c)&&(c=0,d=e),Wc(a,b,c,d)):[]}function kg(a,b,c){var d=null==a?0:a.length;if(!d)return-1;var e=null==c?0:vi(c);return 0>e&&(e=Sk(d+e,0)),t(a,tf(b,3),e)}function lg(a,b,c){var d=null==a?0:a.length;if(!d)return-1;var e=d-1;return c!==aa&&(e=vi(c),e=0>c?Sk(d+e,0):Tk(e,d-1)),t(a,tf(b,3),e,!0)}function mg(a){var b=null==a?0:a.length;return b?Yc(a,1):[]}function ng(a){var b=null==a?0:a.length;return b?Yc(a,Ea):[]}function og(a,b){var c=null==a?0:a.length;return c?(b=b===aa?1:vi(b),Yc(a,b)):[]}function pg(a){for(var b=-1,c=null==a?0:a.length,d={};++b<c;){var e=a[b];d[e[0]]=e[1]}return d}function qg(a){return a&&a.length?a[0]:aa}function rg(a,b,c){var d=null==a?0:a.length;if(!d)return-1;var e=null==c?0:vi(c);return 0>e&&(e=Sk(d+e,0)),u(a,b,e)}function sg(a){var b=null==a?0:a.length;return b?ge(a,0,-1):[]}function tg(a,b){return null==a?"":Qk.call(a,b)}function ug(a){var b=null==a?0:a.length;return b?a[b-1]:aa}function vg(a,b,c){var d=null==a?0:a.length;if(!d)return-1;var e=d;return c!==aa&&(e=vi(c),e=0>e?Sk(d+e,0):Tk(e,d-1)),b===b?W(a,b,e):t(a,w,e,!0)}function wg(a,b){return a&&a.length?Td(a,vi(b)):aa}function xg(a,b){return a&&a.length&&b&&b.length?Yd(a,b):a}function yg(a,b,c){return a&&a.length&&b&&b.length?Yd(a,b,tf(c,2)):a}function zg(a,b,c){return a&&a.length&&b&&b.length?Yd(a,b,aa,c):a}function Ag(a,b){var c=[];if(!a||!a.length)return c;var d=-1,e=[],f=a.length;for(b=tf(b,3);++d<f;){var g=a[d];b(g,d,a)&&(c.push(g),e.push(d))}return Zd(a,e),c}function Bg(a){return null==a?a:Xk.call(a)}function Cg(a,b,c){var d=null==a?0:a.length;return d?(c&&"number"!=typeof c&&Hf(a,b,c)?(b=0,c=d):(b=null==b?0:vi(b),c=c===aa?d:vi(c)),ge(a,b,c)):[]}function Dg(a,b){return ie(a,b)}function Eg(a,b,c){return je(a,b,tf(c,2))}function Fg(a,b){var c=null==a?0:a.length;if(c){var d=ie(a,b);if(c>d&&Sh(a[d],b))return d}return-1}function Gg(a,b){return ie(a,b,!0)}function Hg(a,b,c){return je(a,b,tf(c,2),!0)}function Ig(a,b){var c=null==a?0:a.length;if(c){var d=ie(a,b,!0)-1;if(Sh(a[d],b))return d}return-1}function Jg(a){return a&&a.length?ke(a):[]}function Kg(a,b){return a&&a.length?ke(a,tf(b,2)):[]}function Lg(a){var b=null==a?0:a.length;return b?ge(a,1,b):[]}function Mg(a,b,c){return a&&a.length?(b=c||b===aa?1:vi(b),ge(a,0,0>b?0:b)):[]}function Ng(a,b,c){var d=null==a?0:a.length;return d?(b=c||b===aa?1:vi(b),b=d-b,ge(a,0>b?0:b,d)):[]}function Og(a,b){return a&&a.length?qe(a,tf(b,3),!1,!0):[]}function Pg(a,b){return a&&a.length?qe(a,tf(b,3)):[]}function Qg(a){return a&&a.length?ne(a):[]}function Rg(a,b){return a&&a.length?ne(a,tf(b,2)):[]}function Sg(a,b){return b="function"==typeof b?b:aa,a&&a.length?ne(a,aa,b):[]}function Tg(a){if(!a||!a.length)return[];var b=0;return a=i(a,function(a){return Uh(a)?(b=Sk(a.length,b),!0):void 0}),D(b,function(b){return l(a,y(b))})}function Ug(a,b){if(!a||!a.length)return[];var c=Tg(a);return null==b?c:l(c,function(a){return d(b,aa,a)})}function Vg(a,b){return te(a||[],b||[],Bc)}function Wg(a,b){return te(a||[],b||[],ee)}function Xg(a){var c=b(a);return c.__chain__=!0,c}function Yg(a,b){return b(a),a}function Zg(a,b){return b(a)}function $g(){return Xg(this)}function _g(){return new q(this.value(),this.__chain__)}function ah(){this.__values__===aa&&(this.__values__=ti(this.value()));var a=this.__index__>=this.__values__.length,b=a?aa:this.__values__[this.__index__++];return{done:a,value:b}}function bh(){return this}function ch(a){for(var b,d=this;d instanceof c;){var e=bg(d);e.__index__=0,e.__values__=aa,b?f.__wrapped__=e:b=e;var f=e;d=d.__wrapped__}return f.__wrapped__=a,b}function dh(){var a=this.__wrapped__;if(a instanceof z){var b=a;return this.__actions__.length&&(b=new z(this)),b=b.reverse(),b.__actions__.push({func:Zg,args:[Bg],thisArg:aa}),new q(b,this.__chain__)}return this.thru(Bg)}function eh(){return re(this.__wrapped__,this.__actions__)}function fh(a,b,c){var d=pm(a)?h:Qc;return c&&Hf(a,b,c)&&(b=aa),d(a,tf(b,3))}function gh(a,b){var c=pm(a)?i:Xc;return c(a,tf(b,3))}function hh(a,b){return Yc(nh(a,b),1)}function ih(a,b){return Yc(nh(a,b),Ea)}function jh(a,b,c){return c=c===aa?1:vi(c),Yc(nh(a,b),c)}function kh(a,b){var c=pm(a)?f:nl;return c(a,tf(b,3))}function lh(a,b){var c=pm(a)?g:ol;return c(a,tf(b,3))}function mh(a,b,c,d){a=Th(a)?a:$i(a),c=c&&!d?vi(c):0;var e=a.length;return 0>c&&(c=Sk(e+c,0)),oi(a)?e>=c&&a.indexOf(b,c)>-1:!!e&&u(a,b,c)>-1}function nh(a,b){var c=pm(a)?l:Od;return c(a,tf(b,3))}function oh(a,b,c,d){return null==a?[]:(pm(b)||(b=null==b?[]:[b]),c=d?aa:c,pm(c)||(c=null==c?[]:[c]),Ud(a,b,c))}function ph(a,b,c){var d=pm(a)?n:A,e=arguments.length<3;return d(a,tf(b,4),c,e,nl)}function qh(a,b,c){var d=pm(a)?o:A,e=arguments.length<3;return d(a,tf(b,4),c,e,ol)}function rh(a,b){var c=pm(a)?i:Xc;return c(a,Fh(tf(b,3)))}function sh(a){var b=pm(a)?xc:ce;return b(a)}function th(a,b,c){b=(c?Hf(a,b,c):b===aa)?1:vi(b);var d=pm(a)?yc:de;return d(a,b)}function uh(a){var b=pm(a)?zc:fe;return b(a)}function vh(a){if(null==a)return 0;if(Th(a))return oi(a)?X(a):a.length;var b=zl(a);return b==Va||b==ab?a.size:Ld(a).length}function wh(a,b,c){var d=pm(a)?p:he;return c&&Hf(a,b,c)&&(b=aa),d(a,tf(b,3))}function xh(a,b){if("function"!=typeof b)throw new jk(ea);return a=vi(a),function(){return--a<1?b.apply(this,arguments):void 0}}function yh(a,b,c){return b=c?aa:b,b=a&&null==b?a.length:b,gf(a,ua,aa,aa,aa,aa,b)}function zh(a,b){var c;if("function"!=typeof b)throw new jk(ea);return a=vi(a),function(){return--a>0&&(c=b.apply(this,arguments)),1>=a&&(b=aa),c}}function Ah(a,b,c){b=c?aa:b;var d=gf(a,qa,aa,aa,aa,aa,aa,b);return d.placeholder=Ah.placeholder,d}function Bh(a,b,c){b=c?aa:b;var d=gf(a,ra,aa,aa,aa,aa,aa,b);return d.placeholder=Bh.placeholder,d}function Ch(a,b,c){function d(b){var c=m,d=n;return m=n=aa,s=b,p=a.apply(d,c)}function e(a){return s=a,q=Cl(h,b),t?d(a):p}function f(a){var c=a-r,d=a-s,e=b-c;return u?Tk(e,o-d):e}function g(a){var c=a-r,d=a-s;return r===aa||c>=b||0>c||u&&d>=o}function h(){var a=dm();return g(a)?i(a):void(q=Cl(h,f(a)))}function i(a){return q=aa,v&&m?d(a):(m=n=aa,p)}function j(){q!==aa&&ul(q),s=0,m=r=n=q=aa}function k(){return q===aa?p:i(dm())}function l(){var a=dm(),c=g(a);if(m=arguments,n=this,r=a,c){if(q===aa)return e(r);if(u)return ul(q),q=Cl(h,b),d(r)}return q===aa&&(q=Cl(h,b)),p}var m,n,o,p,q,r,s=0,t=!1,u=!1,v=!0;if("function"!=typeof a)throw new jk(ea);return b=xi(b)||0,di(c)&&(t=!!c.leading,u="maxWait"in c,o=u?Sk(xi(c.maxWait)||0,b):o,v="trailing"in c?!!c.trailing:v),l.cancel=j,l.flush=k,l}function Dh(a){return gf(a,wa)}function Eh(a,b){if("function"!=typeof a||null!=b&&"function"!=typeof b)throw new jk(ea);var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);var g=a.apply(this,d);return c.cache=f.set(e,g)||f,g};return c.cache=new(Eh.Cache||hc),c}function Fh(a){if("function"!=typeof a)throw new jk(ea);return function(){var b=arguments;switch(b.length){case 0:return!a.call(this);case 1:return!a.call(this,b[0]);case 2:return!a.call(this,b[0],b[1]);case 3:return!a.call(this,b[0],b[1],b[2])}return!a.apply(this,b)}}function Gh(a){return zh(2,a)}function Hh(a,b){if("function"!=typeof a)throw new jk(ea);return b=b===aa?b:vi(b),be(a,b)}function Ih(a,b){if("function"!=typeof a)throw new jk(ea);return b=null==b?0:Sk(vi(b),0),be(function(c){var e=c[b],f=xe(c,0,b);return e&&m(f,e),d(a,this,f)})}function Jh(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new jk(ea);return di(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e),Ch(a,b,{leading:d,maxWait:b,trailing:e})}function Kh(a){return yh(a,1)}function Lh(a,b){return jm(ve(b),a)}function Mh(){if(!arguments.length)return[];var a=arguments[0];return pm(a)?a:[a]}function Nh(a){return Jc(a,ka)}function Oh(a,b){return b="function"==typeof b?b:aa,Jc(a,ka,b)}function Ph(a){return Jc(a,ia|ka)}function Qh(a,b){return b="function"==typeof b?b:aa,Jc(a,ia|ka,b)}function Rh(a,b){return null==b||Nc(a,b,Ni(b))}function Sh(a,b){return a===b||a!==a&&b!==b}function Th(a){return null!=a&&ci(a.length)&&!ai(a)}function Uh(a){return ei(a)&&Th(a)}function Vh(a){return a===!0||a===!1||ei(a)&&gd(a)==Pa}function Wh(a){return ei(a)&&1===a.nodeType&&!mi(a)}function Xh(a){if(null==a)return!0;if(Th(a)&&(pm(a)||"string"==typeof a||"function"==typeof a.splice||rm(a)||wm(a)||om(a)))return!a.length;var b=zl(a);if(b==Va||b==ab)return!a.size;if(Mf(a))return!Ld(a).length;for(var c in a)if(pk.call(a,c))return!1;return!0}function Yh(a,b){return Cd(a,b)}function Zh(a,b,c){c="function"==typeof c?c:aa;var d=c?c(a,b):aa;return d===aa?Cd(a,b,aa,c):!!d}function $h(a){if(!ei(a))return!1;var b=gd(a);return b==Sa||b==Ra||"string"==typeof a.message&&"string"==typeof a.name&&!mi(a)}function _h(a){return"number"==typeof a&&Pk(a)}function ai(a){if(!di(a))return!1;var b=gd(a);return b==Ta||b==Ua||b==Oa||b==$a}function bi(a){return"number"==typeof a&&a==vi(a)}function ci(a){return"number"==typeof a&&a>-1&&a%1==0&&Fa>=a}function di(a){var b=typeof a;return null!=a&&("object"==b||"function"==b)}function ei(a){return null!=a&&"object"==typeof a}function fi(a,b){return a===b||Fd(a,b,vf(b))}function gi(a,b,c){return c="function"==typeof c?c:aa,Fd(a,b,vf(b),c)}function hi(a){return li(a)&&a!=+a}function ii(a){if(Al(a))throw new dk(da);return Gd(a)}function ji(a){return null===a}function ki(a){return null==a}function li(a){return"number"==typeof a||ei(a)&&gd(a)==Wa}function mi(a){if(!ei(a)||gd(a)!=Ya)return!1;var b=Ak(a);if(null===b)return!0;var c=pk.call(b,"constructor")&&b.constructor;return"function"==typeof c&&c instanceof c&&ok.call(c)==tk}function ni(a){return bi(a)&&a>=-Fa&&Fa>=a}function oi(a){return"string"==typeof a||!pm(a)&&ei(a)&&gd(a)==bb}function pi(a){return"symbol"==typeof a||ei(a)&&gd(a)==cb}function qi(a){return a===aa}function ri(a){return ei(a)&&zl(a)==eb}function si(a){return ei(a)&&gd(a)==fb}function ti(a){if(!a)return[];if(Th(a))return oi(a)?Y(a):Ie(a);if(Fk&&a[Fk])return P(a[Fk]());var b=zl(a),c=b==Va?Q:b==ab?T:$i;return c(a)}function ui(a){if(!a)return 0===a?a:0;if(a=xi(a),a===Ea||a===-Ea){var b=0>a?-1:1;return b*Ga}return a===a?a:0}function vi(a){var b=ui(a),c=b%1;return b===b?c?b-c:b:0}function wi(a){return a?Ic(vi(a),0,Ia):0}function xi(a){if("number"==typeof a)return a;if(pi(a))return Ha;if(di(a)){var b="function"==typeof a.valueOf?a.valueOf():a;a=di(b)?b+"":b}if("string"!=typeof a)return 0===a?a:+a;a=a.replace(Gb,"");var c=Rb.test(a);return c||Tb.test(a)?$c(a.slice(2),c?2:8):Qb.test(a)?Ha:+a}function yi(a){return Je(a,Oi(a))}function zi(a){return a?Ic(vi(a),-Fa,Fa):0===a?a:0}function Ai(a){return null==a?"":me(a)}function Bi(a,b){var c=ml(a);return null==b?c:Ec(c,b)}function Ci(a,b){return s(a,tf(b,3),_c)}function Di(a,b){return s(a,tf(b,3),ad)}function Ei(a,b){return null==a?a:pl(a,tf(b,3),Oi)}function Fi(a,b){return null==a?a:ql(a,tf(b,3),Oi)}function Gi(a,b){return a&&_c(a,tf(b,3))}function Hi(a,b){return a&&ad(a,tf(b,3))}function Ii(a){return null==a?[]:cd(a,Ni(a))}function Ji(a){return null==a?[]:cd(a,Oi(a))}function Ki(a,b,c){var d=null==a?aa:dd(a,b);return d===aa?c:d}function Li(a,b){return null!=a&&Af(a,b,rd)}function Mi(a,b){return null!=a&&Af(a,b,ud)}function Ni(a){return Th(a)?wc(a):Ld(a)}function Oi(a){return Th(a)?wc(a,!0):Md(a)}function Pi(a,b){var c={};return b=tf(b,3),_c(a,function(a,d,e){Gc(c,b(a,d,e),a)}),c}function Qi(a,b){var c={};return b=tf(b,3),_c(a,function(a,d,e){Gc(c,d,b(a,d,e))}),c}function Ri(a,b){return Si(a,Fh(tf(b)))}function Si(a,b){if(null==a)return{};var c=l(qf(a),function(a){return[a]});return b=tf(b),Wd(a,c,function(a,c){return b(a,c[0])})}function Ti(a,b,c){b=we(b,a);var d=-1,e=b.length;for(e||(e=1,a=aa);++d<e;){var f=null==a?aa:a[$f(b[d])];f===aa&&(d=e,f=c),a=ai(f)?f.call(a):f}return a}function Ui(a,b,c){return null==a?a:ee(a,b,c)}function Vi(a,b,c,d){return d="function"==typeof d?d:aa,null==a?a:ee(a,b,c,d)}function Wi(a,b,c){var d=pm(a),e=d||rm(a)||wm(a);if(b=tf(b,4),null==c){var g=a&&a.constructor;c=e?d?new g:[]:di(a)&&ai(g)?ml(Ak(a)):{}}return(e?f:_c)(a,function(a,d,e){return b(c,a,d,e)}),c}function Xi(a,b){return null==a?!0:oe(a,b)}function Yi(a,b,c){return null==a?a:pe(a,b,ve(c))}function Zi(a,b,c,d){return d="function"==typeof d?d:aa,null==a?a:pe(a,b,ve(c),d)}function $i(a){return null==a?[]:G(a,Ni(a))}function _i(a){return null==a?[]:G(a,Oi(a))}function aj(a,b,c){return c===aa&&(c=b,b=aa),c!==aa&&(c=xi(c),c=c===c?c:0),b!==aa&&(b=xi(b),b=b===b?b:0),Ic(xi(a),b,c)}function bj(a,b,c){return b=ui(b),c===aa?(c=b,b=0):c=ui(c),a=xi(a),vd(a,b,c)}function cj(a,b,c){if(c&&"boolean"!=typeof c&&Hf(a,b,c)&&(b=c=aa),c===aa&&("boolean"==typeof b?(c=b,b=aa):"boolean"==typeof a&&(c=a,a=aa)),a===aa&&b===aa?(a=0,b=1):(a=ui(a),b===aa?(b=a,a=0):b=ui(b)),a>b){var d=a;a=b,b=d}if(c||a%1||b%1){var e=Wk();return Tk(a+e*(b-a+Zc("1e-"+((e+"").length-1))),b)}return $d(a,b)}function dj(a){return Wm(Ai(a).toLowerCase())}function ej(a){return a=Ai(a),a&&a.replace(Vb,od).replace(Mc,"")}function fj(a,b,c){a=Ai(a),b=me(b);var d=a.length;c=c===aa?d:Ic(vi(c),0,d);var e=c;return c-=b.length,c>=0&&a.slice(c,e)==b}function gj(a){return a=Ai(a),a&&xb.test(a)?a.replace(vb,pd):a}function hj(a){return a=Ai(a),a&&Fb.test(a)?a.replace(Eb,"\\$&"):a}function ij(a,b,c){a=Ai(a),b=vi(b);var d=b?X(a):0;if(!b||d>=b)return a;var e=(b-d)/2;return _e(Mk(e),c)+a+_e(Lk(e),c)}function jj(a,b,c){a=Ai(a),b=vi(b);var d=b?X(a):0;return b&&b>d?a+_e(b-d,c):a}function kj(a,b,c){a=Ai(a),b=vi(b);var d=b?X(a):0;return b&&b>d?_e(b-d,c)+a:a}function lj(a,b,c){return c||null==b?b=0:b&&(b=+b),Vk(Ai(a).replace(Hb,""),b||0)}function mj(a,b,c){return b=(c?Hf(a,b,c):b===aa)?1:vi(b),ae(Ai(a),b)}function nj(){var a=arguments,b=Ai(a[0]);return a.length<3?b:b.replace(a[1],a[2])}function oj(a,b,c){return c&&"number"!=typeof c&&Hf(a,b,c)&&(b=c=aa),(c=c===aa?Ia:c>>>0)?(a=Ai(a),a&&("string"==typeof b||null!=b&&!um(b))&&(b=me(b),!b&&N(a))?xe(Y(a),0,c):a.split(b,c)):[]}function pj(a,b,c){return a=Ai(a),c=null==c?0:Ic(vi(c),0,a.length),b=me(b),a.slice(c,c+b.length)==b}function qj(a,c,d){var e=b.templateSettings;d&&Hf(a,c,d)&&(c=aa),a=Ai(a),c=Bm({},c,e,hf);var f,g,h=Bm({},c.imports,e.imports,hf),i=Ni(h),j=G(h,i),k=0,l=c.interpolate||Wb,m="__p += '",n=hk((c.escape||Wb).source+"|"+l.source+"|"+(l===Ab?Ob:Wb).source+"|"+(c.evaluate||Wb).source+"|$","g"),o="//# sourceURL="+(pk.call(c,"sourceURL")?(c.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Sc+"]")+"\n";a.replace(n,function(b,c,d,e,h,i){return d||(d=e),m+=a.slice(k,i).replace(Xb,L),c&&(f=!0,m+="' +\n__e("+c+") +\n'"),h&&(g=!0,m+="';\n"+h+";\n__p += '"),d&&(m+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),k=i+b.length,b}),m+="';\n";var p=pk.call(c,"variable")&&c.variable;p||(m="with (obj) {\n"+m+"\n}\n"),m=(g?m.replace(rb,""):m).replace(sb,"$1").replace(tb,"$1;"),m="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(f?", __e = _.escape":"")+(g?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+m+"return __p\n}";var q=Xm(function(){return ek(i,o+"return "+m).apply(aa,j)});if(q.source=m,$h(q))throw q;return q}function rj(a){return Ai(a).toLowerCase()}function sj(a){return Ai(a).toUpperCase()}function tj(a,b,c){if(a=Ai(a),a&&(c||b===aa))return a.replace(Gb,"");if(!a||!(b=me(b)))return a;var d=Y(a),e=Y(b),f=I(d,e),g=J(d,e)+1;return xe(d,f,g).join("")}function uj(a,b,c){if(a=Ai(a),a&&(c||b===aa))return a.replace(Ib,"");if(!a||!(b=me(b)))return a;var d=Y(a),e=J(d,Y(b))+1;return xe(d,0,e).join("")}function vj(a,b,c){if(a=Ai(a),a&&(c||b===aa))return a.replace(Hb,"");if(!a||!(b=me(b)))return a;var d=Y(a),e=I(d,Y(b));return xe(d,e).join("")}function wj(a,b){var c=xa,d=ya;if(di(b)){var e="separator"in b?b.separator:e;c="length"in b?vi(b.length):c,d="omission"in b?me(b.omission):d}a=Ai(a);var f=a.length;if(N(a)){var g=Y(a);f=g.length}if(c>=f)return a;var h=c-X(d);if(1>h)return d;var i=g?xe(g,0,h).join(""):a.slice(0,h);if(e===aa)return i+d;if(g&&(h+=i.length-h),um(e)){if(a.slice(h).search(e)){var j,k=i;for(e.global||(e=hk(e.source,Ai(Pb.exec(e))+"g")),e.lastIndex=0;j=e.exec(k);)var l=j.index;i=i.slice(0,l===aa?h:l)}}else if(a.indexOf(me(e),h)!=h){var m=i.lastIndexOf(e);m>-1&&(i=i.slice(0,m))}return i+d}function xj(a){return a=Ai(a),a&&wb.test(a)?a.replace(ub,qd):a}function yj(a,b,c){return a=Ai(a),b=c?aa:b,b===aa?O(a)?_(a):r(a):a.match(b)||[]}function zj(a){var b=null==a?0:a.length,c=tf();return a=b?l(a,function(a){if("function"!=typeof a[1])throw new jk(ea);return[c(a[0]),a[1]]}):[],be(function(c){for(var e=-1;++e<b;){var f=a[e];if(d(f[0],this,c))return d(f[1],this,c)}})}function Aj(a){return Kc(Jc(a,ia))}function Bj(a){return function(){return a}}function Cj(a,b){return null==a||a!==a?b:a}function Dj(a){return a}function Ej(a){return Kd("function"==typeof a?a:Jc(a,ia))}function Fj(a){return Pd(Jc(a,ia))}function Gj(a,b){return Qd(a,Jc(b,ia))}function Hj(a,b,c){var d=Ni(b),e=cd(b,d);null!=c||di(b)&&(e.length||!d.length)||(c=b,b=a,a=this,e=cd(b,Ni(b)));var g=!(di(c)&&"chain"in c&&!c.chain),h=ai(a);return f(e,function(c){var d=b[c];a[c]=d,h&&(a.prototype[c]=function(){var b=this.__chain__;if(g||b){var c=a(this.__wrapped__),e=c.__actions__=Ie(this.__actions__);return e.push({func:d,args:arguments,thisArg:a}),c.__chain__=b,c}return d.apply(a,m([this.value()],arguments))})}),a}function Ij(){return bd._===this&&(bd._=uk),this}function Jj(){}function Kj(a){return a=vi(a),be(function(b){return Td(b,a)})}function Lj(a){return If(a)?y($f(a)):Xd(a)}function Mj(a){return function(b){return null==a?aa:dd(a,b)}}function Nj(){return[]}function Oj(){return!1}function Pj(){return{}}function Qj(){return""}function Rj(){return!0}function Sj(a,b){if(a=vi(a),1>a||a>Fa)return[];var c=Ia,d=Tk(a,Ia);b=tf(b),a-=Ia;for(var e=D(d,b);++c<a;)b(c);return e}function Tj(a){return pm(a)?l(a,$f):pi(a)?[a]:Ie(El(Ai(a)))}function Uj(a){var b=++qk;return Ai(a)+b}function Vj(a){return a&&a.length?Vc(a,Dj,nd):aa}function Wj(a,b){return a&&a.length?Vc(a,tf(b,2),nd):aa}function Xj(a){return x(a,Dj)}function Yj(a,b){return x(a,tf(b,2))}function Zj(a){return a&&a.length?Vc(a,Dj,Nd):aa}function $j(a,b){return a&&a.length?Vc(a,tf(b,2),Nd):aa}function _j(a){return a&&a.length?C(a,Dj):0}function ak(a,b){return a&&a.length?C(a,tf(b,2)):0}a=null==a?bd:sd.defaults(bd.Object(),a,sd.pick(bd,Rc));var bk=a.Array,ck=a.Date,dk=a.Error,ek=a.Function,fk=a.Math,gk=a.Object,hk=a.RegExp,ik=a.String,jk=a.TypeError,kk=bk.prototype,lk=ek.prototype,mk=gk.prototype,nk=a["__core-js_shared__"],ok=lk.toString,pk=mk.hasOwnProperty,qk=0,rk=function(){var a=/[^.]+$/.exec(nk&&nk.keys&&nk.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),sk=mk.toString,tk=ok.call(gk),uk=bd._,vk=hk("^"+ok.call(pk).replace(Eb,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wk=ed?a.Buffer:aa,xk=a.Symbol,yk=a.Uint8Array,zk=wk?wk.allocUnsafe:aa,Ak=R(gk.getPrototypeOf,gk),Bk=gk.create,Ck=mk.propertyIsEnumerable,Dk=kk.splice,Ek=xk?xk.isConcatSpreadable:aa,Fk=xk?xk.iterator:aa,Gk=xk?xk.toStringTag:aa,Hk=function(){try{var a=wf(gk,"defineProperty");return a({},"",{}),a}catch(b){}}(),Ik=a.clearTimeout!==bd.clearTimeout&&a.clearTimeout,Jk=ck&&ck.now!==bd.Date.now&&ck.now,Kk=a.setTimeout!==bd.setTimeout&&a.setTimeout,Lk=fk.ceil,Mk=fk.floor,Nk=gk.getOwnPropertySymbols,Ok=wk?wk.isBuffer:aa,Pk=a.isFinite,Qk=kk.join,Rk=R(gk.keys,gk),Sk=fk.max,Tk=fk.min,Uk=ck.now,Vk=a.parseInt,Wk=fk.random,Xk=kk.reverse,Yk=wf(a,"DataView"),Zk=wf(a,"Map"),$k=wf(a,"Promise"),_k=wf(a,"Set"),al=wf(a,"WeakMap"),bl=wf(gk,"create"),cl=al&&new al,dl={},el=_f(Yk),fl=_f(Zk),gl=_f($k),hl=_f(_k),il=_f(al),jl=xk?xk.prototype:aa,kl=jl?jl.valueOf:aa,ll=jl?jl.toString:aa,ml=function(){function a(){}return function(b){if(!di(b))return{};if(Bk)return Bk(b);a.prototype=b;var c=new a;return a.prototype=aa,c}}();b.templateSettings={escape:yb,evaluate:zb,interpolate:Ab,variable:"",imports:{_:b}},b.prototype=c.prototype,b.prototype.constructor=b,q.prototype=ml(c.prototype),q.prototype.constructor=q,z.prototype=ml(c.prototype),z.prototype.constructor=z,Mb.prototype.clear=Yb,Mb.prototype["delete"]=Zb,Mb.prototype.get=$b,Mb.prototype.has=_b,Mb.prototype.set=ac,bc.prototype.clear=cc,bc.prototype["delete"]=dc,bc.prototype.get=ec,bc.prototype.has=fc,bc.prototype.set=gc,hc.prototype.clear=ic,hc.prototype["delete"]=jc,hc.prototype.get=kc,hc.prototype.has=lc,hc.prototype.set=mc,nc.prototype.add=nc.prototype.push=oc,nc.prototype.has=pc,qc.prototype.clear=rc,qc.prototype["delete"]=sc,qc.prototype.get=tc,qc.prototype.has=uc,qc.prototype.set=vc;var nl=Oe(_c),ol=Oe(ad,!0),pl=Pe(),ql=Pe(!0),rl=cl?function(a,b){return cl.set(a,b),a}:Dj,sl=Hk?function(a,b){return Hk(a,"toString",{configurable:!0,enumerable:!1,value:Bj(b),writable:!0})}:Dj,tl=be,ul=Ik||function(a){return bd.clearTimeout(a)},vl=_k&&1/T(new _k([,-0]))[1]==Ea?function(a){return new _k(a)}:Jj,wl=cl?function(a){return cl.get(a)}:Jj,xl=Nk?function(a){return null==a?[]:(a=gk(a),i(Nk(a),function(b){return Ck.call(a,b)}))}:Nj,yl=Nk?function(a){for(var b=[];a;)m(b,xl(a)),a=Ak(a);return b}:Nj,zl=gd;(Yk&&zl(new Yk(new ArrayBuffer(1)))!=hb||Zk&&zl(new Zk)!=Va||$k&&zl($k.resolve())!=Za||_k&&zl(new _k)!=ab||al&&zl(new al)!=eb)&&(zl=function(a){var b=gd(a),c=b==Ya?a.constructor:aa,d=c?_f(c):"";if(d)switch(d){case el:return hb;case fl:return Va;case gl:return Za;case hl:return ab;case il:return eb}return b});var Al=nk?ai:Oj,Bl=Yf(rl),Cl=Kk||function(a,b){return bd.setTimeout(a,b)},Dl=Yf(sl),El=Pf(function(a){var b=[];return 46===a.charCodeAt(0)&&b.push(""),a.replace(Db,function(a,c,d,e){b.push(d?e.replace(Nb,"$1"):c||a)}),b}),Fl=be(function(a,b){return Uh(a)?Pc(a,Yc(b,1,Uh,!0)):[]}),Gl=be(function(a,b){var c=ug(b);return Uh(c)&&(c=aa),Uh(a)?Pc(a,Yc(b,1,Uh,!0),tf(c,2)):[]}),Hl=be(function(a,b){var c=ug(b);return Uh(c)&&(c=aa),Uh(a)?Pc(a,Yc(b,1,Uh,!0),aa,c):[]}),Il=be(function(a){var b=l(a,ue);return b.length&&b[0]===a[0]?wd(b):[]}),Jl=be(function(a){var b=ug(a),c=l(a,ue);return b===ug(c)?b=aa:c.pop(),c.length&&c[0]===a[0]?wd(c,tf(b,2)):[]}),Kl=be(function(a){var b=ug(a),c=l(a,ue);return b="function"==typeof b?b:aa,b&&c.pop(),c.length&&c[0]===a[0]?wd(c,aa,b):[]}),Ll=be(xg),Ml=of(function(a,b){var c=null==a?0:a.length,d=Hc(a,b);return Zd(a,l(b,function(a){return Gf(a,c)?+a:a}).sort(Ee)),d}),Nl=be(function(a){return ne(Yc(a,1,Uh,!0))}),Ol=be(function(a){var b=ug(a);return Uh(b)&&(b=aa),ne(Yc(a,1,Uh,!0),tf(b,2))}),Pl=be(function(a){var b=ug(a);return b="function"==typeof b?b:aa,ne(Yc(a,1,Uh,!0),aa,b)}),Ql=be(function(a,b){return Uh(a)?Pc(a,b):[]}),Rl=be(function(a){return se(i(a,Uh))}),Sl=be(function(a){var b=ug(a);return Uh(b)&&(b=aa),se(i(a,Uh),tf(b,2))}),Tl=be(function(a){var b=ug(a);return b="function"==typeof b?b:aa,se(i(a,Uh),aa,b)}),Ul=be(Tg),Vl=be(function(a){var b=a.length,c=b>1?a[b-1]:aa;return c="function"==typeof c?(a.pop(),c):aa,Ug(a,c)}),Wl=of(function(a){var b=a.length,c=b?a[0]:0,d=this.__wrapped__,e=function(b){return Hc(b,a)};return!(b>1||this.__actions__.length)&&d instanceof z&&Gf(c)?(d=d.slice(c,+c+(b?1:0)),d.__actions__.push({func:Zg,args:[e],thisArg:aa}),new q(d,this.__chain__).thru(function(a){return b&&!a.length&&a.push(aa),a})):this.thru(e)}),Xl=Me(function(a,b,c){pk.call(a,c)?++a[c]:Gc(a,c,1)}),Yl=Ve(kg),Zl=Ve(lg),$l=Me(function(a,b,c){pk.call(a,c)?a[c].push(b):Gc(a,c,[b])}),_l=be(function(a,b,c){var e=-1,f="function"==typeof b,g=Th(a)?bk(a.length):[];return nl(a,function(a){g[++e]=f?d(b,a,c):yd(a,b,c)}),g}),am=Me(function(a,b,c){Gc(a,c,b)}),bm=Me(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),cm=be(function(a,b){if(null==a)return[];var c=b.length;return c>1&&Hf(a,b[0],b[1])?b=[]:c>2&&Hf(b[0],b[1],b[2])&&(b=[b[0]]),Ud(a,Yc(b,1),[])}),dm=Jk||function(){return bd.Date.now()},em=be(function(a,b,c){var d=na;if(c.length){var e=S(c,sf(em));d|=sa}return gf(a,d,b,c,e)}),fm=be(function(a,b,c){var d=na|oa;if(c.length){var e=S(c,sf(fm));d|=sa}return gf(b,d,a,c,e)}),gm=be(function(a,b){return Oc(a,1,b)}),hm=be(function(a,b,c){return Oc(a,xi(b)||0,c)});Eh.Cache=hc;var im=tl(function(a,b){b=1==b.length&&pm(b[0])?l(b[0],F(tf())):l(Yc(b,1),F(tf()));var c=b.length;return be(function(e){for(var f=-1,g=Tk(e.length,c);++f<g;)e[f]=b[f].call(this,e[f]);return d(a,this,e)})}),jm=be(function(a,b){var c=S(b,sf(jm));return gf(a,sa,aa,b,c);
}),km=be(function(a,b){var c=S(b,sf(km));return gf(a,ta,aa,b,c)}),lm=of(function(a,b){return gf(a,va,aa,aa,aa,b)}),mm=cf(nd),nm=cf(function(a,b){return a>=b}),om=zd(function(){return arguments}())?zd:function(a){return ei(a)&&pk.call(a,"callee")&&!Ck.call(a,"callee")},pm=bk.isArray,qm=hd?F(hd):Ad,rm=Ok||Oj,sm=id?F(id):Bd,tm=jd?F(jd):Ed,um=kd?F(kd):Hd,vm=ld?F(ld):Id,wm=md?F(md):Jd,xm=cf(Nd),ym=cf(function(a,b){return b>=a}),zm=Ne(function(a,b){if(Mf(b)||Th(b))return void Je(b,Ni(b),a);for(var c in b)pk.call(b,c)&&Bc(a,c,b[c])}),Am=Ne(function(a,b){Je(b,Oi(b),a)}),Bm=Ne(function(a,b,c,d){Je(b,Oi(b),a,d)}),Cm=Ne(function(a,b,c,d){Je(b,Ni(b),a,d)}),Dm=of(Hc),Em=be(function(a,b){a=gk(a);var c=-1,d=b.length,e=d>2?b[2]:aa;for(e&&Hf(b[0],b[1],e)&&(d=1);++c<d;)for(var f=b[c],g=Oi(f),h=-1,i=g.length;++h<i;){var j=g[h],k=a[j];(k===aa||Sh(k,mk[j])&&!pk.call(a,j))&&(a[j]=f[j])}return a}),Fm=be(function(a){return a.push(aa,jf),d(Km,aa,a)}),Gm=Ye(function(a,b,c){null!=b&&"function"!=typeof b.toString&&(b=sk.call(b)),a[b]=c},Bj(Dj)),Hm=Ye(function(a,b,c){null!=b&&"function"!=typeof b.toString&&(b=sk.call(b)),pk.call(a,b)?a[b].push(c):a[b]=[c]},tf),Im=be(yd),Jm=Ne(function(a,b,c){Rd(a,b,c)}),Km=Ne(function(a,b,c,d){Rd(a,b,c,d)}),Lm=of(function(a,b){var c={};if(null==a)return c;var d=!1;b=l(b,function(b){return b=we(b,a),d||(d=b.length>1),b}),Je(a,qf(a),c),d&&(c=Jc(c,ia|ja|ka,kf));for(var e=b.length;e--;)oe(c,b[e]);return c}),Mm=of(function(a,b){return null==a?{}:Vd(a,b)}),Nm=ff(Ni),Om=ff(Oi),Pm=Se(function(a,b,c){return b=b.toLowerCase(),a+(c?dj(b):b)}),Qm=Se(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),Rm=Se(function(a,b,c){return a+(c?" ":"")+b.toLowerCase()}),Sm=Re("toLowerCase"),Tm=Se(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),Um=Se(function(a,b,c){return a+(c?" ":"")+Wm(b)}),Vm=Se(function(a,b,c){return a+(c?" ":"")+b.toUpperCase()}),Wm=Re("toUpperCase"),Xm=be(function(a,b){try{return d(a,aa,b)}catch(c){return $h(c)?c:new dk(c)}}),Ym=of(function(a,b){return f(b,function(b){b=$f(b),Gc(a,b,em(a[b],a))}),a}),Zm=We(),$m=We(!0),_m=be(function(a,b){return function(c){return yd(c,a,b)}}),an=be(function(a,b){return function(c){return yd(a,c,b)}}),bn=$e(l),cn=$e(h),dn=$e(p),en=bf(),fn=bf(!0),gn=Ze(function(a,b){return a+b},0),hn=ef("ceil"),jn=Ze(function(a,b){return a/b},1),kn=ef("floor"),ln=Ze(function(a,b){return a*b},1),mn=ef("round"),nn=Ze(function(a,b){return a-b},0);return b.after=xh,b.ary=yh,b.assign=zm,b.assignIn=Am,b.assignInWith=Bm,b.assignWith=Cm,b.at=Dm,b.before=zh,b.bind=em,b.bindAll=Ym,b.bindKey=fm,b.castArray=Mh,b.chain=Xg,b.chunk=cg,b.compact=dg,b.concat=eg,b.cond=zj,b.conforms=Aj,b.constant=Bj,b.countBy=Xl,b.create=Bi,b.curry=Ah,b.curryRight=Bh,b.debounce=Ch,b.defaults=Em,b.defaultsDeep=Fm,b.defer=gm,b.delay=hm,b.difference=Fl,b.differenceBy=Gl,b.differenceWith=Hl,b.drop=fg,b.dropRight=gg,b.dropRightWhile=hg,b.dropWhile=ig,b.fill=jg,b.filter=gh,b.flatMap=hh,b.flatMapDeep=ih,b.flatMapDepth=jh,b.flatten=mg,b.flattenDeep=ng,b.flattenDepth=og,b.flip=Dh,b.flow=Zm,b.flowRight=$m,b.fromPairs=pg,b.functions=Ii,b.functionsIn=Ji,b.groupBy=$l,b.initial=sg,b.intersection=Il,b.intersectionBy=Jl,b.intersectionWith=Kl,b.invert=Gm,b.invertBy=Hm,b.invokeMap=_l,b.iteratee=Ej,b.keyBy=am,b.keys=Ni,b.keysIn=Oi,b.map=nh,b.mapKeys=Pi,b.mapValues=Qi,b.matches=Fj,b.matchesProperty=Gj,b.memoize=Eh,b.merge=Jm,b.mergeWith=Km,b.method=_m,b.methodOf=an,b.mixin=Hj,b.negate=Fh,b.nthArg=Kj,b.omit=Lm,b.omitBy=Ri,b.once=Gh,b.orderBy=oh,b.over=bn,b.overArgs=im,b.overEvery=cn,b.overSome=dn,b.partial=jm,b.partialRight=km,b.partition=bm,b.pick=Mm,b.pickBy=Si,b.property=Lj,b.propertyOf=Mj,b.pull=Ll,b.pullAll=xg,b.pullAllBy=yg,b.pullAllWith=zg,b.pullAt=Ml,b.range=en,b.rangeRight=fn,b.rearg=lm,b.reject=rh,b.remove=Ag,b.rest=Hh,b.reverse=Bg,b.sampleSize=th,b.set=Ui,b.setWith=Vi,b.shuffle=uh,b.slice=Cg,b.sortBy=cm,b.sortedUniq=Jg,b.sortedUniqBy=Kg,b.split=oj,b.spread=Ih,b.tail=Lg,b.take=Mg,b.takeRight=Ng,b.takeRightWhile=Og,b.takeWhile=Pg,b.tap=Yg,b.throttle=Jh,b.thru=Zg,b.toArray=ti,b.toPairs=Nm,b.toPairsIn=Om,b.toPath=Tj,b.toPlainObject=yi,b.transform=Wi,b.unary=Kh,b.union=Nl,b.unionBy=Ol,b.unionWith=Pl,b.uniq=Qg,b.uniqBy=Rg,b.uniqWith=Sg,b.unset=Xi,b.unzip=Tg,b.unzipWith=Ug,b.update=Yi,b.updateWith=Zi,b.values=$i,b.valuesIn=_i,b.without=Ql,b.words=yj,b.wrap=Lh,b.xor=Rl,b.xorBy=Sl,b.xorWith=Tl,b.zip=Ul,b.zipObject=Vg,b.zipObjectDeep=Wg,b.zipWith=Vl,b.entries=Nm,b.entriesIn=Om,b.extend=Am,b.extendWith=Bm,Hj(b,b),b.add=gn,b.attempt=Xm,b.camelCase=Pm,b.capitalize=dj,b.ceil=hn,b.clamp=aj,b.clone=Nh,b.cloneDeep=Ph,b.cloneDeepWith=Qh,b.cloneWith=Oh,b.conformsTo=Rh,b.deburr=ej,b.defaultTo=Cj,b.divide=jn,b.endsWith=fj,b.eq=Sh,b.escape=gj,b.escapeRegExp=hj,b.every=fh,b.find=Yl,b.findIndex=kg,b.findKey=Ci,b.findLast=Zl,b.findLastIndex=lg,b.findLastKey=Di,b.floor=kn,b.forEach=kh,b.forEachRight=lh,b.forIn=Ei,b.forInRight=Fi,b.forOwn=Gi,b.forOwnRight=Hi,b.get=Ki,b.gt=mm,b.gte=nm,b.has=Li,b.hasIn=Mi,b.head=qg,b.identity=Dj,b.includes=mh,b.indexOf=rg,b.inRange=bj,b.invoke=Im,b.isArguments=om,b.isArray=pm,b.isArrayBuffer=qm,b.isArrayLike=Th,b.isArrayLikeObject=Uh,b.isBoolean=Vh,b.isBuffer=rm,b.isDate=sm,b.isElement=Wh,b.isEmpty=Xh,b.isEqual=Yh,b.isEqualWith=Zh,b.isError=$h,b.isFinite=_h,b.isFunction=ai,b.isInteger=bi,b.isLength=ci,b.isMap=tm,b.isMatch=fi,b.isMatchWith=gi,b.isNaN=hi,b.isNative=ii,b.isNil=ki,b.isNull=ji,b.isNumber=li,b.isObject=di,b.isObjectLike=ei,b.isPlainObject=mi,b.isRegExp=um,b.isSafeInteger=ni,b.isSet=vm,b.isString=oi,b.isSymbol=pi,b.isTypedArray=wm,b.isUndefined=qi,b.isWeakMap=ri,b.isWeakSet=si,b.join=tg,b.kebabCase=Qm,b.last=ug,b.lastIndexOf=vg,b.lowerCase=Rm,b.lowerFirst=Sm,b.lt=xm,b.lte=ym,b.max=Vj,b.maxBy=Wj,b.mean=Xj,b.meanBy=Yj,b.min=Zj,b.minBy=$j,b.stubArray=Nj,b.stubFalse=Oj,b.stubObject=Pj,b.stubString=Qj,b.stubTrue=Rj,b.multiply=ln,b.nth=wg,b.noConflict=Ij,b.noop=Jj,b.now=dm,b.pad=ij,b.padEnd=jj,b.padStart=kj,b.parseInt=lj,b.random=cj,b.reduce=ph,b.reduceRight=qh,b.repeat=mj,b.replace=nj,b.result=Ti,b.round=mn,b.runInContext=td,b.sample=sh,b.size=vh,b.snakeCase=Tm,b.some=wh,b.sortedIndex=Dg,b.sortedIndexBy=Eg,b.sortedIndexOf=Fg,b.sortedLastIndex=Gg,b.sortedLastIndexBy=Hg,b.sortedLastIndexOf=Ig,b.startCase=Um,b.startsWith=pj,b.subtract=nn,b.sum=_j,b.sumBy=ak,b.template=qj,b.times=Sj,b.toFinite=ui,b.toInteger=vi,b.toLength=wi,b.toLower=rj,b.toNumber=xi,b.toSafeInteger=zi,b.toString=Ai,b.toUpper=sj,b.trim=tj,b.trimEnd=uj,b.trimStart=vj,b.truncate=wj,b.unescape=xj,b.uniqueId=Uj,b.upperCase=Vm,b.upperFirst=Wm,b.each=kh,b.eachRight=lh,b.first=qg,Hj(b,function(){var a={};return _c(b,function(c,d){pk.call(b.prototype,d)||(a[d]=c)}),a}(),{chain:!1}),b.VERSION=ba,f(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){b[a].placeholder=b}),f(["drop","take"],function(a,b){z.prototype[a]=function(c){c=c===aa?1:Sk(vi(c),0);var d=this.__filtered__&&!b?new z(this):this.clone();return d.__filtered__?d.__takeCount__=Tk(c,d.__takeCount__):d.__views__.push({size:Tk(c,Ia),type:a+(d.__dir__<0?"Right":"")}),d},z.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}}),f(["filter","map","takeWhile"],function(a,b){var c=b+1,d=c==Ba||c==Da;z.prototype[a]=function(a){var b=this.clone();return b.__iteratees__.push({iteratee:tf(a,3),type:c}),b.__filtered__=b.__filtered__||d,b}}),f(["head","last"],function(a,b){var c="take"+(b?"Right":"");z.prototype[a]=function(){return this[c](1).value()[0]}}),f(["initial","tail"],function(a,b){var c="drop"+(b?"":"Right");z.prototype[a]=function(){return this.__filtered__?new z(this):this[c](1)}}),z.prototype.compact=function(){return this.filter(Dj)},z.prototype.find=function(a){return this.filter(a).head()},z.prototype.findLast=function(a){return this.reverse().find(a)},z.prototype.invokeMap=be(function(a,b){return"function"==typeof a?new z(this):this.map(function(c){return yd(c,a,b)})}),z.prototype.reject=function(a){return this.filter(Fh(tf(a)))},z.prototype.slice=function(a,b){a=vi(a);var c=this;return c.__filtered__&&(a>0||0>b)?new z(c):(0>a?c=c.takeRight(-a):a&&(c=c.drop(a)),b!==aa&&(b=vi(b),c=0>b?c.dropRight(-b):c.take(b-a)),c)},z.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},z.prototype.toArray=function(){return this.take(Ia)},_c(z.prototype,function(a,c){var d=/^(?:filter|find|map|reject)|While$/.test(c),e=/^(?:head|last)$/.test(c),f=b[e?"take"+("last"==c?"Right":""):c],g=e||/^find/.test(c);f&&(b.prototype[c]=function(){var c=this.__wrapped__,h=e?[1]:arguments,i=c instanceof z,j=h[0],k=i||pm(c),l=function(a){var c=f.apply(b,m([a],h));return e&&n?c[0]:c};k&&d&&"function"==typeof j&&1!=j.length&&(i=k=!1);var n=this.__chain__,o=!!this.__actions__.length,p=g&&!n,r=i&&!o;if(!g&&k){c=r?c:new z(this);var s=a.apply(c,h);return s.__actions__.push({func:Zg,args:[l],thisArg:aa}),new q(s,n)}return p&&r?a.apply(this,h):(s=this.thru(l),p?e?s.value()[0]:s.value():s)})}),f(["pop","push","shift","sort","splice","unshift"],function(a){var c=kk[a],d=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",e=/^(?:pop|shift)$/.test(a);b.prototype[a]=function(){var a=arguments;if(e&&!this.__chain__){var b=this.value();return c.apply(pm(b)?b:[],a)}return this[d](function(b){return c.apply(pm(b)?b:[],a)})}}),_c(z.prototype,function(a,c){var d=b[c];if(d){var e=d.name+"";pk.call(dl,e)||(dl[e]=[]),dl[e].push({name:c,func:d})}}),dl[Xe(aa,oa).name]=[{name:"wrapper",func:aa}],z.prototype.clone=V,z.prototype.reverse=Z,z.prototype.value=$,b.prototype.at=Wl,b.prototype.chain=$g,b.prototype.commit=_g,b.prototype.next=ah,b.prototype.plant=ch,b.prototype.reverse=dh,b.prototype.toJSON=b.prototype.valueOf=b.prototype.value=eh,b.prototype.first=b.prototype.head,Fk&&(b.prototype[Fk]=bh),b},sd=rd();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(bd._=sd,define(function(){return sd})):dd?((dd.exports=sd)._=sd,cd._=sd):bd._=sd}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],52:[function(a,b,c){"use strict";function d(a,b){var c=Object.keys(b).map(function(a){return parseInt(a,10)}).filter(function(b){return b>a}).sort(function(a,b){return a-b});return c.length>0?c[0]:0}Object.defineProperty(c,"__esModule",{value:!0}),c.isResponsiveDisabled=c.getLastBreakPoint=c.constructCurrentSlotSizeMap=c.constructClientSideUrl=void 0;var e=a(53),f=375,g=function(a,b,c,e){var f=a.split(","),g=new Map;return f.filter(function(a){return a in b}).map(function(a){if(a in b){var f=b[a],g=d(c,f);if(e){var h=d(e,f);if(h===g||f[""+g]===f[""+h])return null}return[a,g>0?f[g.toString()]:0]}}).filter(function(a){return null!==a}).forEach(function(a){return g.set(a[0],a[1])}),g};c.constructCurrentSlotSizeMap=g;var h=function(a,b,c,d,h){if(!e.isDefined(a)||""===a||!e.isDefined(b)||""===b||!e.isDefined(c)||0===Object.keys(c).length)return"";var j=e.isDefined(window)?window.innerWidth:f,k=g(b,c,j,d),l="";return k.forEach(function(a,b){i(b,h,j)||(l+=b+"="+a+",")}),l=l.replace(new RegExp(",$"),""),l=encodeURIComponent(l),l=l.length>0?"&slotSizeMap="+l:"",l.length>0?""+a+l:""};c.constructClientSideUrl=h,c.getLastBreakPoint=d;var i=function(a,b,c){if(!(b&&a&&a in b&&c))return!1;var d=Object.keys(b[a]).map(function(a){return parseInt(a,10)}).sort(),f=e.find(d,function(c){return!b[a][c]})||0,g=e.find(d,function(c){return b[a][c]})||0;return c>f&&g>=c};c.isResponsiveDisabled=i},{53:53}],53:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.isDefined=c.find=void 0,c.find=function(a,b){for(var c=0,d=a;c<d.length;c++){var e=d[c],f=b(e);if(f)return e}},c.isDefined=function(a){return"undefined"!=typeof a}},{}],54:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.constructClientSideUrl=c.isDefined=void 0;var d=a(52);Object.defineProperty(c,"constructClientSideUrl",{enumerable:!0,get:function(){return d.constructClientSideUrl}});var e=a(53);Object.defineProperty(c,"isDefined",{enumerable:!0,get:function(){return e.isDefined}})},{52:52,53:53}],55:[function(a,b,c){"use strict";function d(a){document.location.hash.match("debug=1")&&"undefined"!=typeof a&&console.error(a)}function e(a,b){if("consoleLog"in window&&"generic"in window&&"ad_utils"in window&&"custom"in window&&"monitoring"in window.generic&&"document_is_ready"in window.generic)try{a.call(this)}catch(c){"undefined"!=typeof b&&(c.message=b+" "+c.message),window.ueLogError&&(c.attribution="Advertising",c.logLevel="ERROR",window.ueLogError(c)),d(c.message)}else d(b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e},{}],56:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}var e=a(55),f=d(e);!function(){function a(){window.jQuery&&(clearTimeout(b),window.jQuery(function(){window.generic.document_is_ready()}),window.generic.monitoring.stop_timing("page_load","",!0),window.generic.monitoring.all_events_started())}var b=setInterval(function(){return f["default"](a,"No monitoring or document_is_ready object in generic")},50)}()},{55:55}]},{},[17]);